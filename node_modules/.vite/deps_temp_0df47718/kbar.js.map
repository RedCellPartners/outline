{
  "version": 3,
  "sources": ["../../kbar/lib/utils.js", "../../fast-equals/src/utils.ts", "../../fast-equals/src/comparator.ts", "../../fast-equals/src/index.ts", "../../kbar/lib/action/Command.js", "../../kbar/lib/action/ActionImpl.js", "../../kbar/lib/action/ActionInterface.js", "../../kbar/lib/action/HistoryImpl.js", "../../kbar/lib/types.js", "../../kbar/lib/useStore.js", "../../kbar/lib/tinykeys.js", "../../kbar/lib/InternalEvents.js", "../../kbar/lib/KBarContextProvider.js", "../../kbar/lib/useKBar.js", "../../kbar/lib/useMatches.js", "../../@radix-ui/react-compose-refs/dist/packages/react/compose-refs/src/index.ts", "../../@radix-ui/react-compose-refs/dist/packages/react/compose-refs/src/composeRefs.tsx", "../../@radix-ui/react-slot/dist/packages/react/slot/src/index.ts", "../../@radix-ui/react-slot/dist/packages/react/slot/src/Slot.tsx", "../../@radix-ui/react-primitive/dist/packages/react/primitive/src/index.ts", "../../@radix-ui/react-primitive/dist/packages/react/primitive/src/Primitive.tsx", "../../@radix-ui/react-portal/dist/packages/react/portal/src/index.ts", "../../@radix-ui/react-portal/dist/packages/react/portal/src/Portal.tsx", "../../kbar/lib/KBarPortal.js", "../../kbar/lib/KBarPositioner.js", "../../kbar/lib/KBarSearch.js", "../../react-virtual/node_modules/@reach/observe-rect/dist/observe-rect.esm.js", "../../react-virtual/src/useIsomorphicLayoutEffect.js", "../../react-virtual/src/useRect.js", "../../react-virtual/src/index.js", "../../kbar/lib/KBarResults.js", "../../kbar/lib/useRegisterActions.js", "../../kbar/lib/KBarAnimator.js", "../../kbar/lib/action/index.js", "../../kbar/lib/index.js"],
  "sourcesContent": ["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Priority = exports.isModKey = exports.shouldRejectKeystrokes = exports.useThrottledValue = exports.getScrollbarWidth = exports.useIsomorphicLayout = exports.noop = exports.createAction = exports.randomId = exports.usePointerMovedSinceMount = exports.useOuterClick = exports.swallowEvent = void 0;\nvar React = __importStar(require(\"react\"));\nfunction swallowEvent(event) {\n    event.stopPropagation();\n    event.preventDefault();\n}\nexports.swallowEvent = swallowEvent;\nfunction useOuterClick(dom, cb) {\n    var cbRef = React.useRef(cb);\n    cbRef.current = cb;\n    React.useEffect(function () {\n        function handler(event) {\n            var _a, _b;\n            if (((_a = dom.current) === null || _a === void 0 ? void 0 : _a.contains(event.target)) ||\n                // Add support for ReactShadowRoot\n                // @ts-expect-error wrong types, the `host` property exists https://stackoverflow.com/a/25340456\n                event.target === ((_b = dom.current) === null || _b === void 0 ? void 0 : _b.getRootNode().host)) {\n                return;\n            }\n            event.preventDefault();\n            event.stopPropagation();\n            cbRef.current();\n        }\n        window.addEventListener(\"pointerdown\", handler, true);\n        return function () { return window.removeEventListener(\"pointerdown\", handler, true); };\n    }, [dom]);\n}\nexports.useOuterClick = useOuterClick;\nfunction usePointerMovedSinceMount() {\n    var _a = React.useState(false), moved = _a[0], setMoved = _a[1];\n    React.useEffect(function () {\n        function handler() {\n            setMoved(true);\n        }\n        if (!moved) {\n            window.addEventListener(\"pointermove\", handler);\n            return function () { return window.removeEventListener(\"pointermove\", handler); };\n        }\n    }, [moved]);\n    return moved;\n}\nexports.usePointerMovedSinceMount = usePointerMovedSinceMount;\nfunction randomId() {\n    return Math.random().toString(36).substring(2, 9);\n}\nexports.randomId = randomId;\nfunction createAction(params) {\n    return __assign({ id: randomId() }, params);\n}\nexports.createAction = createAction;\nfunction noop() { }\nexports.noop = noop;\nexports.useIsomorphicLayout = typeof window === \"undefined\" ? noop : React.useLayoutEffect;\n// https://stackoverflow.com/questions/13382516/getting-scroll-bar-width-using-javascript\nfunction getScrollbarWidth() {\n    var outer = document.createElement(\"div\");\n    outer.style.visibility = \"hidden\";\n    outer.style.overflow = \"scroll\";\n    document.body.appendChild(outer);\n    var inner = document.createElement(\"div\");\n    outer.appendChild(inner);\n    var scrollbarWidth = outer.offsetWidth - inner.offsetWidth;\n    outer.parentNode.removeChild(outer);\n    return scrollbarWidth;\n}\nexports.getScrollbarWidth = getScrollbarWidth;\nfunction useThrottledValue(value, ms) {\n    if (ms === void 0) { ms = 100; }\n    var _a = React.useState(value), throttledValue = _a[0], setThrottledValue = _a[1];\n    var lastRan = React.useRef(Date.now());\n    React.useEffect(function () {\n        if (ms === 0)\n            return;\n        var timeout = setTimeout(function () {\n            setThrottledValue(value);\n            lastRan.current = Date.now();\n        }, lastRan.current - (Date.now() - ms));\n        return function () {\n            clearTimeout(timeout);\n        };\n    }, [ms, value]);\n    return ms === 0 ? value : throttledValue;\n}\nexports.useThrottledValue = useThrottledValue;\nfunction shouldRejectKeystrokes(_a) {\n    var _b, _c, _d;\n    var _e = _a === void 0 ? { ignoreWhenFocused: [] } : _a, ignoreWhenFocused = _e.ignoreWhenFocused;\n    var inputs = __spreadArray([\"input\", \"textarea\"], ignoreWhenFocused, true).map(function (el) {\n        return el.toLowerCase();\n    });\n    var activeElement = document.activeElement;\n    var ignoreStrokes = activeElement &&\n        (inputs.indexOf(activeElement.tagName.toLowerCase()) !== -1 ||\n            ((_b = activeElement.attributes.getNamedItem(\"role\")) === null || _b === void 0 ? void 0 : _b.value) === \"textbox\" ||\n            ((_c = activeElement.attributes.getNamedItem(\"contenteditable\")) === null || _c === void 0 ? void 0 : _c.value) ===\n                \"true\" ||\n            ((_d = activeElement.attributes.getNamedItem(\"contenteditable\")) === null || _d === void 0 ? void 0 : _d.value) ===\n                \"plaintext-only\");\n    return ignoreStrokes;\n}\nexports.shouldRejectKeystrokes = shouldRejectKeystrokes;\nvar SSR = typeof window === \"undefined\";\nvar isMac = !SSR && window.navigator.platform === \"MacIntel\";\nfunction isModKey(event) {\n    return isMac ? event.metaKey : event.ctrlKey;\n}\nexports.isModKey = isModKey;\nexports.Priority = {\n    HIGH: 1,\n    NORMAL: 0,\n    LOW: -1,\n};\n", "const HAS_WEAKSET_SUPPORT = typeof WeakSet === 'function';\n\nconst { keys } = Object;\n\ntype Cache = {\n  add: (value: any) => void;\n  has: (value: any) => boolean;\n};\n\nexport type EqualityComparator = (a: any, b: any, meta?: any) => boolean;\n\n/**\n * are the values passed strictly equal or both NaN\n *\n * @param a the value to compare against\n * @param b the value to test\n * @returns are the values equal by the SameValueZero principle\n */\nexport function sameValueZeroEqual(a: any, b: any) {\n  return a === b || (a !== a && b !== b);\n}\n\n/**\n * is the value a plain object\n *\n * @param value the value to test\n * @returns is the value a plain object\n */\nexport function isPlainObject(value: any) {\n  return value.constructor === Object || value.constructor == null;\n}\n\n/**\n * is the value promise-like (meaning it is thenable)\n *\n * @param value the value to test\n * @returns is the value promise-like\n */\nexport function isPromiseLike(value: any) {\n  return !!value && typeof value.then === 'function';\n}\n\n/**\n * is the value passed a react element\n *\n * @param value the value to test\n * @returns is the value a react element\n */\nexport function isReactElement(value: any) {\n  return !!(value && value.$$typeof);\n}\n\n/**\n * in cases where WeakSet is not supported, creates a new custom\n * object that mimics the necessary API aspects for cache purposes\n *\n * @returns the new cache object\n */\nexport function getNewCacheFallback(): Cache {\n  const values: any[] = [];\n\n  return {\n    add(value: any) {\n      values.push(value);\n    },\n\n    has(value: any) {\n      return values.indexOf(value) !== -1;\n    },\n  };\n}\n\n/**\n * get a new cache object to prevent circular references\n *\n * @returns the new cache object\n */\nexport const getNewCache = ((canUseWeakMap: boolean) => {\n  if (canUseWeakMap) {\n    return function _getNewCache(): Cache {\n      return new WeakSet();\n    };\n  }\n\n  return getNewCacheFallback;\n})(HAS_WEAKSET_SUPPORT);\n\n/**\n * create a custom isEqual handler specific to circular objects\n *\n * @param [isEqual] the isEqual comparator to use instead of isDeepEqual\n * @returns the method to create the `isEqual` function\n */\nexport function createCircularEqualCreator(isEqual?: EqualityComparator) {\n  return function createCircularEqual(comparator: EqualityComparator) {\n    const _comparator = isEqual || comparator;\n\n    return function circularEqual(\n      a: any,\n      b: any,\n      cache: Cache = getNewCache(),\n    ) {\n      const isCacheableA = !!a && typeof a === 'object';\n      const isCacheableB = !!b && typeof b === 'object';\n\n      if (isCacheableA || isCacheableB) {\n        const hasA = isCacheableA && cache.has(a);\n        const hasB = isCacheableB && cache.has(b);\n\n        if (hasA || hasB) {\n          return hasA && hasB;\n        }\n\n        if (isCacheableA) {\n          cache.add(a);\n        }\n\n        if (isCacheableB) {\n          cache.add(b);\n        }\n      }\n\n      return _comparator(a, b, cache);\n    };\n  };\n}\n\n/**\n * are the arrays equal in value\n *\n * @param a the array to test\n * @param b the array to test against\n * @param isEqual the comparator to determine equality\n * @param meta the meta object to pass through\n * @returns are the arrays equal\n */\nexport function areArraysEqual(\n  a: any[],\n  b: any[],\n  isEqual: EqualityComparator,\n  meta: any,\n) {\n  let index = a.length;\n\n  if (b.length !== index) {\n    return false;\n  }\n\n  while (index-- > 0) {\n    if (!isEqual(a[index], b[index], meta)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * are the maps equal in value\n *\n * @param a the map to test\n * @param b the map to test against\n * @param isEqual the comparator to determine equality\n * @param meta the meta map to pass through\n * @returns are the maps equal\n */\nexport function areMapsEqual(\n  a: Map<any, any>,\n  b: Map<any, any>,\n  isEqual: EqualityComparator,\n  meta: any,\n) {\n  let isValueEqual = a.size === b.size;\n\n  if (isValueEqual && a.size) {\n    a.forEach((aValue, aKey) => {\n      if (isValueEqual) {\n        isValueEqual = false;\n\n        b.forEach((bValue, bKey) => {\n          if (!isValueEqual && isEqual(aKey, bKey, meta)) {\n            isValueEqual = isEqual(aValue, bValue, meta);\n          }\n        });\n      }\n    });\n  }\n\n  return isValueEqual;\n}\n\ntype Dictionary<Type> = {\n  [key: string]: Type;\n  [index: number]: Type;\n};\n\nconst OWNER = '_owner';\n\nconst hasOwnProperty = Function.prototype.bind.call(\n  Function.prototype.call,\n  Object.prototype.hasOwnProperty,\n);\n\n/**\n * are the objects equal in value\n *\n * @param a the object to test\n * @param b the object to test against\n * @param isEqual the comparator to determine equality\n * @param meta the meta object to pass through\n * @returns are the objects equal\n */\nexport function areObjectsEqual(\n  a: Dictionary<any>,\n  b: Dictionary<any>,\n  isEqual: EqualityComparator,\n  meta: any,\n) {\n  const keysA = keys(a);\n\n  let index = keysA.length;\n\n  if (keys(b).length !== index) {\n    return false;\n  }\n\n  if (index) {\n    let key: string;\n\n    while (index-- > 0) {\n      key = keysA[index];\n\n      if (key === OWNER) {\n        const reactElementA = isReactElement(a);\n        const reactElementB = isReactElement(b);\n\n        if (\n          (reactElementA || reactElementB) &&\n          reactElementA !== reactElementB\n        ) {\n          return false;\n        }\n      }\n\n      if (!hasOwnProperty(b, key) || !isEqual(a[key], b[key], meta)) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\n/**\n * are the regExps equal in value\n *\n * @param a the regExp to test\n * @param b the regExp to test agains\n * @returns are the regExps equal\n */\nexport function areRegExpsEqual(a: RegExp, b: RegExp) {\n  return (\n    a.source === b.source &&\n    a.global === b.global &&\n    a.ignoreCase === b.ignoreCase &&\n    a.multiline === b.multiline &&\n    a.unicode === b.unicode &&\n    a.sticky === b.sticky &&\n    a.lastIndex === b.lastIndex\n  );\n}\n\n/**\n * are the sets equal in value\n *\n * @param a the set to test\n * @param b the set to test against\n * @param isEqual the comparator to determine equality\n * @param meta the meta set to pass through\n * @returns are the sets equal\n */\nexport function areSetsEqual(\n  a: Set<any>,\n  b: Set<any>,\n  isEqual: EqualityComparator,\n  meta: any,\n) {\n  let isValueEqual = a.size === b.size;\n\n  if (isValueEqual && a.size) {\n    a.forEach((aValue) => {\n      if (isValueEqual) {\n        isValueEqual = false;\n\n        b.forEach((bValue) => {\n          if (!isValueEqual) {\n            isValueEqual = isEqual(aValue, bValue, meta);\n          }\n        });\n      }\n    });\n  }\n\n  return isValueEqual;\n}\n", "import {\n  EqualityComparator,\n  areArraysEqual,\n  areMapsEqual,\n  areObjectsEqual,\n  areRegExpsEqual,\n  areSetsEqual,\n  isPlainObject,\n  isPromiseLike,\n  sameValueZeroEqual,\n} from './utils';\n\nconst HAS_MAP_SUPPORT = typeof Map === 'function';\nconst HAS_SET_SUPPORT = typeof Set === 'function';\n\ntype EqualityComparatorCreator = (fn: EqualityComparator) => EqualityComparator;\n\nexport function createComparator(createIsEqual?: EqualityComparatorCreator) {\n  const isEqual: EqualityComparator =\n    /* eslint-disable no-use-before-define */\n    typeof createIsEqual === 'function'\n      ? createIsEqual(comparator)\n      : comparator;\n  /* eslint-enable */\n\n  /**\n   * compare the value of the two objects and return true if they are equivalent in values\n   *\n   * @param a the value to test against\n   * @param b the value to test\n   * @param [meta] an optional meta object that is passed through to all equality test calls\n   * @returns are a and b equivalent in value\n   */\n  function comparator(a: any, b: any, meta?: any) {\n    if (a === b) {\n      return true;\n    }\n\n    if (a && b && typeof a === 'object' && typeof b === 'object') {\n      if (isPlainObject(a) && isPlainObject(b)) {\n        return areObjectsEqual(a, b, isEqual, meta);\n      }\n\n      let aShape = Array.isArray(a);\n      let bShape = Array.isArray(b);\n\n      if (aShape || bShape) {\n        return aShape === bShape && areArraysEqual(a, b, isEqual, meta);\n      }\n\n      aShape = a instanceof Date;\n      bShape = b instanceof Date;\n\n      if (aShape || bShape) {\n        return (\n          aShape === bShape && sameValueZeroEqual(a.getTime(), b.getTime())\n        );\n      }\n\n      aShape = a instanceof RegExp;\n      bShape = b instanceof RegExp;\n\n      if (aShape || bShape) {\n        return aShape === bShape && areRegExpsEqual(a, b);\n      }\n\n      if (isPromiseLike(a) || isPromiseLike(b)) {\n        return a === b;\n      }\n\n      if (HAS_MAP_SUPPORT) {\n        aShape = a instanceof Map;\n        bShape = b instanceof Map;\n\n        if (aShape || bShape) {\n          return aShape === bShape && areMapsEqual(a, b, isEqual, meta);\n        }\n      }\n\n      if (HAS_SET_SUPPORT) {\n        aShape = a instanceof Set;\n        bShape = b instanceof Set;\n\n        if (aShape || bShape) {\n          return aShape === bShape && areSetsEqual(a, b, isEqual, meta);\n        }\n      }\n\n      return areObjectsEqual(a, b, isEqual, meta);\n    }\n\n    return a !== a && b !== b;\n  }\n\n  return comparator;\n}\n", "import { createComparator } from './comparator';\nimport { createCircularEqualCreator, sameValueZeroEqual } from './utils';\n\nexport { createComparator as createCustomEqual, sameValueZeroEqual };\n\nexport const deepEqual = createComparator();\nexport const shallowEqual = createComparator(() => sameValueZeroEqual);\n\nexport const circularDeepEqual = createComparator(createCircularEqualCreator());\nexport const circularShallowEqual = createComparator(\n  createCircularEqualCreator(sameValueZeroEqual),\n);\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Command = void 0;\nvar Command = /** @class */ (function () {\n    function Command(command, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        this.perform = function () {\n            var negate = command.perform();\n            // no need for history if non negatable\n            if (typeof negate !== \"function\")\n                return;\n            // return if no history enabled\n            var history = options.history;\n            if (!history)\n                return;\n            // since we are performing the same action, we'll clean up the\n            // previous call to the action and create a new history record\n            if (_this.historyItem) {\n                history.remove(_this.historyItem);\n            }\n            _this.historyItem = history.add({\n                perform: command.perform,\n                negate: negate,\n            });\n            _this.history = {\n                undo: function () { return history.undo(_this.historyItem); },\n                redo: function () { return history.redo(_this.historyItem); },\n            };\n        };\n    }\n    return Command;\n}());\nexports.Command = Command;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActionImpl = void 0;\nvar tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nvar Command_1 = require(\"./Command\");\nvar utils_1 = require(\"../utils\");\n/**\n * Extends the configured keywords to include the section\n * This allows section names to be searched for.\n */\nvar extendKeywords = function (_a) {\n    var _b = _a.keywords, keywords = _b === void 0 ? \"\" : _b, _c = _a.section, section = _c === void 0 ? \"\" : _c;\n    return (keywords + \" \" + (typeof section === \"string\" ? section : section.name)).trim();\n};\nvar ActionImpl = /** @class */ (function () {\n    function ActionImpl(action, options) {\n        var _this = this;\n        var _a;\n        this.priority = utils_1.Priority.NORMAL;\n        this.ancestors = [];\n        this.children = [];\n        Object.assign(this, action);\n        this.id = action.id;\n        this.name = action.name;\n        this.keywords = extendKeywords(action);\n        var perform = action.perform;\n        this.command =\n            perform &&\n                new Command_1.Command({\n                    perform: function () { return perform(_this); },\n                }, {\n                    history: options.history,\n                });\n        // Backwards compatibility\n        this.perform = (_a = this.command) === null || _a === void 0 ? void 0 : _a.perform;\n        if (action.parent) {\n            var parentActionImpl = options.store[action.parent];\n            (0, tiny_invariant_1.default)(parentActionImpl, \"attempted to create an action whos parent: \" + action.parent + \" does not exist in the store.\");\n            parentActionImpl.addChild(this);\n        }\n    }\n    ActionImpl.prototype.addChild = function (childActionImpl) {\n        // add all ancestors for the child action\n        childActionImpl.ancestors.unshift(this);\n        var parent = this.parentActionImpl;\n        while (parent) {\n            childActionImpl.ancestors.unshift(parent);\n            parent = parent.parentActionImpl;\n        }\n        // we ensure that order of adding always goes\n        // parent -> children, so no need to recurse\n        this.children.push(childActionImpl);\n    };\n    ActionImpl.prototype.removeChild = function (actionImpl) {\n        var _this = this;\n        // recursively remove all children\n        var index = this.children.indexOf(actionImpl);\n        if (index !== -1) {\n            this.children.splice(index, 1);\n        }\n        if (actionImpl.children) {\n            actionImpl.children.forEach(function (child) {\n                _this.removeChild(child);\n            });\n        }\n    };\n    Object.defineProperty(ActionImpl.prototype, \"parentActionImpl\", {\n        // easily access parentActionImpl after creation\n        get: function () {\n            return this.ancestors[this.ancestors.length - 1];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ActionImpl.create = function (action, options) {\n        return new ActionImpl(action, options);\n    };\n    return ActionImpl;\n}());\nexports.ActionImpl = ActionImpl;\n", "\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActionInterface = void 0;\nvar tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nvar ActionImpl_1 = require(\"./ActionImpl\");\nvar ActionInterface = /** @class */ (function () {\n    function ActionInterface(actions, options) {\n        if (actions === void 0) { actions = []; }\n        if (options === void 0) { options = {}; }\n        this.actions = {};\n        this.options = options;\n        this.add(actions);\n    }\n    ActionInterface.prototype.add = function (actions) {\n        for (var i = 0; i < actions.length; i++) {\n            var action = actions[i];\n            if (action.parent) {\n                (0, tiny_invariant_1.default)(this.actions[action.parent], \"Attempted to create action \\\"\" + action.name + \"\\\" without registering its parent \\\"\" + action.parent + \"\\\" first.\");\n            }\n            this.actions[action.id] = ActionImpl_1.ActionImpl.create(action, {\n                history: this.options.historyManager,\n                store: this.actions,\n            });\n        }\n        return __assign({}, this.actions);\n    };\n    ActionInterface.prototype.remove = function (actions) {\n        var _this = this;\n        actions.forEach(function (action) {\n            var actionImpl = _this.actions[action.id];\n            if (!actionImpl)\n                return;\n            var children = actionImpl.children;\n            while (children.length) {\n                var child = children.pop();\n                if (!child)\n                    return;\n                delete _this.actions[child.id];\n                if (child.parentActionImpl)\n                    child.parentActionImpl.removeChild(child);\n                if (child.children)\n                    children.push.apply(children, child.children);\n            }\n            if (actionImpl.parentActionImpl) {\n                actionImpl.parentActionImpl.removeChild(actionImpl);\n            }\n            delete _this.actions[action.id];\n        });\n        return __assign({}, this.actions);\n    };\n    return ActionInterface;\n}());\nexports.ActionInterface = ActionInterface;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.history = exports.HistoryItemImpl = void 0;\nvar utils_1 = require(\"../utils\");\nvar HistoryItemImpl = /** @class */ (function () {\n    function HistoryItemImpl(item) {\n        this.perform = item.perform;\n        this.negate = item.negate;\n    }\n    HistoryItemImpl.create = function (item) {\n        return new HistoryItemImpl(item);\n    };\n    return HistoryItemImpl;\n}());\nexports.HistoryItemImpl = HistoryItemImpl;\nvar HistoryImpl = /** @class */ (function () {\n    function HistoryImpl() {\n        this.undoStack = [];\n        this.redoStack = [];\n        if (!HistoryImpl.instance) {\n            HistoryImpl.instance = this;\n            this.init();\n        }\n        return HistoryImpl.instance;\n    }\n    HistoryImpl.prototype.init = function () {\n        var _this = this;\n        if (typeof window === \"undefined\")\n            return;\n        window.addEventListener(\"keydown\", function (event) {\n            var _a;\n            if ((!_this.redoStack.length && !_this.undoStack.length) ||\n                (0, utils_1.shouldRejectKeystrokes)()) {\n                return;\n            }\n            var key = (_a = event.key) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n            if (event.metaKey && key === \"z\" && event.shiftKey) {\n                _this.redo();\n            }\n            else if (event.metaKey && key === \"z\") {\n                _this.undo();\n            }\n        });\n    };\n    HistoryImpl.prototype.add = function (item) {\n        var historyItem = HistoryItemImpl.create(item);\n        this.undoStack.push(historyItem);\n        return historyItem;\n    };\n    HistoryImpl.prototype.remove = function (item) {\n        var undoIndex = this.undoStack.findIndex(function (i) { return i === item; });\n        if (undoIndex !== -1) {\n            this.undoStack.splice(undoIndex, 1);\n            return;\n        }\n        var redoIndex = this.redoStack.findIndex(function (i) { return i === item; });\n        if (redoIndex !== -1) {\n            this.redoStack.splice(redoIndex, 1);\n        }\n    };\n    HistoryImpl.prototype.undo = function (item) {\n        // if not undoing a specific item, just undo the latest\n        if (!item) {\n            var item_1 = this.undoStack.pop();\n            if (!item_1)\n                return;\n            item_1 === null || item_1 === void 0 ? void 0 : item_1.negate();\n            this.redoStack.push(item_1);\n            return item_1;\n        }\n        // else undo the specific item\n        var index = this.undoStack.findIndex(function (i) { return i === item; });\n        if (index === -1)\n            return;\n        this.undoStack.splice(index, 1);\n        item.negate();\n        this.redoStack.push(item);\n        return item;\n    };\n    HistoryImpl.prototype.redo = function (item) {\n        if (!item) {\n            var item_2 = this.redoStack.pop();\n            if (!item_2)\n                return;\n            item_2 === null || item_2 === void 0 ? void 0 : item_2.perform();\n            this.undoStack.push(item_2);\n            return item_2;\n        }\n        var index = this.redoStack.findIndex(function (i) { return i === item; });\n        if (index === -1)\n            return;\n        this.redoStack.splice(index, 1);\n        item.perform();\n        this.undoStack.push(item);\n        return item;\n    };\n    HistoryImpl.prototype.reset = function () {\n        this.undoStack.splice(0);\n        this.redoStack.splice(0);\n    };\n    return HistoryImpl;\n}());\nvar history = new HistoryImpl();\nexports.history = history;\nObject.freeze(history);\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VisualState = void 0;\nvar VisualState;\n(function (VisualState) {\n    VisualState[\"animatingIn\"] = \"animating-in\";\n    VisualState[\"showing\"] = \"showing\";\n    VisualState[\"animatingOut\"] = \"animating-out\";\n    VisualState[\"hidden\"] = \"hidden\";\n})(VisualState = exports.VisualState || (exports.VisualState = {}));\n", "\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useStore = void 0;\nvar fast_equals_1 = require(\"fast-equals\");\nvar React = __importStar(require(\"react\"));\nvar tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nvar ActionInterface_1 = require(\"./action/ActionInterface\");\nvar HistoryImpl_1 = require(\"./action/HistoryImpl\");\nvar types_1 = require(\"./types\");\nfunction useStore(props) {\n    var optionsRef = React.useRef(__assign({ animations: {\n            enterMs: 200,\n            exitMs: 100,\n        } }, props.options));\n    var actionsInterface = React.useMemo(function () {\n        return new ActionInterface_1.ActionInterface(props.actions || [], {\n            historyManager: optionsRef.current.enableHistory ? HistoryImpl_1.history : undefined,\n        });\n    }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n    // TODO: at this point useReducer might be a better approach to managing state.\n    var _a = React.useState({\n        searchQuery: \"\",\n        currentRootActionId: null,\n        visualState: types_1.VisualState.hidden,\n        actions: __assign({}, actionsInterface.actions),\n        activeIndex: 0,\n        disabled: false,\n    }), state = _a[0], setState = _a[1];\n    var currState = React.useRef(state);\n    currState.current = state;\n    var getState = React.useCallback(function () { return currState.current; }, []);\n    var publisher = React.useMemo(function () { return new Publisher(getState); }, [getState]);\n    React.useEffect(function () {\n        currState.current = state;\n        publisher.notify();\n    }, [state, publisher]);\n    var registerActions = React.useCallback(function (actions) {\n        setState(function (state) {\n            return __assign(__assign({}, state), { actions: actionsInterface.add(actions) });\n        });\n        return function unregister() {\n            setState(function (state) {\n                return __assign(__assign({}, state), { actions: actionsInterface.remove(actions) });\n            });\n        };\n    }, [actionsInterface]);\n    var inputRef = React.useRef(null);\n    return React.useMemo(function () {\n        var query = {\n            setCurrentRootAction: function (actionId) {\n                setState(function (state) { return (__assign(__assign({}, state), { currentRootActionId: actionId })); });\n            },\n            setVisualState: function (cb) {\n                setState(function (state) { return (__assign(__assign({}, state), { visualState: typeof cb === \"function\" ? cb(state.visualState) : cb })); });\n            },\n            setSearch: function (searchQuery) {\n                return setState(function (state) { return (__assign(__assign({}, state), { searchQuery: searchQuery })); });\n            },\n            registerActions: registerActions,\n            toggle: function () {\n                return setState(function (state) { return (__assign(__assign({}, state), { visualState: [types_1.VisualState.animatingOut, types_1.VisualState.hidden].includes(state.visualState)\n                        ? types_1.VisualState.animatingIn\n                        : types_1.VisualState.animatingOut })); });\n            },\n            setActiveIndex: function (cb) {\n                return setState(function (state) { return (__assign(__assign({}, state), { activeIndex: typeof cb === \"number\" ? cb : cb(state.activeIndex) })); });\n            },\n            inputRefSetter: function (el) {\n                inputRef.current = el;\n            },\n            getInput: function () {\n                (0, tiny_invariant_1.default)(inputRef.current, \"Input ref is undefined, make sure you attach `query.inputRefSetter` to your search input.\");\n                return inputRef.current;\n            },\n            disable: function (disable) {\n                setState(function (state) { return (__assign(__assign({}, state), { disabled: disable })); });\n            },\n        };\n        return {\n            getState: getState,\n            query: query,\n            options: optionsRef.current,\n            subscribe: function (collector, cb) { return publisher.subscribe(collector, cb); },\n        };\n    }, [getState, publisher, registerActions]);\n}\nexports.useStore = useStore;\nvar Publisher = /** @class */ (function () {\n    function Publisher(getState) {\n        this.subscribers = [];\n        this.getState = getState;\n    }\n    Publisher.prototype.subscribe = function (collector, onChange) {\n        var _this = this;\n        var subscriber = new Subscriber(function () { return collector(_this.getState()); }, onChange);\n        this.subscribers.push(subscriber);\n        return this.unsubscribe.bind(this, subscriber);\n    };\n    Publisher.prototype.unsubscribe = function (subscriber) {\n        if (this.subscribers.length) {\n            var index = this.subscribers.indexOf(subscriber);\n            if (index > -1) {\n                return this.subscribers.splice(index, 1);\n            }\n        }\n    };\n    Publisher.prototype.notify = function () {\n        this.subscribers.forEach(function (subscriber) { return subscriber.collect(); });\n    };\n    return Publisher;\n}());\nvar Subscriber = /** @class */ (function () {\n    function Subscriber(collector, onChange) {\n        this.collector = collector;\n        this.onChange = onChange;\n    }\n    Subscriber.prototype.collect = function () {\n        try {\n            // grab latest state\n            var recollect = this.collector();\n            if (!(0, fast_equals_1.deepEqual)(recollect, this.collected)) {\n                this.collected = recollect;\n                if (this.onChange) {\n                    this.onChange(this.collected);\n                }\n            }\n        }\n        catch (error) {\n            console.warn(error);\n        }\n    };\n    return Subscriber;\n}());\n", "\"use strict\";\n// Fixes special character issues; `?` -> `shift+/` + build issue\n// https://github.com/jamiebuilds/tinykeys\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * These are the modifier keys that change the meaning of keybindings.\n *\n * Note: Ignoring \"AltGraph\" because it is covered by the others.\n */\nvar KEYBINDING_MODIFIER_KEYS = [\"Shift\", \"Meta\", \"Alt\", \"Control\"];\n/**\n * Keybinding sequences should timeout if individual key presses are more than\n * 1s apart by default.\n */\nvar DEFAULT_TIMEOUT = 1000;\n/**\n * Keybinding sequences should bind to this event by default.\n */\nvar DEFAULT_EVENT = \"keydown\";\n/**\n * An alias for creating platform-specific keybinding aliases.\n */\nvar MOD = typeof navigator === \"object\" &&\n    /Mac|iPod|iPhone|iPad/.test(navigator.platform)\n    ? \"Meta\"\n    : \"Control\";\n/**\n * There's a bug in Chrome that causes event.getModifierState not to exist on\n * KeyboardEvent's for F1/F2/etc keys.\n */\nfunction getModifierState(event, mod) {\n    return typeof event.getModifierState === \"function\"\n        ? event.getModifierState(mod)\n        : false;\n}\n/**\n * Parses a \"Key Binding String\" into its parts\n *\n * grammar    = `<sequence>`\n * <sequence> = `<press> <press> <press> ...`\n * <press>    = `<key>` or `<mods>+<key>`\n * <mods>     = `<mod>+<mod>+...`\n */\nfunction parse(str) {\n    return str\n        .trim()\n        .split(\" \")\n        .map(function (press) {\n        var mods = press.split(/\\b\\+/);\n        var key = mods.pop();\n        mods = mods.map(function (mod) { return (mod === \"$mod\" ? MOD : mod); });\n        return [mods, key];\n    });\n}\n/**\n * This tells us if a series of events matches a key binding sequence either\n * partially or exactly.\n */\nfunction match(event, press) {\n    // Special characters; `?` `!`\n    if (/^[^A-Za-z0-9]$/.test(event.key) && press[1] === event.key) {\n        return true;\n    }\n    // prettier-ignore\n    return !(\n    // Allow either the `event.key` or the `event.code`\n    // MDN event.key: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\n    // MDN event.code: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code\n    (press[1].toUpperCase() !== event.key.toUpperCase() &&\n        press[1] !== event.code) ||\n        // Ensure all the modifiers in the keybinding are pressed.\n        press[0].find(function (mod) {\n            return !getModifierState(event, mod);\n        }) ||\n        // KEYBINDING_MODIFIER_KEYS (Shift/Control/etc) change the meaning of a\n        // keybinding. So if they are pressed but aren't part of the current\n        // keybinding press, then we don't have a match.\n        KEYBINDING_MODIFIER_KEYS.find(function (mod) {\n            return !press[0].includes(mod) && press[1] !== mod && getModifierState(event, mod);\n        }));\n}\n/**\n * Subscribes to keybindings.\n *\n * Returns an unsubscribe method.\n *\n * @example\n * ```js\n * import keybindings from \"../src/keybindings\"\n *\n * keybindings(window, {\n * \t\"Shift+d\": () => {\n * \t\talert(\"The 'Shift' and 'd' keys were pressed at the same time\")\n * \t},\n * \t\"y e e t\": () => {\n * \t\talert(\"The keys 'y', 'e', 'e', and 't' were pressed in order\")\n * \t},\n * \t\"$mod+d\": () => {\n * \t\talert(\"Either 'Control+d' or 'Meta+d' were pressed\")\n * \t},\n * })\n * ```\n */\nfunction keybindings(target, keyBindingMap, options) {\n    var _a, _b;\n    if (options === void 0) { options = {}; }\n    var timeout = (_a = options.timeout) !== null && _a !== void 0 ? _a : DEFAULT_TIMEOUT;\n    var event = (_b = options.event) !== null && _b !== void 0 ? _b : DEFAULT_EVENT;\n    var keyBindings = Object.keys(keyBindingMap).map(function (key) {\n        return [parse(key), keyBindingMap[key]];\n    });\n    var possibleMatches = new Map();\n    var timer = null;\n    var onKeyEvent = function (event) {\n        // Ensure and stop any event that isn't a full keyboard event.\n        // Autocomplete option navigation and selection would fire a instanceof Event,\n        // instead of the expected KeyboardEvent\n        if (!(event instanceof KeyboardEvent)) {\n            return;\n        }\n        keyBindings.forEach(function (keyBinding) {\n            var sequence = keyBinding[0];\n            var callback = keyBinding[1];\n            var prev = possibleMatches.get(sequence);\n            var remainingExpectedPresses = prev ? prev : sequence;\n            var currentExpectedPress = remainingExpectedPresses[0];\n            var matches = match(event, currentExpectedPress);\n            if (!matches) {\n                // Modifier keydown events shouldn't break sequences\n                // Note: This works because:\n                // - non-modifiers will always return false\n                // - if the current keypress is a modifier then it will return true when we check its state\n                // MDN: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\n                if (!getModifierState(event, event.key)) {\n                    possibleMatches.delete(sequence);\n                }\n            }\n            else if (remainingExpectedPresses.length > 1) {\n                possibleMatches.set(sequence, remainingExpectedPresses.slice(1));\n            }\n            else {\n                possibleMatches.delete(sequence);\n                callback(event);\n            }\n        });\n        if (timer) {\n            clearTimeout(timer);\n        }\n        // @ts-ignore\n        timer = setTimeout(possibleMatches.clear.bind(possibleMatches), timeout);\n    };\n    target.addEventListener(event, onKeyEvent);\n    return function () {\n        target.removeEventListener(event, onKeyEvent);\n    };\n}\nexports.default = keybindings;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InternalEvents = void 0;\nvar React = __importStar(require(\"react\"));\nvar tinykeys_1 = __importDefault(require(\"./tinykeys\"));\nvar types_1 = require(\"./types\");\nvar useKBar_1 = require(\"./useKBar\");\nvar utils_1 = require(\"./utils\");\nfunction InternalEvents() {\n    useToggleHandler();\n    useDocumentLock();\n    useShortcuts();\n    useFocusHandler();\n    return null;\n}\nexports.InternalEvents = InternalEvents;\n/**\n * `useToggleHandler` handles the keyboard events for toggling kbar.\n */\nfunction useToggleHandler() {\n    var _a, _b;\n    var _c = (0, useKBar_1.useKBar)(function (state) { return ({\n        visualState: state.visualState,\n        showing: state.visualState !== types_1.VisualState.hidden,\n        disabled: state.disabled,\n    }); }), query = _c.query, options = _c.options, visualState = _c.visualState, showing = _c.showing, disabled = _c.disabled;\n    React.useEffect(function () {\n        var _a;\n        var close = function () {\n            query.setVisualState(function (vs) {\n                if (vs === types_1.VisualState.hidden || vs === types_1.VisualState.animatingOut) {\n                    return vs;\n                }\n                return types_1.VisualState.animatingOut;\n            });\n        };\n        if (disabled) {\n            close();\n            return;\n        }\n        var shortcut = options.toggleShortcut || \"$mod+k\";\n        var unsubscribe = (0, tinykeys_1.default)(window, (_a = {},\n            _a[shortcut] = function (event) {\n                var _a, _b, _c, _d;\n                if (event.defaultPrevented)\n                    return;\n                event.preventDefault();\n                query.toggle();\n                if (showing) {\n                    (_b = (_a = options.callbacks) === null || _a === void 0 ? void 0 : _a.onClose) === null || _b === void 0 ? void 0 : _b.call(_a);\n                }\n                else {\n                    (_d = (_c = options.callbacks) === null || _c === void 0 ? void 0 : _c.onOpen) === null || _d === void 0 ? void 0 : _d.call(_c);\n                }\n            },\n            _a.Escape = function (event) {\n                var _a, _b;\n                if (showing) {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    (_b = (_a = options.callbacks) === null || _a === void 0 ? void 0 : _a.onClose) === null || _b === void 0 ? void 0 : _b.call(_a);\n                }\n                close();\n            },\n            _a));\n        return function () {\n            unsubscribe();\n        };\n    }, [options.callbacks, options.toggleShortcut, query, showing, disabled]);\n    var timeoutRef = React.useRef();\n    var runAnimateTimer = React.useCallback(function (vs) {\n        var _a, _b;\n        var ms = 0;\n        if (vs === types_1.VisualState.animatingIn) {\n            ms = ((_a = options.animations) === null || _a === void 0 ? void 0 : _a.enterMs) || 0;\n        }\n        if (vs === types_1.VisualState.animatingOut) {\n            ms = ((_b = options.animations) === null || _b === void 0 ? void 0 : _b.exitMs) || 0;\n        }\n        clearTimeout(timeoutRef.current);\n        timeoutRef.current = setTimeout(function () {\n            var backToRoot = false;\n            // TODO: setVisualState argument should be a function or just a VisualState value.\n            query.setVisualState(function () {\n                var finalVs = vs === types_1.VisualState.animatingIn\n                    ? types_1.VisualState.showing\n                    : types_1.VisualState.hidden;\n                if (finalVs === types_1.VisualState.hidden) {\n                    backToRoot = true;\n                }\n                return finalVs;\n            });\n            if (backToRoot) {\n                query.setCurrentRootAction(null);\n            }\n        }, ms);\n    }, [(_a = options.animations) === null || _a === void 0 ? void 0 : _a.enterMs, (_b = options.animations) === null || _b === void 0 ? void 0 : _b.exitMs, query]);\n    React.useEffect(function () {\n        switch (visualState) {\n            case types_1.VisualState.animatingIn:\n            case types_1.VisualState.animatingOut:\n                runAnimateTimer(visualState);\n                break;\n        }\n    }, [runAnimateTimer, visualState]);\n}\n/**\n * `useDocumentLock` is a simple implementation for preventing the\n * underlying page content from scrolling when kbar is open.\n */\nfunction useDocumentLock() {\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\n        visualState: state.visualState,\n    }); }), visualState = _a.visualState, options = _a.options;\n    React.useEffect(function () {\n        if (options.disableDocumentLock)\n            return;\n        if (visualState === types_1.VisualState.animatingIn) {\n            document.body.style.overflow = \"hidden\";\n            if (!options.disableScrollbarManagement) {\n                var scrollbarWidth = (0, utils_1.getScrollbarWidth)();\n                // take into account the margins explicitly added by the consumer\n                var mr = getComputedStyle(document.body)[\"margin-right\"];\n                if (mr) {\n                    // remove non-numeric values; px, rem, em, etc.\n                    scrollbarWidth += Number(mr.replace(/\\D/g, \"\"));\n                }\n                document.body.style.marginRight = scrollbarWidth + \"px\";\n            }\n        }\n        else if (visualState === types_1.VisualState.hidden) {\n            document.body.style.removeProperty(\"overflow\");\n            if (!options.disableScrollbarManagement) {\n                document.body.style.removeProperty(\"margin-right\");\n            }\n        }\n    }, [\n        options.disableDocumentLock,\n        options.disableScrollbarManagement,\n        visualState,\n    ]);\n}\n/**\n * Reference: https://github.com/jamiebuilds/tinykeys/issues/37\n *\n * Fixes an issue where simultaneous key commands for shortcuts;\n * ie given two actions with shortcuts ['t','s'] and ['s'], pressing\n * 't' and 's' consecutively will cause both shortcuts to fire.\n *\n * `wrap` sets each keystroke event in a WeakSet, and ensures that\n * if ['t', 's'] are pressed, then the subsequent ['s'] event will\n * be ignored. This depends on the order in which we register the\n * shortcuts to tinykeys, which is handled below.\n */\nvar handled = new WeakSet();\nfunction wrap(handler) {\n    return function (event) {\n        if (handled.has(event))\n            return;\n        handler(event);\n        handled.add(event);\n    };\n}\n/**\n * `useShortcuts` registers and listens to keyboard strokes and\n * performs actions for patterns that match the user defined `shortcut`.\n */\nfunction useShortcuts() {\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\n        actions: state.actions,\n        open: state.visualState === types_1.VisualState.showing,\n        disabled: state.disabled,\n    }); }), actions = _a.actions, query = _a.query, open = _a.open, options = _a.options, disabled = _a.disabled;\n    React.useEffect(function () {\n        var _a;\n        if (open || disabled)\n            return;\n        var actionsList = Object.keys(actions).map(function (key) { return actions[key]; });\n        var actionsWithShortcuts = [];\n        for (var _i = 0, actionsList_1 = actionsList; _i < actionsList_1.length; _i++) {\n            var action = actionsList_1[_i];\n            if (!((_a = action.shortcut) === null || _a === void 0 ? void 0 : _a.length)) {\n                continue;\n            }\n            actionsWithShortcuts.push(action);\n        }\n        actionsWithShortcuts = actionsWithShortcuts.sort(function (a, b) { return b.shortcut.join(\" \").length - a.shortcut.join(\" \").length; });\n        var shortcutsMap = {};\n        var _loop_1 = function (action) {\n            var shortcut = action.shortcut.join(\" \");\n            shortcutsMap[shortcut] = wrap(function (event) {\n                var _a, _b, _c, _d, _e, _f;\n                if ((0, utils_1.shouldRejectKeystrokes)())\n                    return;\n                event.preventDefault();\n                if ((_a = action.children) === null || _a === void 0 ? void 0 : _a.length) {\n                    query.setCurrentRootAction(action.id);\n                    query.toggle();\n                    (_c = (_b = options.callbacks) === null || _b === void 0 ? void 0 : _b.onOpen) === null || _c === void 0 ? void 0 : _c.call(_b);\n                }\n                else {\n                    (_d = action.command) === null || _d === void 0 ? void 0 : _d.perform();\n                    (_f = (_e = options.callbacks) === null || _e === void 0 ? void 0 : _e.onSelectAction) === null || _f === void 0 ? void 0 : _f.call(_e, action);\n                }\n            });\n        };\n        for (var _b = 0, actionsWithShortcuts_1 = actionsWithShortcuts; _b < actionsWithShortcuts_1.length; _b++) {\n            var action = actionsWithShortcuts_1[_b];\n            _loop_1(action);\n        }\n        var unsubscribe = (0, tinykeys_1.default)(window, shortcutsMap, {\n            timeout: 400,\n        });\n        return function () {\n            unsubscribe();\n        };\n    }, [actions, open, options.callbacks, query, disabled]);\n}\n/**\n * `useFocusHandler` ensures that focus is set back on the element which was\n * in focus prior to kbar being triggered.\n */\nfunction useFocusHandler() {\n    var rFirstRender = React.useRef(true);\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\n        isShowing: state.visualState === types_1.VisualState.showing ||\n            state.visualState === types_1.VisualState.animatingIn,\n    }); }), isShowing = _a.isShowing, query = _a.query;\n    var activeElementRef = React.useRef(null);\n    React.useEffect(function () {\n        if (rFirstRender.current) {\n            rFirstRender.current = false;\n            return;\n        }\n        if (isShowing) {\n            activeElementRef.current = document.activeElement;\n            return;\n        }\n        // This fixes an issue on Safari where closing kbar causes the entire\n        // page to scroll to the bottom. The reason this was happening was due\n        // to the search input still in focus when we removed it from the dom.\n        var currentActiveElement = document.activeElement;\n        if ((currentActiveElement === null || currentActiveElement === void 0 ? void 0 : currentActiveElement.tagName.toLowerCase()) === \"input\") {\n            currentActiveElement.blur();\n        }\n        var activeElement = activeElementRef.current;\n        if (activeElement && activeElement !== currentActiveElement) {\n            activeElement.focus();\n        }\n    }, [isShowing]);\n    // When focus is blurred from the search input while kbar is still\n    // open, any keystroke should set focus back to the search input.\n    React.useEffect(function () {\n        function handler(event) {\n            var input = query.getInput();\n            if (event.target !== input) {\n                input.focus();\n            }\n        }\n        if (isShowing) {\n            window.addEventListener(\"keydown\", handler);\n            return function () {\n                window.removeEventListener(\"keydown\", handler);\n            };\n        }\n    }, [isShowing, query]);\n}\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KBarProvider = exports.KBarContext = void 0;\nvar useStore_1 = require(\"./useStore\");\nvar React = __importStar(require(\"react\"));\nvar InternalEvents_1 = require(\"./InternalEvents\");\nexports.KBarContext = React.createContext({});\nvar KBarProvider = function (props) {\n    var contextValue = (0, useStore_1.useStore)(props);\n    return (React.createElement(exports.KBarContext.Provider, { value: contextValue },\n        React.createElement(InternalEvents_1.InternalEvents, null),\n        props.children));\n};\nexports.KBarProvider = KBarProvider;\n", "\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useKBar = void 0;\nvar React = __importStar(require(\"react\"));\nvar KBarContextProvider_1 = require(\"./KBarContextProvider\");\nfunction useKBar(collector) {\n    var _a = React.useContext(KBarContextProvider_1.KBarContext), query = _a.query, getState = _a.getState, subscribe = _a.subscribe, options = _a.options;\n    var collected = React.useRef(collector === null || collector === void 0 ? void 0 : collector(getState()));\n    var collectorRef = React.useRef(collector);\n    var onCollect = React.useCallback(function (collected) { return (__assign(__assign({}, collected), { query: query, options: options })); }, [query, options]);\n    var _b = React.useState(onCollect(collected.current)), render = _b[0], setRender = _b[1];\n    React.useEffect(function () {\n        var unsubscribe;\n        if (collectorRef.current) {\n            unsubscribe = subscribe(function (current) { return collectorRef.current(current); }, function (collected) { return setRender(onCollect(collected)); });\n        }\n        return function () {\n            if (unsubscribe) {\n                unsubscribe();\n            }\n        };\n    }, [onCollect, subscribe]);\n    return render;\n}\nexports.useKBar = useKBar;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useDeepMatches = exports.useMatches = exports.NO_GROUP = void 0;\nvar React = __importStar(require(\"react\"));\nvar useKBar_1 = require(\"./useKBar\");\nvar utils_1 = require(\"./utils\");\nvar command_score_1 = __importDefault(require(\"command-score\"));\nexports.NO_GROUP = {\n    name: \"none\",\n    priority: utils_1.Priority.NORMAL,\n};\nfunction order(a, b) {\n    /**\n     * Larger the priority = higher up the list\n     */\n    return b.priority - a.priority;\n}\n/**\n * returns deep matches only when a search query is present\n */\nfunction useMatches() {\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\n        search: state.searchQuery,\n        actions: state.actions,\n        rootActionId: state.currentRootActionId,\n    }); }), search = _a.search, actions = _a.actions, rootActionId = _a.rootActionId;\n    var rootResults = React.useMemo(function () {\n        return Object.keys(actions)\n            .reduce(function (acc, actionId) {\n            var action = actions[actionId];\n            if (!action.parent && !rootActionId) {\n                acc.push(action);\n            }\n            if (action.id === rootActionId) {\n                for (var i = 0; i < action.children.length; i++) {\n                    acc.push(action.children[i]);\n                }\n            }\n            return acc;\n        }, [])\n            .sort(order);\n    }, [actions, rootActionId]);\n    var getDeepResults = React.useCallback(function (actions) {\n        var actionsClone = [];\n        for (var i = 0; i < actions.length; i++) {\n            actionsClone.push(actions[i]);\n        }\n        return (function collectChildren(actions, all) {\n            if (all === void 0) { all = actionsClone; }\n            for (var i = 0; i < actions.length; i++) {\n                if (actions[i].children.length > 0) {\n                    var childsChildren = actions[i].children;\n                    for (var i_1 = 0; i_1 < childsChildren.length; i_1++) {\n                        all.push(childsChildren[i_1]);\n                    }\n                    collectChildren(actions[i].children, all);\n                }\n            }\n            return all;\n        })(actions);\n    }, []);\n    var emptySearch = !search;\n    var filtered = React.useMemo(function () {\n        if (emptySearch)\n            return rootResults;\n        return getDeepResults(rootResults);\n    }, [getDeepResults, rootResults, emptySearch]);\n    var matches = useInternalMatches(filtered, search);\n    var results = React.useMemo(function () {\n        var _a, _b;\n        /**\n         * Store a reference to a section and it's list of actions.\n         * Alongside these actions, we'll keep a temporary record of the\n         * final priority calculated by taking the commandScore + the\n         * explicitly set `action.priority` value.\n         */\n        var map = {};\n        /**\n         * Store another reference to a list of sections alongside\n         * the section's final priority, calculated the same as above.\n         */\n        var list = [];\n        /**\n         * We'll take the list above and sort by its priority. Then we'll\n         * collect all actions from the map above for this specific name and\n         * sort by its priority as well.\n         */\n        var ordered = [];\n        for (var i = 0; i < matches.length; i++) {\n            var match = matches[i];\n            var action = match.action;\n            var score = match.score || utils_1.Priority.NORMAL;\n            var section = {\n                name: typeof action.section === \"string\"\n                    ? action.section\n                    : ((_a = action.section) === null || _a === void 0 ? void 0 : _a.name) || exports.NO_GROUP.name,\n                priority: typeof action.section === \"string\"\n                    ? score\n                    : ((_b = action.section) === null || _b === void 0 ? void 0 : _b.priority) || 0 + score,\n            };\n            if (!map[section.name]) {\n                map[section.name] = [];\n                list.push(section);\n            }\n            map[section.name].push({\n                priority: action.priority + score,\n                action: action,\n            });\n        }\n        ordered = list.sort(order).map(function (group) { return ({\n            name: group.name,\n            actions: map[group.name].sort(order).map(function (item) { return item.action; }),\n        }); });\n        /**\n         * Our final result is simply flattening the ordered list into\n         * our familiar (ActionImpl | string)[] shape.\n         */\n        var results = [];\n        for (var i = 0; i < ordered.length; i++) {\n            var group = ordered[i];\n            if (group.name !== exports.NO_GROUP.name)\n                results.push(group.name);\n            for (var i_2 = 0; i_2 < group.actions.length; i_2++) {\n                results.push(group.actions[i_2]);\n            }\n        }\n        return results;\n    }, [matches]);\n    // ensure that users have an accurate `currentRootActionId`\n    // that syncs with the throttled return value.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var memoRootActionId = React.useMemo(function () { return rootActionId; }, [results]);\n    return React.useMemo(function () { return ({\n        results: results,\n        rootActionId: memoRootActionId,\n    }); }, [memoRootActionId, results]);\n}\nexports.useMatches = useMatches;\nfunction useInternalMatches(filtered, search) {\n    var value = React.useMemo(function () { return ({\n        filtered: filtered,\n        search: search,\n    }); }, [filtered, search]);\n    var _a = (0, utils_1.useThrottledValue)(value), throttledFiltered = _a.filtered, throttledSearch = _a.search;\n    return React.useMemo(function () {\n        if (throttledSearch.trim() === \"\") {\n            return throttledFiltered.map(function (action) { return ({ score: 0, action: action }); });\n        }\n        var matches = [];\n        for (var i = 0; i < throttledFiltered.length; i++) {\n            var action = throttledFiltered[i];\n            var score = (0, command_score_1.default)([action.name, action.keywords, action.subtitle].join(\" \"), throttledSearch);\n            if (score > 0) {\n                matches.push({ score: score, action: action });\n            }\n        }\n        return matches;\n    }, [throttledFiltered, throttledSearch]);\n}\n/**\n * @deprecated use useMatches\n */\nexports.useDeepMatches = useMatches;\n", "export { composeRefs, useComposedRefs } from './composeRefs';\n", "import * as React from 'react';\n\ntype PossibleRef<T> = React.Ref<T> | undefined;\n\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */\nfunction setRef<T>(ref: PossibleRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref !== null && ref !== undefined) {\n    (ref as React.MutableRefObject<T>).current = value;\n  }\n}\n\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */\nfunction composeRefs<T>(...refs: PossibleRef<T>[]) {\n  return (node: T) => refs.forEach((ref) => setRef(ref, node));\n}\n\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */\nfunction useComposedRefs<T>(...refs: PossibleRef<T>[]) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return React.useCallback(composeRefs(...refs), refs);\n}\n\nexport { composeRefs, useComposedRefs };\n", "export {\n  Slot,\n  Slottable,\n  //\n  Root,\n} from './Slot';\nexport type { SlotProps } from './Slot';\n", "import * as React from 'react';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotProps extends React.HTMLAttributes<HTMLElement> {\n  children?: React.ReactNode;\n}\n\nconst Slot = React.forwardRef<HTMLElement, SlotProps>((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n  const childrenArray = React.Children.toArray(children);\n  const slottable = childrenArray.find(isSlottable);\n\n  if (slottable) {\n    // the new element to render is the one passed as a child of `Slottable`\n    const newElement = slottable.props.children as React.ReactNode;\n\n    const newChildren = childrenArray.map((child) => {\n      if (child === slottable) {\n        // because the new element will be the one rendered, we are only interested\n        // in grabbing its children (`newElement.props.children`)\n        if (React.Children.count(newElement) > 1) return React.Children.only(null);\n        return React.isValidElement(newElement)\n          ? (newElement.props.children as React.ReactNode)\n          : null;\n      } else {\n        return child;\n      }\n    });\n\n    return (\n      <SlotClone {...slotProps} ref={forwardedRef}>\n        {React.isValidElement(newElement)\n          ? React.cloneElement(newElement, undefined, newChildren)\n          : null}\n      </SlotClone>\n    );\n  }\n\n  return (\n    <SlotClone {...slotProps} ref={forwardedRef}>\n      {children}\n    </SlotClone>\n  );\n});\n\nSlot.displayName = 'Slot';\n\n/* -------------------------------------------------------------------------------------------------\n * SlotClone\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotCloneProps {\n  children: React.ReactNode;\n}\n\nconst SlotClone = React.forwardRef<any, SlotCloneProps>((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n\n  if (React.isValidElement(children)) {\n    return React.cloneElement(children, {\n      ...mergeProps(slotProps, children.props),\n      ref: composeRefs(forwardedRef, (children as any).ref),\n    });\n  }\n\n  return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n});\n\nSlotClone.displayName = 'SlotClone';\n\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/\n\nconst Slottable = ({ children }: { children: React.ReactNode }) => {\n  return <>{children}</>;\n};\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype AnyProps = Record<string, any>;\n\nfunction isSlottable(child: React.ReactNode): child is React.ReactElement {\n  return React.isValidElement(child) && child.type === Slottable;\n}\n\nfunction mergeProps(slotProps: AnyProps, childProps: AnyProps) {\n  // all child props should override\n  const overrideProps = { ...childProps };\n\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      // if the handler exists on both, we compose them\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args: unknown[]) => {\n          childPropValue(...args);\n          slotPropValue(...args);\n        };\n      }\n      // but if it exists only on the slot, we use only this one\n      else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    }\n    // if it's `style`, we merge them\n    else if (propName === 'style') {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === 'className') {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(' ');\n    }\n  }\n\n  return { ...slotProps, ...overrideProps };\n}\n\nconst Root = Slot;\n\nexport {\n  Slot,\n  Slottable,\n  //\n  Root,\n};\nexport type { SlotProps };\n", "export {\n  Primitive,\n  //\n  Root,\n  //\n  dispatchDiscreteCustomEvent,\n} from './Primitive';\nexport type { ComponentPropsWithoutRef, PrimitivePropsWithRef } from './Primitive';\n", "import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Slot } from '@radix-ui/react-slot';\n\nconst NODES = [\n  'a',\n  'button',\n  'div',\n  'h2',\n  'h3',\n  'img',\n  'label',\n  'li',\n  'nav',\n  'ol',\n  'p',\n  'span',\n  'svg',\n  'ul',\n] as const;\n\n// Temporary while we await merge of this fix:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/pull/55396\n// prettier-ignore\ntype PropsWithoutRef<P> = P extends any ? ('ref' extends keyof P ? Pick<P, Exclude<keyof P, 'ref'>> : P) : P;\ntype ComponentPropsWithoutRef<T extends React.ElementType> = PropsWithoutRef<\n  React.ComponentProps<T>\n>;\n\ntype Primitives = { [E in typeof NODES[number]]: PrimitiveForwardRefComponent<E> };\ntype PrimitivePropsWithRef<E extends React.ElementType> = React.ComponentPropsWithRef<E> & {\n  asChild?: boolean;\n};\n\ninterface PrimitiveForwardRefComponent<E extends React.ElementType>\n  extends React.ForwardRefExoticComponent<PrimitivePropsWithRef<E>> {}\n\n/* -------------------------------------------------------------------------------------------------\n * Primitive\n * -----------------------------------------------------------------------------------------------*/\n\nconst Primitive = NODES.reduce((primitive, node) => {\n  const Node = React.forwardRef((props: PrimitivePropsWithRef<typeof node>, forwardedRef: any) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp: any = asChild ? Slot : node;\n\n    React.useEffect(() => {\n      (window as any)[Symbol.for('radix-ui')] = true;\n    }, []);\n\n    return <Comp {...primitiveProps} ref={forwardedRef} />;\n  });\n\n  Node.displayName = `Primitive.${node}`;\n\n  return { ...primitive, [node]: Node };\n}, {} as Primitives);\n\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/\n\n/**\n * Flush custom event dispatch\n * https://github.com/radix-ui/primitives/pull/1378\n *\n * React batches *all* event handlers since version 18, this introduces certain considerations when using custom event types.\n *\n * Internally, React prioritises events in the following order:\n *  - discrete\n *  - continuous\n *  - default\n *\n * https://github.com/facebook/react/blob/a8a4742f1c54493df00da648a3f9d26e3db9c8b5/packages/react-dom/src/events/ReactDOMEventListener.js#L294-L350\n *\n * `discrete` is an  important distinction as updates within these events are applied immediately.\n * React however, is not able to infer the priority of custom event types due to how they are detected internally.\n * Because of this, it's possible for updates from custom events to be unexpectedly batched when\n * dispatched by another `discrete` event.\n *\n * In order to ensure that updates from custom events are applied predictably, we need to manually flush the batch.\n * This utility should be used when dispatching a custom event from within another `discrete` event, this utility\n * is not nessesary when dispatching known event types, or if dispatching a custom type inside a non-discrete event.\n * For example:\n *\n * dispatching a known click \n * target.dispatchEvent(new Event(click))\n *\n * dispatching a custom type within a non-discrete event \n * onScroll={(event) => event.target.dispatchEvent(new CustomEvent(customType))}\n *\n * dispatching a custom type within a `discrete` event \n * onPointerDown={(event) => dispatchDiscreteCustomEvent(event.target, new CustomEvent(customType))}\n *\n * Note: though React classifies `focus`, `focusin` and `focusout` events as `discrete`, it's  not recommended to use\n * this utility with them. This is because it's possible for those handlers to be called implicitly during render\n * e.g. when focus is within a component as it is unmounted, or when managing focus on mount.\n */\n\nfunction dispatchDiscreteCustomEvent<E extends CustomEvent>(target: E['target'], event: E) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Primitive;\n\nexport {\n  Primitive,\n  //\n  Root,\n  //\n  dispatchDiscreteCustomEvent,\n};\nexport type { ComponentPropsWithoutRef, PrimitivePropsWithRef };\n", "export {\n  Portal,\n  //\n  Root,\n} from './Portal';\nexport type { PortalProps } from './Portal';\n", "import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * Portal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'Portal';\n\ntype PortalElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface PortalProps extends PrimitiveDivProps {\n  container?: HTMLElement | null;\n}\n\nconst Portal = React.forwardRef<PortalElement, PortalProps>((props, forwardedRef) => {\n  const { container = globalThis?.document?.body, ...portalProps } = props;\n  return container\n    ? ReactDOM.createPortal(<Primitive.div {...portalProps} ref={forwardedRef} />, container)\n    : null;\n});\n\nPortal.displayName = PORTAL_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Portal;\n\nexport {\n  Portal,\n  //\n  Root,\n};\nexport type { PortalProps };\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KBarPortal = void 0;\nvar react_portal_1 = require(\"@radix-ui/react-portal\");\nvar React = __importStar(require(\"react\"));\nvar types_1 = require(\"./types\");\nvar useKBar_1 = require(\"./useKBar\");\nfunction KBarPortal(_a) {\n    var children = _a.children, container = _a.container;\n    var showing = (0, useKBar_1.useKBar)(function (state) { return ({\n        showing: state.visualState !== types_1.VisualState.hidden,\n    }); }).showing;\n    if (!showing) {\n        return null;\n    }\n    return React.createElement(react_portal_1.Portal, { container: container }, children);\n}\nexports.KBarPortal = KBarPortal;\n", "\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KBarPositioner = void 0;\nvar React = __importStar(require(\"react\"));\nvar defaultStyle = {\n    position: \"fixed\",\n    display: \"flex\",\n    alignItems: \"flex-start\",\n    justifyContent: \"center\",\n    width: \"100%\",\n    inset: \"0px\",\n    padding: \"14vh 16px 16px\",\n};\nfunction getStyle(style) {\n    return style ? __assign(__assign({}, defaultStyle), style) : defaultStyle;\n}\nexports.KBarPositioner = React.forwardRef(function (_a, ref) {\n    var style = _a.style, children = _a.children, props = __rest(_a, [\"style\", \"children\"]);\n    return (React.createElement(\"div\", __assign({ ref: ref, style: getStyle(style) }, props), children));\n});\n", "\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KBarSearch = exports.getListboxItemId = exports.KBAR_LISTBOX = void 0;\nvar React = __importStar(require(\"react\"));\nvar types_1 = require(\"./types\");\nvar useKBar_1 = require(\"./useKBar\");\nexports.KBAR_LISTBOX = \"kbar-listbox\";\nvar getListboxItemId = function (id) { return \"kbar-listbox-item-\" + id; };\nexports.getListboxItemId = getListboxItemId;\nfunction KBarSearch(props) {\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\n        search: state.searchQuery,\n        currentRootActionId: state.currentRootActionId,\n        actions: state.actions,\n        activeIndex: state.activeIndex,\n        showing: state.visualState === types_1.VisualState.showing,\n    }); }), query = _a.query, search = _a.search, actions = _a.actions, currentRootActionId = _a.currentRootActionId, activeIndex = _a.activeIndex, showing = _a.showing, options = _a.options;\n    var defaultPlaceholder = props.defaultPlaceholder, rest = __rest(props, [\"defaultPlaceholder\"]);\n    React.useEffect(function () {\n        query.setSearch(\"\");\n        query.getInput().focus();\n        return function () { return query.setSearch(\"\"); };\n    }, [currentRootActionId, query]);\n    var placeholder = React.useMemo(function () {\n        var defaultText = defaultPlaceholder !== null && defaultPlaceholder !== void 0 ? defaultPlaceholder : \"Type a command or search\";\n        return currentRootActionId && actions[currentRootActionId]\n            ? actions[currentRootActionId].name\n            : defaultText;\n    }, [actions, currentRootActionId, defaultPlaceholder]);\n    return (React.createElement(\"input\", __assign({}, rest, { ref: query.inputRefSetter, autoFocus: true, autoComplete: \"off\", role: \"combobox\", spellCheck: \"false\", \"aria-expanded\": showing, \"aria-controls\": exports.KBAR_LISTBOX, \"aria-activedescendant\": (0, exports.getListboxItemId)(activeIndex), value: search, placeholder: placeholder, onChange: function (event) {\n            var _a, _b, _c;\n            (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, event);\n            query.setSearch(event.target.value);\n            (_c = (_b = options === null || options === void 0 ? void 0 : options.callbacks) === null || _b === void 0 ? void 0 : _b.onQueryChange) === null || _c === void 0 ? void 0 : _c.call(_b, event.target.value);\n        }, onKeyDown: function (event) {\n            var _a;\n            (_a = props.onKeyDown) === null || _a === void 0 ? void 0 : _a.call(props, event);\n            if (currentRootActionId && !search && event.key === \"Backspace\") {\n                var parent_1 = actions[currentRootActionId].parent;\n                query.setCurrentRootAction(parent_1);\n            }\n        } })));\n}\nexports.KBarSearch = KBarSearch;\n", "var props = ['bottom', 'height', 'left', 'right', 'top', 'width'];\n\nvar rectChanged = function rectChanged(a, b) {\n  if (a === void 0) {\n    a = {};\n  }\n\n  if (b === void 0) {\n    b = {};\n  }\n\n  return props.some(function (prop) {\n    return a[prop] !== b[prop];\n  });\n};\n\nvar observedNodes =\n/*#__PURE__*/\nnew Map();\nvar rafId;\n\nvar run = function run() {\n  var changedStates = [];\n  observedNodes.forEach(function (state, node) {\n    var newRect = node.getBoundingClientRect();\n\n    if (rectChanged(newRect, state.rect)) {\n      state.rect = newRect;\n      changedStates.push(state);\n    }\n  });\n  changedStates.forEach(function (state) {\n    state.callbacks.forEach(function (cb) {\n      return cb(state.rect);\n    });\n  });\n  rafId = window.requestAnimationFrame(run);\n};\n\nfunction observeRect(node, cb) {\n  return {\n    observe: function observe() {\n      var wasEmpty = observedNodes.size === 0;\n\n      if (observedNodes.has(node)) {\n        observedNodes.get(node).callbacks.push(cb);\n      } else {\n        observedNodes.set(node, {\n          rect: undefined,\n          hasRectChanged: false,\n          callbacks: [cb]\n        });\n      }\n\n      if (wasEmpty) run();\n    },\n    unobserve: function unobserve() {\n      var state = observedNodes.get(node);\n\n      if (state) {\n        // Remove the callback\n        var index = state.callbacks.indexOf(cb);\n        if (index >= 0) state.callbacks.splice(index, 1); // Remove the node reference\n\n        if (!state.callbacks.length) observedNodes[\"delete\"](node); // Stop the loop\n\n        if (!observedNodes.size) cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\n\nexport default observeRect;\n//# sourceMappingURL=observe-rect.esm.js.map\n", "import React from 'react'\n\nexport default typeof window !== 'undefined'\n  ? React.useLayoutEffect\n  : React.useEffect\n", "import React from 'react'\n\nimport observeRect from '@reach/observe-rect'\n\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect'\n\nexport default function useRect(nodeRef) {\n  const [element, setElement] = React.useState(nodeRef.current)\n  const [rect, dispatch] = React.useReducer(rectReducer, null)\n  const initialRectSet = React.useRef(false)\n\n  useIsomorphicLayoutEffect(() => {\n    if (nodeRef.current !== element) {\n      setElement(nodeRef.current)\n    }\n  })\n\n  useIsomorphicLayoutEffect(() => {\n    if (element && !initialRectSet.current) {\n      initialRectSet.current = true\n      const rect = element.getBoundingClientRect();\n      dispatch({ rect });\n    }\n  }, [element])\n\n  React.useEffect(() => {\n    if (!element) {\n      return\n    }\n\n    const observer = observeRect(element, rect => {\n      dispatch({ rect });\n    });\n\n    observer.observe()\n\n    return () => {\n      observer.unobserve()\n    }\n  }, [element])\n\n  return rect\n}\n\nfunction rectReducer(state, action) {\n  const rect = action.rect\n  if (!state || state.height !== rect.height || state.width !== rect.width) {\n    return rect\n  }\n  return state\n}\n\n", "import React from 'react'\n\nimport useRect from './useRect'\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect'\n\nconst defaultEstimateSize = () => 50\n\nconst defaultKeyExtractor = index => index\n\nconst defaultMeasureSize = (el, horizontal) => {\n  const key = horizontal ? 'offsetWidth' : 'offsetHeight'\n\n  return el[key]\n}\n\nexport const defaultRangeExtractor = range => {\n  const start = Math.max(range.start - range.overscan, 0)\n  const end = Math.min(range.end + range.overscan, range.size - 1)\n\n  const arr = []\n\n  for (let i = start; i <= end; i++) {\n    arr.push(i)\n  }\n\n  return arr\n}\n\nexport function useVirtual({\n  size = 0,\n  estimateSize = defaultEstimateSize,\n  overscan = 1,\n  paddingStart = 0,\n  paddingEnd = 0,\n  parentRef,\n  horizontal,\n  scrollToFn,\n  useObserver,\n  onScrollElement,\n  scrollOffsetFn,\n  keyExtractor = defaultKeyExtractor,\n  measureSize = defaultMeasureSize,\n  rangeExtractor = defaultRangeExtractor,\n}) {\n  const sizeKey = horizontal ? 'width' : 'height'\n  const scrollKey = horizontal ? 'scrollLeft' : 'scrollTop'\n  const latestRef = React.useRef({\n    scrollOffset: 0,\n    measurements: [],\n  })\n  const useMeasureParent = useObserver || useRect\n\n  const { [sizeKey]: outerSize } = useMeasureParent(parentRef) || {\n    [sizeKey]: 0,\n  }\n  latestRef.current.outerSize = outerSize\n\n  const defaultScrollToFn = React.useCallback(\n    offset => {\n      if (parentRef.current) {\n        parentRef.current[scrollKey] = offset\n      }\n    },\n    [parentRef, scrollKey]\n  )\n\n  const resolvedScrollToFn = scrollToFn || defaultScrollToFn\n\n  scrollToFn = React.useCallback(\n    offset => {\n      resolvedScrollToFn(offset, defaultScrollToFn)\n    },\n    [defaultScrollToFn, resolvedScrollToFn]\n  )\n\n  const [measuredCache, setMeasuredCache] = React.useState({})\n\n  const measure = React.useCallback(() => setMeasuredCache({}), [])\n\n  const pendingMeasuredCacheIndexesRef = React.useRef([])\n\n  const measurements = React.useMemo(() => {\n    const min =\n      pendingMeasuredCacheIndexesRef.current.length > 0\n        ? Math.min(...pendingMeasuredCacheIndexesRef.current)\n        : 0\n    pendingMeasuredCacheIndexesRef.current = []\n\n    const measurements = latestRef.current.measurements.slice(0, min)\n\n    for (let i = min; i < size; i++) {\n      const key = keyExtractor(i)\n      const measuredSize = measuredCache[key]\n      const start = measurements[i - 1] ? measurements[i - 1].end : paddingStart\n      const size =\n        typeof measuredSize === 'number' ? measuredSize : estimateSize(i)\n      const end = start + size\n      measurements[i] = { index: i, start, size, end, key }\n    }\n    return measurements\n  }, [estimateSize, measuredCache, paddingStart, size, keyExtractor])\n\n  const totalSize = (measurements[size - 1]?.end || 0) + paddingEnd\n\n  latestRef.current.measurements = measurements\n  latestRef.current.totalSize = totalSize\n\n  const [range, setRange] = React.useState({ start: 0, end: 0 })\n\n  const element = onScrollElement ? onScrollElement.current : parentRef.current\n\n  const scrollOffsetFnRef = React.useRef(scrollOffsetFn)\n  scrollOffsetFnRef.current = scrollOffsetFn\n\n  const rangeTimeoutIdRef = React.useRef(null)\n\n  const cancelAsyncRange = React.useCallback(() => {\n    if (rangeTimeoutIdRef.current !== null) {\n      clearTimeout(rangeTimeoutIdRef.current)\n      rangeTimeoutIdRef.current = null\n    }\n  }, [])\n\n  useIsomorphicLayoutEffect(() => {\n    rangeTimeoutIdRef.current = setTimeout(() => {\n      setRange(prevRange => calculateRange(latestRef.current, prevRange))\n    })\n    return () => cancelAsyncRange()\n  }, [measurements, outerSize, cancelAsyncRange])\n\n  useIsomorphicLayoutEffect(() => {\n    if (!element) {\n      setRange({ start: 0, end: 0 })\n      latestRef.current.scrollOffset = 0\n\n      return\n    }\n\n    const onScroll = event => {\n      const scrollOffset = scrollOffsetFnRef.current\n        ? scrollOffsetFnRef.current(event)\n        : element[scrollKey]\n\n      latestRef.current.scrollOffset = scrollOffset\n\n      cancelAsyncRange()\n      setRange(prevRange => calculateRange(latestRef.current, prevRange))\n    }\n\n    // Determine initially visible range\n    onScroll()\n\n    element.addEventListener('scroll', onScroll, {\n      capture: false,\n      passive: true,\n    })\n\n    return () => {\n      element.removeEventListener('scroll', onScroll)\n    }\n  }, [element, scrollKey, cancelAsyncRange])\n\n  const measureSizeRef = React.useRef(measureSize)\n  measureSizeRef.current = measureSize\n\n  const virtualItems = React.useMemo(() => {\n    const indexes = rangeExtractor({\n      start: range.start,\n      end: range.end,\n      overscan,\n      size: measurements.length,\n    })\n\n    const virtualItems = []\n\n    for (let k = 0, len = indexes.length; k < len; k++) {\n      const i = indexes[k]\n      const measurement = measurements[i]\n\n      const item = {\n        ...measurement,\n        measureRef: el => {\n          if (el) {\n            const measuredSize = measureSizeRef.current(el, horizontal)\n\n            if (measuredSize !== item.size) {\n              const { scrollOffset } = latestRef.current\n\n              if (item.start < scrollOffset) {\n                defaultScrollToFn(scrollOffset + (measuredSize - item.size))\n              }\n\n              pendingMeasuredCacheIndexesRef.current.push(i)\n\n              setMeasuredCache(old => ({\n                ...old,\n                [item.key]: measuredSize,\n              }))\n            }\n          }\n        },\n      }\n\n      virtualItems.push(item)\n    }\n\n    return virtualItems\n  }, [\n    defaultScrollToFn,\n    horizontal,\n    measurements,\n    overscan,\n    range.end,\n    range.start,\n    rangeExtractor,\n  ])\n\n  const mountedRef = React.useRef()\n\n  useIsomorphicLayoutEffect(() => {\n    if (mountedRef.current) {\n      if (estimateSize) setMeasuredCache({})\n    }\n    mountedRef.current = true\n  }, [estimateSize])\n\n  const scrollToOffset = React.useCallback(\n    (toOffset, { align = 'start' } = {}) => {\n      const { scrollOffset, outerSize } = latestRef.current\n\n      if (align === 'auto') {\n        if (toOffset <= scrollOffset) {\n          align = 'start'\n        } else if (toOffset >= scrollOffset + outerSize) {\n          align = 'end'\n        } else {\n          align = 'start'\n        }\n      }\n\n      if (align === 'start') {\n        scrollToFn(toOffset)\n      } else if (align === 'end') {\n        scrollToFn(toOffset - outerSize)\n      } else if (align === 'center') {\n        scrollToFn(toOffset - outerSize / 2)\n      }\n    },\n    [scrollToFn]\n  )\n\n  const tryScrollToIndex = React.useCallback(\n    (index, { align = 'auto', ...rest } = {}) => {\n      const { measurements, scrollOffset, outerSize } = latestRef.current\n\n      const measurement = measurements[Math.max(0, Math.min(index, size - 1))]\n\n      if (!measurement) {\n        return\n      }\n\n      if (align === 'auto') {\n        if (measurement.end >= scrollOffset + outerSize) {\n          align = 'end'\n        } else if (measurement.start <= scrollOffset) {\n          align = 'start'\n        } else {\n          return\n        }\n      }\n\n      const toOffset =\n        align === 'center'\n          ? measurement.start + measurement.size / 2\n          : align === 'end'\n          ? measurement.end\n          : measurement.start\n\n      scrollToOffset(toOffset, { align, ...rest })\n    },\n    [scrollToOffset, size]\n  )\n\n  const scrollToIndex = React.useCallback(\n    (...args) => {\n      // We do a double request here because of\n      // dynamic sizes which can cause offset shift\n      // and end up in the wrong spot. Unfortunately,\n      // we can't know about those dynamic sizes until\n      // we try and render them. So double down!\n      tryScrollToIndex(...args)\n      requestAnimationFrame(() => {\n        tryScrollToIndex(...args)\n      })\n    },\n    [tryScrollToIndex]\n  )\n\n  return {\n    virtualItems,\n    totalSize,\n    scrollToOffset,\n    scrollToIndex,\n    measure,\n  }\n}\n\nconst findNearestBinarySearch = (low, high, getCurrentValue, value) => {\n  while (low <= high) {\n    let middle = ((low + high) / 2) | 0\n    let currentValue = getCurrentValue(middle)\n\n    if (currentValue < value) {\n      low = middle + 1\n    } else if (currentValue > value) {\n      high = middle - 1\n    } else {\n      return middle\n    }\n  }\n\n  if (low > 0) {\n    return low - 1\n  } else {\n    return 0\n  }\n}\n\nfunction calculateRange({ measurements, outerSize, scrollOffset }, prevRange) {\n  const size = measurements.length - 1\n  const getOffset = index => measurements[index].start\n\n  let start = findNearestBinarySearch(0, size, getOffset, scrollOffset)\n  let end = start\n\n  while (end < size && measurements[end].end < scrollOffset + outerSize) {\n    end++\n  }\n\n  if (prevRange.start !== start || prevRange.end !== end) {\n    return { start, end }\n  }\n\n  return prevRange\n}\n", "\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KBarResults = void 0;\nvar React = __importStar(require(\"react\"));\nvar react_virtual_1 = require(\"react-virtual\");\nvar KBarSearch_1 = require(\"./KBarSearch\");\nvar useKBar_1 = require(\"./useKBar\");\nvar utils_1 = require(\"./utils\");\nvar START_INDEX = 0;\nvar KBarResults = function (props) {\n    var activeRef = React.useRef(null);\n    var parentRef = React.useRef(null);\n    // store a ref to all items so we do not have to pass\n    // them as a dependency when setting up event listeners.\n    var itemsRef = React.useRef(props.items);\n    itemsRef.current = props.items;\n    var rowVirtualizer = (0, react_virtual_1.useVirtual)({\n        size: itemsRef.current.length,\n        parentRef: parentRef,\n    });\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\n        search: state.searchQuery,\n        currentRootActionId: state.currentRootActionId,\n        activeIndex: state.activeIndex,\n    }); }), query = _a.query, search = _a.search, currentRootActionId = _a.currentRootActionId, activeIndex = _a.activeIndex, options = _a.options;\n    React.useEffect(function () {\n        var handler = function (event) {\n            var _a;\n            if (event.isComposing) {\n                return;\n            }\n            if (event.key === \"ArrowUp\" || (event.ctrlKey && event.key === \"p\")) {\n                event.preventDefault();\n                query.setActiveIndex(function (index) {\n                    var nextIndex = index > START_INDEX ? index - 1 : index;\n                    // avoid setting active index on a group\n                    if (typeof itemsRef.current[nextIndex] === \"string\") {\n                        if (nextIndex === 0)\n                            return index;\n                        nextIndex -= 1;\n                    }\n                    return nextIndex;\n                });\n            }\n            else if (event.key === \"ArrowDown\" ||\n                (event.ctrlKey && event.key === \"n\")) {\n                event.preventDefault();\n                query.setActiveIndex(function (index) {\n                    var nextIndex = index < itemsRef.current.length - 1 ? index + 1 : index;\n                    // avoid setting active index on a group\n                    if (typeof itemsRef.current[nextIndex] === \"string\") {\n                        if (nextIndex === itemsRef.current.length - 1)\n                            return index;\n                        nextIndex += 1;\n                    }\n                    return nextIndex;\n                });\n            }\n            else if (event.key === \"Enter\") {\n                event.preventDefault();\n                // storing the active dom element in a ref prevents us from\n                // having to calculate the current action to perform based\n                // on the `activeIndex`, which we would have needed to add\n                // as part of the dependencies array.\n                (_a = activeRef.current) === null || _a === void 0 ? void 0 : _a.click();\n            }\n        };\n        window.addEventListener(\"keydown\", handler);\n        return function () { return window.removeEventListener(\"keydown\", handler); };\n    }, [query]);\n    // destructuring here to prevent linter warning to pass\n    // entire rowVirtualizer in the dependencies array.\n    var scrollToIndex = rowVirtualizer.scrollToIndex;\n    React.useEffect(function () {\n        scrollToIndex(activeIndex, {\n            // ensure that if the first item in the list is a group\n            // name and we are focused on the second item, to not\n            // scroll past that group, hiding it.\n            align: activeIndex <= 1 ? \"end\" : \"auto\",\n        });\n    }, [activeIndex, scrollToIndex]);\n    React.useEffect(function () {\n        // TODO(tim): fix scenario where async actions load in\n        // and active index is reset to the first item. i.e. when\n        // users register actions and bust the `useRegisterActions`\n        // cache, we won't want to reset their active index as they\n        // are navigating the list.\n        query.setActiveIndex(\n        // avoid setting active index on a group\n        typeof props.items[START_INDEX] === \"string\"\n            ? START_INDEX + 1\n            : START_INDEX);\n    }, [search, currentRootActionId, props.items, query]);\n    var execute = React.useCallback(function (item) {\n        var _a, _b;\n        if (typeof item === \"string\")\n            return;\n        if (item.command) {\n            item.command.perform(item);\n            query.toggle();\n        }\n        else {\n            query.setSearch(\"\");\n            query.setCurrentRootAction(item.id);\n        }\n        (_b = (_a = options.callbacks) === null || _a === void 0 ? void 0 : _a.onSelectAction) === null || _b === void 0 ? void 0 : _b.call(_a, item);\n    }, [query, options]);\n    var pointerMoved = (0, utils_1.usePointerMovedSinceMount)();\n    return (React.createElement(\"div\", { ref: parentRef, style: {\n            maxHeight: props.maxHeight || 400,\n            position: \"relative\",\n            overflow: \"auto\",\n        } },\n        React.createElement(\"div\", { role: \"listbox\", id: KBarSearch_1.KBAR_LISTBOX, style: {\n                height: rowVirtualizer.totalSize + \"px\",\n                width: \"100%\",\n            } }, rowVirtualizer.virtualItems.map(function (virtualRow) {\n            var item = itemsRef.current[virtualRow.index];\n            var handlers = typeof item !== \"string\" && {\n                onPointerMove: function () {\n                    return pointerMoved &&\n                        activeIndex !== virtualRow.index &&\n                        query.setActiveIndex(virtualRow.index);\n                },\n                onPointerDown: function () { return query.setActiveIndex(virtualRow.index); },\n                onClick: function () { return execute(item); },\n            };\n            var active = virtualRow.index === activeIndex;\n            return (React.createElement(\"div\", __assign({ ref: active ? activeRef : null, id: (0, KBarSearch_1.getListboxItemId)(virtualRow.index), role: \"option\", \"aria-selected\": active, key: virtualRow.index, style: {\n                    position: \"absolute\",\n                    top: 0,\n                    left: 0,\n                    width: \"100%\",\n                    transform: \"translateY(\" + virtualRow.start + \"px)\",\n                } }, handlers), React.cloneElement(props.onRender({\n                item: item,\n                active: active,\n            }), {\n                ref: virtualRow.measureRef,\n            })));\n        }))));\n};\nexports.KBarResults = KBarResults;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useRegisterActions = void 0;\nvar React = __importStar(require(\"react\"));\nvar useKBar_1 = require(\"./useKBar\");\nfunction useRegisterActions(actions, dependencies) {\n    if (dependencies === void 0) { dependencies = []; }\n    var query = (0, useKBar_1.useKBar)().query;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var actionsCache = React.useMemo(function () { return actions; }, dependencies);\n    React.useEffect(function () {\n        if (!actionsCache.length) {\n            return;\n        }\n        var unregister = query.registerActions(actionsCache);\n        return function () {\n            unregister();\n        };\n    }, [query, actionsCache]);\n}\nexports.useRegisterActions = useRegisterActions;\n", "\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KBarAnimator = void 0;\nvar React = __importStar(require(\"react\"));\nvar types_1 = require(\"./types\");\nvar useKBar_1 = require(\"./useKBar\");\nvar utils_1 = require(\"./utils\");\nvar appearanceAnimationKeyframes = [\n    {\n        opacity: 0,\n        transform: \"scale(.99)\",\n    },\n    { opacity: 1, transform: \"scale(1.01)\" },\n    { opacity: 1, transform: \"scale(1)\" },\n];\nvar bumpAnimationKeyframes = [\n    {\n        transform: \"scale(1)\",\n    },\n    {\n        transform: \"scale(.98)\",\n    },\n    {\n        transform: \"scale(1)\",\n    },\n];\nvar KBarAnimator = function (_a) {\n    var _b, _c;\n    var children = _a.children, style = _a.style, className = _a.className, disableCloseOnOuterClick = _a.disableCloseOnOuterClick;\n    var _d = (0, useKBar_1.useKBar)(function (state) { return ({\n        visualState: state.visualState,\n        currentRootActionId: state.currentRootActionId,\n    }); }), visualState = _d.visualState, currentRootActionId = _d.currentRootActionId, query = _d.query, options = _d.options;\n    var outerRef = React.useRef(null);\n    var innerRef = React.useRef(null);\n    var enterMs = ((_b = options === null || options === void 0 ? void 0 : options.animations) === null || _b === void 0 ? void 0 : _b.enterMs) || 0;\n    var exitMs = ((_c = options === null || options === void 0 ? void 0 : options.animations) === null || _c === void 0 ? void 0 : _c.exitMs) || 0;\n    // Show/hide animation\n    React.useEffect(function () {\n        if (visualState === types_1.VisualState.showing) {\n            return;\n        }\n        var duration = visualState === types_1.VisualState.animatingIn ? enterMs : exitMs;\n        var element = outerRef.current;\n        element === null || element === void 0 ? void 0 : element.animate(appearanceAnimationKeyframes, {\n            duration: duration,\n            easing: \n            // TODO: expose easing in options\n            visualState === types_1.VisualState.animatingOut ? \"ease-in\" : \"ease-out\",\n            direction: visualState === types_1.VisualState.animatingOut ? \"reverse\" : \"normal\",\n            fill: \"forwards\",\n        });\n    }, [options, visualState, enterMs, exitMs]);\n    // Height animation\n    var previousHeight = React.useRef();\n    React.useEffect(function () {\n        // Only animate if we're actually showing\n        if (visualState === types_1.VisualState.showing) {\n            var outer_1 = outerRef.current;\n            var inner_1 = innerRef.current;\n            if (!outer_1 || !inner_1) {\n                return;\n            }\n            var ro_1 = new ResizeObserver(function (entries) {\n                for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                    var entry = entries_1[_i];\n                    var cr = entry.contentRect;\n                    if (!previousHeight.current) {\n                        previousHeight.current = cr.height;\n                    }\n                    outer_1.animate([\n                        {\n                            height: previousHeight.current + \"px\",\n                        },\n                        {\n                            height: cr.height + \"px\",\n                        },\n                    ], {\n                        duration: enterMs / 2,\n                        // TODO: expose configs here\n                        easing: \"ease-out\",\n                        fill: \"forwards\",\n                    });\n                    previousHeight.current = cr.height;\n                }\n            });\n            ro_1.observe(inner_1);\n            return function () {\n                ro_1.unobserve(inner_1);\n            };\n        }\n    }, [visualState, options, enterMs, exitMs]);\n    // Bump animation between nested actions\n    var firstRender = React.useRef(true);\n    React.useEffect(function () {\n        if (firstRender.current) {\n            firstRender.current = false;\n            return;\n        }\n        var element = outerRef.current;\n        if (element) {\n            element.animate(bumpAnimationKeyframes, {\n                duration: enterMs,\n                easing: \"ease-out\",\n            });\n        }\n    }, [currentRootActionId, enterMs]);\n    (0, utils_1.useOuterClick)(outerRef, function () {\n        var _a, _b;\n        if (disableCloseOnOuterClick) {\n            return;\n        }\n        query.setVisualState(types_1.VisualState.animatingOut);\n        (_b = (_a = options.callbacks) === null || _a === void 0 ? void 0 : _a.onClose) === null || _b === void 0 ? void 0 : _b.call(_a);\n    });\n    return (React.createElement(\"div\", { ref: outerRef, style: __assign(__assign(__assign({}, appearanceAnimationKeyframes[0]), style), { pointerEvents: \"auto\" }), className: className },\n        React.createElement(\"div\", { ref: innerRef }, children)));\n};\nexports.KBarAnimator = KBarAnimator;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./ActionInterface\"), exports);\n__exportStar(require(\"./ActionImpl\"), exports);\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Priority = exports.createAction = void 0;\nvar utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"createAction\", { enumerable: true, get: function () { return utils_1.createAction; } });\nObject.defineProperty(exports, \"Priority\", { enumerable: true, get: function () { return utils_1.Priority; } });\n__exportStar(require(\"./useMatches\"), exports);\n__exportStar(require(\"./KBarPortal\"), exports);\n__exportStar(require(\"./KBarPositioner\"), exports);\n__exportStar(require(\"./KBarSearch\"), exports);\n__exportStar(require(\"./KBarResults\"), exports);\n__exportStar(require(\"./useKBar\"), exports);\n__exportStar(require(\"./useRegisterActions\"), exports);\n__exportStar(require(\"./KBarContextProvider\"), exports);\n__exportStar(require(\"./KBarAnimator\"), exports);\n__exportStar(require(\"./types\"), exports);\n__exportStar(require(\"./action\"), exports);\n"],
  "mappings": "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",
  "names": ["React", "Command", "ActionImpl", "ActionInterface", "HistoryItemImpl", "HistoryImpl", "VisualState", "React", "props", "state", "Publisher", "Subscriber", "event", "React", "_a", "_b", "_c", "action", "React", "props", "React", "collected", "React", "actions", "i", "_a", "group", "results", "action", "setRef", "ref", "value", "undefined", "current", "composeRefs", "refs", "node", "forEach", "isSlottable", "child", "React", "type", "Slottable", "mergeProps", "slotProps", "childProps", "overrideProps", "propName", "slotPropValue", "childPropValue", "isHandler", "test", "args", "filter", "Boolean", "join", "Slot", "SlotClone", "props", "forwardedRef", "childrenArray", "toArray", "children", "slottable", "find", "newElement", "newChildren", "map", "count", "only", "$9IrjX$createElement", "undefined", "displayName", "ref", "composeRefs", "$9IrjX$Fragment", "NODES", "Primitive", "reduce", "primitive", "node", "Node", "React", "props", "forwardedRef", "primitiveProps", "Comp", "asChild", "Slot", "window", "Symbol", "for", "$4q5Fq$createElement", "displayName", "PORTAL_NAME", "Portal", "Root", "React", "props", "forwardedRef", "globalThis", "document", "body", "portalProps", "container", "ReactDOM", "createPortal", "$7SXl2$createElement", "React", "React", "props", "React", "props", "_a", "observeRect", "node", "cb", "observe", "wasEmpty", "observedNodes", "rect", "hasRectChanged", "callbacks", "run", "unobserve", "state", "index", "cancelAnimationFrame", "useRect", "nodeRef", "React", "useState", "current", "element", "setElement", "useReducer", "rectReducer", "dispatch", "initialRectSet", "useRef", "useIsomorphicLayoutEffect", "getBoundingClientRect", "useEffect", "observer", "action", "height", "width", "useVirtual", "size", "estimateSize", "defaultEstimateSize", "overscan", "paddingStart", "paddingEnd", "parentRef", "horizontal", "scrollToFn", "useObserver", "onScrollElement", "scrollOffsetFn", "keyExtractor", "defaultKeyExtractor", "measureSize", "defaultMeasureSize", "rangeExtractor", "defaultRangeExtractor", "sizeKey", "scrollKey", "latestRef", "scrollOffset", "measurements", "useMeasureParent", "outerSize", "defaultScrollToFn", "useCallback", "offset", "resolvedScrollToFn", "measuredCache", "setMeasuredCache", "measure", "pendingMeasuredCacheIndexesRef", "useMemo", "min", "length", "Math", "slice", "i", "key", "measuredSize", "start", "end", "totalSize", "range", "setRange", "scrollOffsetFnRef", "rangeTimeoutIdRef", "cancelAsyncRange", "clearTimeout", "setTimeout", "prevRange", "calculateRange", "onScroll", "event", "addEventListener", "capture", "passive", "removeEventListener", "measureSizeRef", "virtualItems", "indexes", "_loop", "k", "len", "measurement", "item", "_extends", "measureRef", "el", "push", "old", "_extends2", "mountedRef", "scrollToOffset", "toOffset", "align", "tryScrollToIndex", "rest", "max", "scrollToIndex", "args", "requestAnimationFrame", "getOffset", "findNearestBinarySearch", "props", "rectChanged", "b", "changedStates", "newRect", "rafId", "window", "useLayoutEffect", "arr", "low", "high", "getCurrentValue", "value", "middle", "currentValue", "React", "props", "_a", "React", "React", "_a", "_b", "exports", "exports"]
}
