{
  "version": 3,
  "sources": ["../../lodash.mergewith/index.js", "../../@chakra-ui/hooks/node_modules/copy-to-clipboard/index.js", "../../performance-now/lib/src/performance-now.coffee", "../../raf/index.js", "../../@renderlesskit/react/src/accordion/__keys.ts", "../../reakit-system/es/index.js", "../../reakit-utils/es/index.js", "../../@renderlesskit/react/src/system/forwardRef.tsx", "../../@renderlesskit/react/src/system/memo.tsx", "../../@renderlesskit/react/src/system/createComponent.tsx", "../../@renderlesskit/react/src/system/createComposableHook.tsx", "../../@renderlesskit/react/src/system/createHook.tsx", "../../@renderlesskit/react/src/accordion/Accordion.ts", "../../@renderlesskit/react/src/accordion/AccordionBaseState.ts", "../../@renderlesskit/react/src/accordion/AccordionMultiState.ts", "../../@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js", "../../css-box-model/dist/css-box-model.esm.js", "../../@chakra-ui/utils/dist/chakra-ui-utils.esm.js", "../../@chakra-ui/hooks/dist/use-animation-state-5054a9f7.esm.js", "../../@renderlesskit/react/src/accordion/AccordionPanel.ts", "../../@renderlesskit/react/src/accordion/helpers.ts", "../../@renderlesskit/react/src/accordion/AccordionState.ts", "../../@renderlesskit/react/src/accordion/AccordionTrigger.ts", "../../@renderlesskit/react/node_modules/date-fns/esm/_lib/toInteger/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/_lib/requiredArgs/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/toDate/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/addDays/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/addMonths/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/isWeekend/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/_lib/defaultOptions/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/startOfDay/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/addWeeks/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/addYears/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/constants/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/isSameDay/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/endOfMonth/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/startOfMonth/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/_lib/startOfUTCISOWeek/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/_lib/getUTCISOWeekYear/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/_lib/startOfUTCISOWeekYear/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/_lib/getUTCISOWeek/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/_lib/getUTCWeekYear/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/_lib/startOfUTCWeekYear/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/_lib/getUTCWeek/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/locale/en-US/_lib/match/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/formatDistanceStrict/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/getDate/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/getDaysInMonth/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/getHours/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/getMinutes/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/getMonth/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/getOverlappingDaysInIntervals/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/getSeconds/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/getYear/index.js", "../../@babel/runtime/helpers/esm/createSuper.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/Setter.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/Parser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/EraParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/constants.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/utils.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/YearParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/LocalWeekYearParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/ISOWeekYearParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/ExtendedYearParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/QuarterParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/StandAloneQuarterParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/MonthParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/StandAloneMonthParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/_lib/setUTCWeek/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/LocalWeekParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/_lib/setUTCISOWeek/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/ISOWeekParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/DateParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/DayOfYearParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/_lib/setUTCDay/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/DayParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/LocalDayParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/StandAloneLocalDayParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/_lib/setUTCISODay/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/ISODayParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/AMPMParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/AMPMMidnightParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/DayPeriodParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/Hour1to12Parser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/Hour0to23Parser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/Hour0To11Parser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/Hour1To24Parser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/MinuteParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/SecondParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/FractionOfSecondParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/ISOTimezoneWithZParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/ISOTimezoneParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/TimestampSecondsParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/TimestampMillisecondsParser.js", "../../@renderlesskit/react/node_modules/date-fns/esm/parse/_lib/parsers/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/isSameMonth/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/subDays/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/setMonth/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/setDate/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/setDay/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/setHours/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/setMinutes/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/setSeconds/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/setYear/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/subMonths/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/subWeeks/index.js", "../../@renderlesskit/react/node_modules/date-fns/esm/subYears/index.js", "../../@renderlesskit/react/src/utils/date.ts", "../../@renderlesskit/react/src/utils/useControllableState.tsx", "../../@renderlesskit/react/src/utils/useControlledState.tsx", "../../@renderlesskit/react/src/utils/index.ts", "../../@renderlesskit/react/src/breadcrumbs/__keys.ts", "../../@renderlesskit/react/src/link/__keys.ts", "../../@renderlesskit/react/src/link/Link.ts", "../../@renderlesskit/react/src/breadcrumbs/BreadcrumbLink.ts", "../../@renderlesskit/react/src/breadcrumbs/Breadcrumbs.ts", "../../@renderlesskit/react/src/calendar/__keys.ts", "../../@renderlesskit/react/src/calendar/Calendar.ts", "../../@renderlesskit/react/src/calendar/CalendarButton.ts", "../../@renderlesskit/react/src/calendar/CalendarCell.ts", "../../@renderlesskit/react/src/calendar/CalendarCellButton.ts", "../../@react-aria/ssr/dist/packages/@react-aria/ssr/src/index.ts", "../../@react-aria/ssr/dist/packages/@react-aria/ssr/src/SSRProvider.tsx", "../../@internationalized/string/dist/packages/@internationalized/string/src/index.ts", "../../@internationalized/string/dist/packages/@internationalized/string/src/LocalizedStringDictionary.ts", "../../@internationalized/string/dist/packages/@internationalized/string/src/LocalizedStringFormatter.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/index.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/CalendarDate.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/manipulation.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/conversion.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/calendars/GregorianCalendar.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/utils.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/queries.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/weekStartData.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/string.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/calendars/JapaneseCalendar.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/calendars/BuddhistCalendar.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/calendars/TaiwanCalendar.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/calendars/PersianCalendar.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/calendars/IndianCalendar.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/calendars/IslamicCalendar.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/calendars/HebrewCalendar.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/calendars/EthiopicCalendar.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/createCalendar.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/DateFormatter.ts", "../../@internationalized/number/dist/packages/@internationalized/number/src/index.ts", "../../@internationalized/number/dist/packages/@internationalized/number/src/NumberFormatter.ts", "../../@internationalized/number/dist/packages/@internationalized/number/src/NumberParser.ts", "../../@react-aria/i18n/dist/packages/@react-aria/i18n/src/index.ts", "../../@react-aria/i18n/dist/packages/@react-aria/i18n/src/context.tsx", "../../@react-aria/i18n/dist/packages/@react-aria/i18n/src/utils.ts", "../../@react-aria/i18n/dist/packages/@react-aria/i18n/src/useDefaultLocale.ts", "../../@react-aria/i18n/dist/node_modules/@parcel/node-resolver-core/lib/_empty.js", "../../@react-aria/i18n/dist/packages/@react-aria/i18n/src/useLocalizedStringFormatter.ts", "../../@react-aria/i18n/dist/packages/@react-aria/i18n/src/useListFormatter.tsx", "../../@react-aria/i18n/dist/packages/@react-aria/i18n/src/useDateFormatter.ts", "../../@react-aria/i18n/dist/packages/@react-aria/i18n/src/useNumberFormatter.ts", "../../@react-aria/i18n/dist/packages/@react-aria/i18n/src/useCollator.ts", "../../@react-aria/i18n/dist/packages/@react-aria/i18n/src/useFilter.ts", "../../intl-messageformat/node_modules/tslib/tslib.es6.js", "../../@formatjs/icu-messageformat-parser/node_modules/tslib/tslib.es6.js", "../../@formatjs/icu-messageformat-parser/lib/error.js", "../../@formatjs/icu-messageformat-parser/lib/types.js", "../../@formatjs/icu-messageformat-parser/lib/regex.generated.js", "../../@formatjs/icu-skeleton-parser/lib/date-time.js", "../../@formatjs/icu-skeleton-parser/node_modules/tslib/tslib.es6.js", "../../@formatjs/icu-skeleton-parser/lib/regex.generated.js", "../../@formatjs/icu-skeleton-parser/lib/number.js", "../../@formatjs/icu-messageformat-parser/lib/time-data.generated.js", "../../@formatjs/icu-messageformat-parser/lib/date-time-pattern-generator.js", "../../@formatjs/icu-messageformat-parser/lib/parser.js", "../../@formatjs/icu-messageformat-parser/lib/index.js", "../../@formatjs/fast-memoize/lib/index.js", "../../intl-messageformat/lib/src/error.js", "../../intl-messageformat/lib/src/formatters.js", "../../intl-messageformat/lib/src/core.js", "../../@react-aria/i18n/dist/useMessageFormatter.module.js", "../../@renderlesskit/react/src/calendar/CalendarGrid.ts", "../../@react-stately/utils/dist/packages/@react-stately/utils/src/index.ts", "../../@react-stately/utils/dist/packages/@react-stately/utils/src/useControlledState.ts", "../../@react-stately/utils/dist/packages/@react-stately/utils/src/number.ts", "../../clsx/dist/clsx.m.js", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/index.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useId.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useLayoutEffect.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/chain.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/mergeProps.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/mergeRefs.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/filterDOMProps.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/focusWithoutScrolling.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/getOffset.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/runAfterTransition.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useDrag1D.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useGlobalListeners.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useLabels.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useObjectRef.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useUpdateEffect.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useResizeObserver.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useSyncRef.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/getScrollParent.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useViewportSize.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useDescription.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/platform.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useEvent.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useValueEffect.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/scrollIntoView.ts", "../../@renderlesskit/react/src/calendar/CalendarHeader.ts", "../../@renderlesskit/react/src/calendar/CalendarState.ts", "../../@renderlesskit/react/src/utils/LiveAnnouncer.tsx", "../../@renderlesskit/react/src/calendar/helpers/useWeekStart.ts", "../../@renderlesskit/react/src/calendar/helpers/index.ts", "../../@renderlesskit/react/src/calendar/CalendarWeekTitle.ts", "../../@renderlesskit/react/src/calendar/RangeCalendarState.ts", "../../@renderlesskit/react/src/checkbox/__keys.ts", "../../@renderlesskit/react/src/checkbox/Checkbox.tsx", "../../@renderlesskit/react/src/checkbox/helpers.tsx", "../../@renderlesskit/react/src/checkbox/CheckboxState.tsx", "../../@renderlesskit/react/src/datepicker/__keys.ts", "../../@renderlesskit/react/src/picker-base/__keys.ts", "../../@renderlesskit/react/src/picker-base/PickerBase.ts", "../../@renderlesskit/react/src/picker-base/PickerBaseContent.ts", "../../@renderlesskit/react/src/picker-base/PickerBaseState.ts", "../../@renderlesskit/react/src/picker-base/PickerBaseTrigger.ts", "../../@renderlesskit/react/src/datepicker/DatePicker.ts", "../../@renderlesskit/react/src/datepicker/DatePickerContent.ts", "../../@renderlesskit/react/src/segment/__keys.ts", "../../@renderlesskit/react/src/segment/Segment.ts", "../../@react-aria/live-announcer/dist/packages/@react-aria/live-announcer/src/index.ts", "../../@react-aria/live-announcer/dist/packages/@react-aria/live-announcer/src/LiveAnnouncer.tsx", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/src/index.ts", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/src/useSpinButton.ts", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/*.js", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/ar-AE.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/bg-BG.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/cs-CZ.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/da-DK.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/de-DE.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/el-GR.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/en-US.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/es-ES.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/et-EE.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/fi-FI.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/fr-FR.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/he-IL.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/hr-HR.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/hu-HU.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/it-IT.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/ja-JP.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/ko-KR.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/lt-LT.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/lv-LV.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/nb-NO.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/nl-NL.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/pl-PL.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/pt-BR.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/pt-PT.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/ro-RO.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/ru-RU.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/sk-SK.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/sl-SI.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/sr-SP.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/sv-SE.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/tr-TR.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/uk-UA.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/zh-CN.json", "../../@react-aria/spinbutton/dist/packages/@react-aria/spinbutton/intl/zh-TW.json", "../../@renderlesskit/react/src/segment/helpers/index.ts", "../../@renderlesskit/react/src/segment/SegmentField.ts", "../../@renderlesskit/react/src/segment/SegmentState.ts", "../../@renderlesskit/react/src/datepicker/DatePickerSegment.ts", "../../@renderlesskit/react/src/datepicker/DatePickerSegmentField.ts", "../../@renderlesskit/react/src/datepicker/DatePickerState.ts", "../../@renderlesskit/react/src/datepicker/DatePickerTrigger.ts", "../../@renderlesskit/react/src/datepicker/DateRangePickerState.ts", "../../@renderlesskit/react/src/dialog/__keys.ts", "../../@renderlesskit/react/src/dialog/Dialog.tsx", "../../react-remove-scroll/dist/es2015/Combination.js", "../../react-remove-scroll/dist/es2015/UI.js", "../../react-remove-scroll-bar/dist/es2015/constants.js", "../../use-callback-ref/dist/es2015/assignRef.js", "../../use-callback-ref/dist/es2015/useRef.js", "../../use-callback-ref/dist/es2015/useMergeRef.js", "../../use-sidecar/dist/es2015/hoc.js", "../../use-sidecar/dist/es2015/hook.js", "../../use-sidecar/dist/es2015/medium.js", "../../use-sidecar/dist/es2015/renderProp.js", "../../use-sidecar/dist/es2015/exports.js", "../../react-remove-scroll/dist/es2015/medium.js", "../../react-remove-scroll/dist/es2015/SideEffect.js", "../../react-remove-scroll-bar/dist/es2015/component.js", "../../react-style-singleton/dist/es2015/hook.js", "../../get-nonce/dist/es2015/index.js", "../../react-style-singleton/dist/es2015/singleton.js", "../../react-style-singleton/dist/es2015/component.js", "../../react-remove-scroll-bar/dist/es2015/utils.js", "../../react-remove-scroll/dist/es2015/aggresiveCapture.js", "../../react-remove-scroll/dist/es2015/handleScroll.js", "../../react-remove-scroll/dist/es2015/sidecar.js", "../../@renderlesskit/react/src/disclosure/__keys.ts", "../../@renderlesskit/react/src/disclosure/Disclosure.tsx", "../../@renderlesskit/react/src/disclosure/DisclosureCollapseContent.tsx", "../../@renderlesskit/react/src/disclosure/helpers.ts", "../../@renderlesskit/react/src/disclosure/DisclosureContent.tsx", "../../@renderlesskit/react/src/disclosure/DisclosureState.ts", "../../@renderlesskit/react/src/dialog/helpers/DialogBackdropContext.ts", "../../@renderlesskit/react/src/dialog/helpers/useEventListenerOutside.ts", "../../@renderlesskit/react/src/dialog/helpers/useFocusTrap.ts", "../../@renderlesskit/react/src/dialog/helpers/usePortalRef.ts", "../../@renderlesskit/react/src/dialog/helpers/useDisableHoverOutside.ts", "../../@renderlesskit/react/src/dialog/helpers/useDisclosureRef.ts", "../../@renderlesskit/react/src/dialog/helpers/useFocusOnBlur.ts", "../../@renderlesskit/react/src/dialog/helpers/useFocusOnChildUnmount.ts", "../../@renderlesskit/react/src/dialog/helpers/useFocusOnHide.ts", "../../@renderlesskit/react/src/dialog/helpers/useFocusOnShow.ts", "../../@renderlesskit/react/src/dialog/helpers/useHideOnClickOutside.ts", "../../@renderlesskit/react/src/dialog/helpers/useNestedDialogs.tsx", "../../@renderlesskit/react/src/dialog/DialogBackdrop.tsx", "../../@renderlesskit/react/src/dialog/DialogDisclosure.ts", "../../@renderlesskit/react/src/dialog/DialogState.ts", "../../@renderlesskit/react/src/drawer/__keys.ts", "../../@renderlesskit/react/src/drawer/Drawer.ts", "../../@renderlesskit/react/src/drawer/DrawerBackdrop.ts", "../../@renderlesskit/react/src/drawer/DrawerDisclosure.tsx", "../../@renderlesskit/react/src/drawer/DrawerState.ts", "../../@renderlesskit/react/src/meter/__keys.ts", "../../@renderlesskit/react/src/meter/Meter.ts", "../../@renderlesskit/react/src/meter/helpers.ts", "../../@renderlesskit/react/src/meter/MeterState.ts", "../../@renderlesskit/react/src/number-input/__keys.ts", "../../@renderlesskit/react/src/number-input/NumberInput.ts", "../../@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js", "../../@renderlesskit/react/src/number-input/helpers/useSpinner.ts", "../../@renderlesskit/react/src/number-input/helpers/index.ts", "../../@renderlesskit/react/src/number-input/NumberInputDecrementButton.ts", "../../@renderlesskit/react/src/number-input/NumberInputIncrementButton.ts", "../../@renderlesskit/react/src/number-input/NumberInputState.ts", "../../@chakra-ui/counter/dist/chakra-ui-counter.esm.js", "../../@renderlesskit/react/src/pagination/__keys.ts", "../../@renderlesskit/react/src/pagination/Pagination.ts", "../../@renderlesskit/react/src/pagination/PaginationButton.ts", "../../@renderlesskit/react/src/pagination/PaginationState.ts", "../../@renderlesskit/react/src/popover/__keys.ts", "../../@renderlesskit/react/src/popover/Popover.tsx", "../../@renderlesskit/react/src/popover/PopoverAnchor.tsx", "../../@renderlesskit/react/src/popover/PopoverArrow.tsx", "../../@renderlesskit/react/src/popover/PopoverArrowContent.tsx", "../../@renderlesskit/react/src/popover/PopoverBackdrop.ts", "../../@renderlesskit/react/src/popover/PopoverContent.tsx", "../../@renderlesskit/react/src/popover/PopoverDisclosure.tsx", "../../@renderlesskit/react/src/popover/PopoverState.ts", "../../@radix-ui/popper/dist/packages/core/popper/src/popper.ts", "../../@radix-ui/rect/dist/packages/core/rect/src/observeElementRect.ts", "../../@radix-ui/react-use-rect/dist/packages/react/use-rect/src/useRect.tsx", "../../@radix-ui/react-use-size/dist/packages/react/use-size/src/useSize.tsx", "../../@renderlesskit/react/src/popover/PopoverTrigger.tsx", "../../@renderlesskit/react/src/progress/__keys.ts", "../../@renderlesskit/react/src/progress/Progress.ts", "../../@renderlesskit/react/src/progress/ProgressState.ts", "../../@renderlesskit/react/src/radio/__keys.ts", "../../@renderlesskit/react/src/radio/Radio.tsx", "../../@renderlesskit/react/src/radio/helpers.tsx", "../../@renderlesskit/react/src/radio/RadioGroup.tsx", "../../@renderlesskit/react/src/radio/RadioState.tsx", "../../@renderlesskit/react/src/select/__keys.ts", "../../@renderlesskit/react/src/select/Select.ts", "../../@renderlesskit/react/src/select/SelectItem.ts", "../../@renderlesskit/react/src/select/helpers/useTypeaheadShortcut.ts", "../../@renderlesskit/react/src/select/SelectBaseState.ts", "../../@renderlesskit/react/src/select/helpers/index.ts", "../../@renderlesskit/react/src/select/SelectOption.ts", "../../@renderlesskit/react/src/select/SelectPopover.ts", "../../@renderlesskit/react/src/select/SelectList.ts", "../../@renderlesskit/react/src/select/SelectListState.ts", "../../@renderlesskit/react/src/select/SelectPopoverState.ts", "../../@renderlesskit/react/src/select/SelectState.ts", "../../@renderlesskit/react/src/slider/__keys.ts", "../../@react-stately/slider/dist/packages/@react-stately/slider/src/index.ts", "../../@react-stately/slider/dist/packages/@react-stately/slider/src/useSliderState.ts", "../../@renderlesskit/react/src/slider/SliderBaseState.ts", "../../@renderlesskit/react/src/slider/SliderGroup.ts", "../../@renderlesskit/react/src/slider/SliderInput.ts", "../../@renderlesskit/react/src/slider/SliderLabel.ts", "../../@renderlesskit/react/src/slider/SliderOutput.ts", "../../@renderlesskit/react/src/slider/SliderState.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/index.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/Pressable.tsx", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/usePress.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/textSelection.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/utils.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/context.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/PressResponder.tsx", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocus.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocusVisible.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocusWithin.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useHover.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useInteractOutside.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useKeyboard.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/createEventHandler.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useMove.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useScrollWheel.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useLongPress.ts", "../../@react-aria/label/dist/packages/@react-aria/label/src/index.ts", "../../@react-aria/label/dist/packages/@react-aria/label/src/useField.ts", "../../@react-aria/label/dist/packages/@react-aria/label/src/useLabel.ts", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/index.ts", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/FocusScope.tsx", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/focusSafely.ts", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/isElementVisible.ts", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/FocusRing.tsx", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/useFocusRing.ts", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/useFocusable.tsx", "../../@react-aria/slider/dist/packages/@react-aria/slider/src/index.ts", "../../@react-aria/slider/dist/packages/@react-aria/slider/src/useSlider.ts", "../../@react-aria/slider/dist/packages/@react-aria/slider/src/utils.ts", "../../@react-aria/slider/dist/packages/@react-aria/slider/src/useSliderThumb.ts", "../../@renderlesskit/react/src/slider/SliderThumb.ts", "../../@renderlesskit/react/src/slider/SliderThumbState.ts", "../../@renderlesskit/react/src/slider/SliderTrack.ts", "../../@renderlesskit/react/src/timepicker/__keys.ts", "../../@renderlesskit/react/src/timepicker/TimePicker.ts", "../../reakit/es/Composite/index.js", "../../@renderlesskit/react/src/timepicker/TimePickerColumn.ts", "../../@renderlesskit/react/src/timepicker/TimePickerColumnState.ts", "../../@renderlesskit/react/src/timepicker/helpers.ts", "../../@renderlesskit/react/src/timepicker/TimePickerColumnValue.ts", "../../@renderlesskit/react/src/timepicker/TimePickerContent.ts", "../../@renderlesskit/react/src/timepicker/TimePickerSegment.ts", "../../@renderlesskit/react/src/timepicker/TimePickerSegmentField.ts", "../../@renderlesskit/react/src/timepicker/TimePickerState.ts", "../../@renderlesskit/react/src/timepicker/TimePickerTrigger.ts", "../../@renderlesskit/react/src/toast/__keys.ts", "../../@renderlesskit/react/src/toast/CreateToastContext.tsx", "../../@renderlesskit/react/src/toast/helpers/index.ts", "../../@renderlesskit/react/src/toast/ToastState.ts", "../../@renderlesskit/react/src/toast/ToastTypes.ts", "../../@renderlesskit/react/src/toast/useToastTimer.tsx", "../../@renderlesskit/react/src/tooltip/Tooltip.tsx", "../../@renderlesskit/react/src/tooltip/__keys.ts", "../../@renderlesskit/react/src/tooltip/TooltipAnchor.tsx", "../../@renderlesskit/react/src/tooltip/TooltipArrow.ts", "../../@renderlesskit/react/src/tooltip/TooltipArrowContent.ts", "../../@renderlesskit/react/src/tooltip/TooltipContent.tsx", "../../@renderlesskit/react/src/tooltip/__globalState.ts", "../../@renderlesskit/react/src/tooltip/TooltipReference.ts", "../../@renderlesskit/react/src/tooltip/TooltipState.ts", "../../@renderlesskit/react/src/tooltip/TooltipTrigger.ts"],
  "sourcesContent": ["/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * This method is like `_.merge` except that it accepts `customizer` which\n * is invoked to produce the merged values of the destination and source\n * properties. If `customizer` returns `undefined`, merging is handled by the\n * method instead. The `customizer` is invoked with six arguments:\n * (objValue, srcValue, key, object, source, stack).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   if (_.isArray(objValue)) {\n *     return objValue.concat(srcValue);\n *   }\n * }\n *\n * var object = { 'a': [1], 'b': [2] };\n * var other = { 'a': [3], 'b': [4] };\n *\n * _.mergeWith(object, other, customizer);\n * // => { 'a': [1, 3], 'b': [2, 4] }\n */\nvar mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n  baseMerge(object, source, srcIndex, customizer);\n});\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = mergeWith;\n", "\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n", null, "var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n", "// Automatically generated\nexport const USE_ACCORDION_BASE_STATE_KEYS = [\n  \"baseId\",\n  \"unstable_virtual\",\n  \"rtl\",\n  \"orientation\",\n  \"currentId\",\n  \"loop\",\n  \"wrap\",\n  \"shift\",\n  \"unstable_includesBaseElement\",\n] as const;\nexport const ACCORDION_BASE_STATE_KEYS = [\n  ...USE_ACCORDION_BASE_STATE_KEYS,\n  \"unstable_idCountRef\",\n  \"items\",\n  \"groups\",\n  \"unstable_moves\",\n  \"unstable_hasActiveWidget\",\n  \"panels\",\n  \"setBaseId\",\n  \"registerItem\",\n  \"unregisterItem\",\n  \"registerGroup\",\n  \"unregisterGroup\",\n  \"move\",\n  \"next\",\n  \"previous\",\n  \"up\",\n  \"down\",\n  \"first\",\n  \"last\",\n  \"sort\",\n  \"unstable_setVirtual\",\n  \"setRTL\",\n  \"setOrientation\",\n  \"setCurrentId\",\n  \"setLoop\",\n  \"setWrap\",\n  \"setShift\",\n  \"reset\",\n  \"unstable_setIncludesBaseElement\",\n  \"unstable_setHasActiveWidget\",\n  \"registerPanel\",\n  \"unregisterPanel\",\n] as const;\nexport const USE_ACCORDION_MULTI_STATE_KEYS = [\n  ...USE_ACCORDION_BASE_STATE_KEYS,\n  \"manual\",\n  \"selectedIds\",\n  \"defaultSelectedIds\",\n  \"onSelectedIdsChange\",\n  \"shouldUpdate\",\n] as const;\nexport const ACCORDION_MULTI_STATE_KEYS = [\n  ...ACCORDION_BASE_STATE_KEYS,\n  \"selectedIds\",\n  \"allowToggle\",\n  \"allowMultiple\",\n  \"manual\",\n  \"setSelectedIds\",\n  \"select\",\n] as const;\nexport const USE_ACCORDION_STATE_KEYS = [\n  ...USE_ACCORDION_BASE_STATE_KEYS,\n  \"selectedId\",\n  \"manual\",\n  \"allowToggle\",\n  \"defaultSelectedId\",\n  \"onSelectedIdChange\",\n  \"shouldUpdate\",\n] as const;\nexport const ACCORDION_STATE_KEYS = [\n  ...ACCORDION_BASE_STATE_KEYS,\n  \"selectedId\",\n  \"allowToggle\",\n  \"allowMultiple\",\n  \"manual\",\n  \"setSelectedId\",\n  \"select\",\n] as const;\nexport const ACCORDION_KEYS = [\n  ...ACCORDION_MULTI_STATE_KEYS,\n  ...ACCORDION_STATE_KEYS,\n] as const;\nexport const ACCORDION_PANEL_KEYS = [...ACCORDION_KEYS, \"accordionId\"] as const;\nexport const ACCORDION_TRIGGER_KEYS = ACCORDION_KEYS;\n", "import 'react';\nexport { SystemContext } from './SystemContext.js';\nexport { useToken } from './useToken.js';\nexport { useProps } from './useProps.js';\nimport './_rollupPluginBabelHelpers-0c84a174.js';\nexport { useOptions } from './useOptions.js';\nexport { useCreateElement } from './useCreateElement.js';\nimport 'reakit-utils/isObject';\nexport { mergeSystem } from './mergeSystem.js';\nimport 'reakit-utils/splitProps';\nimport 'reakit-utils/shallowEqual';\nimport 'reakit-utils/normalizePropsAreEqual';\nexport { createComponent } from './createComponent.js';\nimport 'reakit-utils/toArray';\nexport { createHook } from './createHook.js';\nexport { SystemProvider } from './SystemProvider.js';\n", "import 'react';\nexport { useUpdateEffect } from './useUpdateEffect.js';\nexport { useSealedState } from './useSealedState.js';\nexport { getDocument } from './getDocument.js';\nexport { getWindow } from './getWindow.js';\nexport { canUseDOM } from './canUseDOM.js';\nimport './useIsomorphicEffect.js';\nexport { useLiveRef } from './useLiveRef.js';\nexport { useForkRef } from './useForkRef.js';\nexport { toArray } from './toArray.js';\nexport { matches } from './matches.js';\nexport { closest } from './closest.js';\nexport { getActiveElement } from './getActiveElement.js';\nexport { getAllFocusableIn, getAllTabbableIn, getClosestFocusable, getFirstFocusableIn, getFirstTabbableIn, getLastTabbableIn, getNextTabbableIn, getPreviousTabbableIn, isFocusable, isTabbable } from './tabbable.js';\nimport './_rollupPluginBabelHelpers-1f0bf8c2.js';\nexport { isObject } from './isObject.js';\nexport { isPlainObject } from './isPlainObject.js';\nexport { splitProps } from './splitProps.js';\nexport { shallowEqual } from './shallowEqual.js';\nexport { removeIndexFromArray } from './removeIndexFromArray.js';\nexport { removeItemFromArray } from './removeItemFromArray.js';\nexport { pick } from './pick.js';\nexport { omit } from './omit.js';\nexport { normalizePropsAreEqual } from './normalizePropsAreEqual.js';\nexport { isTextField } from './isTextField.js';\nexport { isSelfTarget } from './isSelfTarget.js';\nexport { isPromise } from './isPromise.js';\nexport { contains } from './contains.js';\nexport { isPortalEvent } from './isPortalEvent.js';\nexport { isInteger } from './isInteger.js';\nexport { isEmpty } from './isEmpty.js';\nexport { isButton } from './isButton.js';\nexport { applyState } from './applyState.js';\nexport { createEvent } from './createEvent.js';\nexport { createOnKeyDown } from './createOnKeyDown.js';\nexport { isUA } from './dom.js';\nexport { hasFocus } from './hasFocus.js';\nexport { ensureFocus } from './ensureFocus.js';\nexport { fireEvent } from './fireEvent.js';\nexport { fireBlurEvent } from './fireBlurEvent.js';\nexport { fireKeyboardEvent } from './fireKeyboardEvent.js';\nexport { flatten } from './flatten.js';\nexport { getNextActiveElementOnBlur } from './getNextActiveElementOnBlur.js';\nexport { hasFocusWithin } from './hasFocusWithin.js';\n", "import * as React from \"react\";\n\nexport function forwardRef<T extends React.ForwardRefRenderFunction<any, any>>(\n  component: T,\n) {\n  return React.forwardRef(component) as unknown as T;\n}\n", "import * as React from \"react\";\n\nexport function memo<T extends React.ComponentType<any>>(\n  component: T,\n  propsAreEqual?: (\n    prevProps: Readonly<React.ComponentProps<T>>,\n    nextProps: Readonly<React.ComponentProps<T>>,\n  ) => boolean,\n) {\n  return React.memo(component, propsAreEqual) as unknown as T;\n}\n", "import * as React from \"react\";\nimport { useCreateElement as defaultUseCreateElement } from \"reakit-system\";\nimport { As, PropsWithAs, splitProps } from \"reakit-utils\";\nimport { normalizePropsAreEqual } from \"reakit-utils/normalizePropsAreEqual\";\nimport { shallowEqual } from \"reakit-utils/shallowEqual\";\n\nimport { forwardRef } from \"./forwardRef\";\nimport { memo } from \"./memo\";\n\ntype RoleHTMLProps = React.HTMLAttributes<any> &\n  React.RefAttributes<any> & {\n    wrapElement?: (element: React.ReactNode) => React.ReactNode;\n  };\n\ntype Hook<O> = {\n  (options?: O, props?: RoleHTMLProps): RoleHTMLProps;\n  unstable_propsAreEqual?: (prev: O, next: O) => boolean;\n  __keys?: ReadonlyArray<any>;\n};\n\ntype Options<T extends As, O> = {\n  as: T;\n  useHook?: Hook<O>;\n  keys?: ReadonlyArray<any>;\n  memo?: boolean;\n  propsAreEqual?: (prev: O, next: O) => boolean;\n  useCreateElement?: (\n    type: T,\n    props: Omit<PropsWithAs<O, T>, \"as\">,\n    children?: React.ReactNode,\n  ) => JSX.Element;\n};\n\nexport type Component<T extends As, O> = {\n  <TT extends As>(props: PropsWithAs<O, TT> & { as: TT }): JSX.Element;\n  (props: PropsWithAs<O, T>): JSX.Element;\n  displayName?: string;\n  unstable_propsAreEqual: (\n    prev: PropsWithAs<O, T>,\n    next: PropsWithAs<O, T>,\n  ) => boolean;\n  __keys?: ReadonlyArray<any>;\n  __displayName?: string;\n};\n\n/**\n * Creates a React component.\n *\n * @example\n * import { createComponent } from \"reakit-system\";\n *\n * const A = createComponent({ as: \"a\" });\n *\n * @param options\n */\nexport function createComponent<T extends As, O>({\n  as: type,\n  useHook,\n  memo: shouldMemo,\n  propsAreEqual = useHook?.unstable_propsAreEqual,\n  keys = useHook?.__keys || [],\n  useCreateElement = defaultUseCreateElement,\n}: Options<T, O>) {\n  let Comp = ((\n    { as = type, ...props }: PropsWithAs<O, T>,\n    ref: React.Ref<T>,\n  ) => {\n    if (useHook) {\n      const [options, htmlProps] = splitProps(props, keys);\n      const { wrapElement, ...elementProps } = useHook(options, {\n        ref,\n        ...htmlProps,\n      });\n      // @ts-ignore\n      const asKeys = as.render?.__keys || as.__keys;\n      const asOptions = asKeys && splitProps(props, asKeys)[0];\n      const allProps = asOptions\n        ? { ...elementProps, ...asOptions }\n        : elementProps;\n      const element = useCreateElement(as, allProps as typeof props);\n      if (wrapElement) {\n        return wrapElement(element);\n      }\n      return element;\n    }\n    return useCreateElement(as, { ref, ...props });\n  }) as Component<T, O>;\n\n  if (process.env.NODE_ENV !== \"production\" && useHook) {\n    Comp.displayName = useHook.name.replace(/^(unstable_)?use/, \"\");\n  }\n\n  Comp = forwardRef(Comp);\n\n  if (shouldMemo) {\n    Comp = memo(Comp, propsAreEqual && normalizePropsAreEqual(propsAreEqual));\n  }\n\n  Comp.__keys = keys;\n\n  Comp.unstable_propsAreEqual = normalizePropsAreEqual(\n    propsAreEqual || shallowEqual,\n  );\n\n  if (useHook) {\n    Comp.__displayName = useHook.name.replace(/^(unstable_)?use/, \"\");\n  }\n\n  return Comp;\n}\n", "import { createHook } from \"../system\";\n\nexport type Hook<O = any, P = any> = {\n  (options?: O, htmlProps?: P, unstable_ignoreUseOptions?: boolean): P;\n  unstable_propsAreEqual: (prev: O & P, next: O & P) => boolean;\n  __keys: ReadonlyArray<any>;\n  __useOptions: (options: O, htmlProps: P) => O;\n};\n\nexport type CreateHook<O, P> = {\n  name?: string;\n  compose?: Hook | Hook[];\n  useState?: { (): any; __keys: ReadonlyArray<any> };\n  useOptions?: (options: O, htmlProps: P) => O;\n  useProps?: (options: O, htmlProps: P) => P;\n  useComposeOptions?: (options: O, htmlProps: P) => O;\n  useComposeProps?: (options: O, htmlProps: P) => P;\n  propsAreEqual?: (prev: O & P, next: O & P) => boolean;\n  keys?: ReadonlyArray<string>;\n};\n\n// TODO: Merge keys & compose incase of an array\nexport function createComposableHook<O, P>(options: CreateHook<O, P>) {\n  const composableHook = (newOptions?: CreateHook<O, P>) => {\n    return createHook({ ...options, ...newOptions });\n  };\n\n  return composableHook;\n}\n", "import { useOptions, useProps } from \"reakit-system\";\nimport { shallowEqual, toArray } from \"reakit-utils\";\n\ntype Hook<O = any, P = any> = {\n  (options?: O, htmlProps?: P, unstable_ignoreUseOptions?: boolean): P;\n  unstable_propsAreEqual: (prev: O & P, next: O & P) => boolean;\n  __keys: ReadonlyArray<any>;\n  __useOptions: (options: O, htmlProps: P) => O;\n};\n\ntype CreateHookOptions<O, P> = {\n  name?: string;\n  compose?: Hook | Hook[];\n  useState?: { (): any; __keys: ReadonlyArray<any> };\n  useOptions?: (options: O, htmlProps: P) => O;\n  useProps?: (options: O, htmlProps: P) => P;\n  useComposeOptions?: (options: O, htmlProps: P) => O;\n  useComposeProps?: (options: O, htmlProps: P) => P;\n  propsAreEqual?: (prev: O & P, next: O & P) => boolean;\n  keys?: ReadonlyArray<string>;\n};\n\n/**\n * Creates a React custom hook that will return component props.\n *\n * @example\n * import { createHook } from \"../system\";\n *\n * const useA = createHook({\n *   name: \"A\",\n *   keys: [\"url\"], // custom props/options keys\n *   useProps(options, htmlProps) {\n *     return {\n *       ...htmlProps,\n *       href: options.url,\n *     };\n *   },\n * });\n *\n * function A({ url, ...htmlProps }) {\n *   const props = useA({ url }, htmlProps);\n *   return <a {...props} />;\n * }\n *\n * @param options\n */\nexport function createHook<O, P>(options: CreateHookOptions<O, P>) {\n  const composedHooks = toArray(options.compose) as Hook[];\n\n  const __useOptions = (hookOptions: O, htmlProps: P) => {\n    // Call the current hook's useOptions first\n    if (options.useOptions) {\n      hookOptions = options.useOptions(hookOptions, htmlProps);\n    }\n    // If there's name, call useOptions from the system context\n    if (options.name) {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      hookOptions = useOptions(options.name, hookOptions, htmlProps);\n    }\n    // Run composed hooks useOptions\n    if (options.compose) {\n      for (const hook of composedHooks) {\n        hookOptions = hook.__useOptions(hookOptions, htmlProps);\n      }\n    }\n    return hookOptions;\n  };\n\n  const useHook: Hook<O, P> = (\n    hookOptions = {} as O,\n    htmlProps = {} as P,\n    unstable_ignoreUseOptions = false,\n  ) => {\n    // This won't execute when useHook was called from within another useHook\n    if (!unstable_ignoreUseOptions) {\n      hookOptions = __useOptions(hookOptions, htmlProps);\n    }\n    // Call the current hook's useProps\n    if (options.useProps) {\n      htmlProps = options.useProps(hookOptions, htmlProps);\n    }\n    // If there's name, call useProps from the system context\n    if (options.name) {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      htmlProps = useProps(options.name, hookOptions, htmlProps) as P;\n    }\n    if (options.compose) {\n      if (options.useComposeOptions) {\n        hookOptions = options.useComposeOptions(hookOptions, htmlProps);\n      }\n      if (options.useComposeProps) {\n        htmlProps = options.useComposeProps(hookOptions, htmlProps);\n      } else {\n        for (const hook of composedHooks) {\n          htmlProps = hook(hookOptions, htmlProps, true);\n        }\n      }\n    }\n    // Remove undefined values from htmlProps\n    const finalHTMLProps = {} as P;\n    const definedHTMLProps = htmlProps || ({} as P);\n    for (const prop in definedHTMLProps) {\n      if (definedHTMLProps[prop] !== undefined) {\n        finalHTMLProps[prop] = definedHTMLProps[prop];\n      }\n    }\n    return finalHTMLProps;\n  };\n\n  useHook.__useOptions = __useOptions;\n\n  const composedKeys = composedHooks.reduce((keys, hook) => {\n    keys.push(...(hook.__keys || []));\n    return keys;\n  }, [] as string[]);\n\n  // It's used by createComponent to split option props (keys) and html props\n  useHook.__keys = [\n    ...composedKeys,\n    ...(options.useState?.__keys || []),\n    ...(options.keys || []),\n  ];\n\n  useHook.unstable_propsAreEqual =\n    options.propsAreEqual ||\n    composedHooks[0]?.unstable_propsAreEqual ||\n    shallowEqual;\n\n  if (options.name) {\n    Object.defineProperty(useHook, \"name\", {\n      value: `use${options.name}`,\n    });\n  }\n\n  return useHook;\n}\n", "import { CompositeHTMLProps, CompositeOptions, useComposite } from \"reakit\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { ACCORDION_KEYS } from \"./__keys\";\n\nexport const useAccordion = createHook<AccordionOptions, AccordionHTMLProps>({\n  name: \"Accordion\",\n  compose: useComposite,\n  keys: ACCORDION_KEYS,\n\n  useComposeProps(options, htmlProps) {\n    const compositeHtmlProp = useComposite(options, htmlProps);\n\n    return {\n      ...compositeHtmlProp,\n\n      // When none selected i.e, selectedId={null}\n      // as per composite https://github.com/reakit/reakit/blob/master/packages/reakit/src/Composite/Composite.ts#L372\n      // it applies tabindex={0} which we need to remove it.\n      tabIndex: undefined,\n    };\n  },\n});\n\nexport const Accordion = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useAccordion,\n});\n\nexport type AccordionOptions = CompositeOptions;\n\nexport type AccordionHTMLProps = CompositeHTMLProps;\n\nexport type AccordionProps = AccordionOptions & AccordionHTMLProps;\n", "import {\n  CompositeActions,\n  CompositeInitialState,\n  CompositeState,\n  useCompositeState,\n} from \"reakit\";\n\nexport function useAccordionBaseState(\n  props: AccordionBaseInitialState = {},\n): AccordionBaseStateReturn {\n  const composite = useCompositeState({\n    orientation: \"vertical\",\n    ...props,\n  });\n\n  const panels = useCompositeState();\n\n  return {\n    panels: panels.items,\n    registerPanel: panels.registerItem,\n    unregisterPanel: panels.unregisterItem,\n    ...composite,\n  };\n}\n\nexport type AccordionBaseState = CompositeState & {\n  /**\n   * Lists all the panels.\n   */\n  panels: CompositeState[\"items\"];\n};\n\nexport type AccordionBaseActions = CompositeActions & {\n  /**\n   * Registers a accordion panel.\n   */\n  registerPanel: CompositeActions[\"registerItem\"];\n\n  /**\n   * Unregisters a accordion panel.\n   */\n  unregisterPanel: CompositeActions[\"unregisterItem\"];\n};\n\nexport type AccordionBaseInitialState = CompositeInitialState;\n\nexport type AccordionBaseStateReturn = AccordionBaseState &\n  AccordionBaseActions;\n", "import * as React from \"react\";\nimport { Dispatch, SetStateAction } from \"react\";\nimport { useControllableState } from \"@chakra-ui/hooks\";\n\nimport {\n  AccordionBaseActions,\n  AccordionBaseInitialState,\n  AccordionBaseState,\n  useAccordionBaseState,\n} from \"./AccordionBaseState\";\n\nexport function useAccordionMultiState(\n  props: AccordionMultiInitialState = {},\n): AccordionMultiStateReturn {\n  const { manual = true } = props;\n\n  const { move, ...baseState } = useAccordionBaseState(props);\n\n  const [selectedIds, setSelectedIds] = useControllableState({\n    defaultValue: props?.defaultSelectedIds || [],\n    value: props?.selectedIds,\n    onChange: props?.onSelectedIdsChange,\n  });\n\n  const select = React.useCallback(\n    (id: string) => {\n      move(id);\n\n      if (selectedIds.includes(id)) {\n        setSelectedIds(prevIds => prevIds?.filter(pId => pId !== id));\n\n        return;\n      }\n\n      setSelectedIds(prevIds => [...prevIds, id]);\n    },\n\n    [move, selectedIds, setSelectedIds],\n  );\n\n  return {\n    selectedIds,\n    setSelectedIds,\n    select,\n    manual,\n    allowToggle: true,\n    allowMultiple: true,\n    move,\n    ...baseState,\n  };\n}\n\nexport type AccordionMultiState = AccordionBaseState & {\n  /**\n   * The current selected accordion's `id`.\n   */\n  selectedIds: string[];\n\n  /**\n   * Allow to toggle accordion items\n   * @default false\n   */\n  allowToggle: boolean;\n\n  /**\n   * Allow to open multiple accordion items\n   */\n  allowMultiple: boolean;\n\n  /**\n   * Whether the accodion selection should be manual.\n   * @default true\n   */\n  manual: boolean;\n};\n\nexport type AccordionMultiActions = AccordionBaseActions & {\n  /**\n   * Sets the value.\n   */\n  setSelectedIds: Dispatch<SetStateAction<string[]>>;\n\n  /**\n   * Moves into and selects an accordion by its `id`.\n   */\n  select: (id: string) => void;\n};\n\nexport type AccordionMultiInitialState = Pick<\n  Partial<AccordionMultiState>,\n  \"manual\" | \"selectedIds\"\n> & {\n  /**\n   * The initial value to be used, in uncontrolled mode\n   * @default []\n   */\n  defaultSelectedIds?: string[] | (() => string[]);\n\n  /**\n   * The callback fired when the value changes\n   */\n  onSelectedIdsChange?: (value: string[]) => void;\n\n  /**\n   * The function that determines if the state should be updated\n   */\n  shouldUpdate?: (prev: string[], next: string[]) => boolean;\n} & AccordionBaseInitialState;\n\nexport type AccordionMultiStateReturn = AccordionMultiState &\n  AccordionMultiActions;\n", "import * as React from 'react';\nimport React__default, { useState, useMemo, useCallback, useEffect, useRef } from 'react';\nimport { u as useCallbackRef, a as useSafeLayoutEffect, b as useEventListener } from './use-animation-state-5054a9f7.esm.js';\nexport { c as useAnimationState, u as useCallbackRef, b as useEventListener, a as useSafeLayoutEffect } from './use-animation-state-5054a9f7.esm.js';\nimport copy from 'copy-to-clipboard';\nimport { runIfFn, getBox, callAllHandlers, wrapPointerEventHandler, getPointerEventName, hasFocusWithin, focus, getActiveElement, contains, isTabbable, detectBrowser, isRefObject, isActiveElement, getOwnerDocument, getAllFocusable, noop, PanSession } from '@chakra-ui/utils';\n\n/**\n * React hook to manage boolean (on - off) states\n *\n * @param initialState the initial boolean state value\n */\nfunction useBoolean(initialState) {\n  if (initialState === void 0) {\n    initialState = false;\n  }\n\n  var _useState = useState(initialState),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var callbacks = useMemo(function () {\n    return {\n      on: function on() {\n        return setValue(true);\n      },\n      off: function off() {\n        return setValue(false);\n      },\n      toggle: function toggle() {\n        return setValue(function (prev) {\n          return !prev;\n        });\n      }\n    };\n  }, []);\n  return [value, callbacks];\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _excluded = [\"timeout\"];\n\n/**\n * React hook to copy content to clipboard\n *\n * @param text the text or value to copy\n * @param {Number} [optionsOrTimeout=1500] optionsOrTimeout - delay (in ms) to switch back to initial state once copied.\n * @param {Object} optionsOrTimeout\n * @param {string} optionsOrTimeout.format - set the desired MIME type\n * @param {number} optionsOrTimeout.timeout - delay (in ms) to switch back to initial state once copied.\n */\nfunction useClipboard(text, optionsOrTimeout) {\n  if (optionsOrTimeout === void 0) {\n    optionsOrTimeout = {};\n  }\n\n  var _useState = useState(false),\n      hasCopied = _useState[0],\n      setHasCopied = _useState[1];\n\n  var _ref = typeof optionsOrTimeout === \"number\" ? {\n    timeout: optionsOrTimeout\n  } : optionsOrTimeout,\n      _ref$timeout = _ref.timeout,\n      timeout = _ref$timeout === void 0 ? 1500 : _ref$timeout,\n      copyOptions = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var onCopy = useCallback(function () {\n    var didCopy = copy(text, copyOptions);\n    setHasCopied(didCopy);\n  }, [text, copyOptions]);\n  useEffect(function () {\n    var timeoutId = null;\n\n    if (hasCopied) {\n      timeoutId = window.setTimeout(function () {\n        setHasCopied(false);\n      }, timeout);\n    }\n\n    return function () {\n      if (timeoutId) {\n        window.clearTimeout(timeoutId);\n      }\n    };\n  }, [timeout, hasCopied]);\n  return {\n    value: text,\n    onCopy: onCopy,\n    hasCopied: hasCopied\n  };\n}\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConst`\n * you can ensure that initializers don't execute twice or more.\n */\nfunction useConst(init) {\n  // Use useRef to store the value because it's the least expensive built-in\n  // hook that works here. We could also use `useState` but that's more\n  // expensive internally due to reducer handling which we don't need.\n  var ref = useRef(null);\n\n  if (ref.current === null) {\n    ref.current = typeof init === \"function\" ? init() : init;\n  }\n\n  return ref.current;\n}\n\nfunction useControllableProp(prop, state) {\n  var isControlled = prop !== undefined;\n  var value = isControlled && typeof prop !== \"undefined\" ? prop : state;\n  return [isControlled, value];\n}\n\n/**\n * React hook for using controlling component state.\n * @param props\n */\nfunction useControllableState(props) {\n  var valueProp = props.value,\n      defaultValue = props.defaultValue,\n      onChange = props.onChange,\n      _props$shouldUpdate = props.shouldUpdate,\n      shouldUpdate = _props$shouldUpdate === void 0 ? function (prev, next) {\n    return prev !== next;\n  } : _props$shouldUpdate;\n  var onChangeProp = useCallbackRef(onChange);\n  var shouldUpdateProp = useCallbackRef(shouldUpdate);\n\n  var _React$useState = React.useState(defaultValue),\n      valueState = _React$useState[0],\n      setValue = _React$useState[1];\n\n  var isControlled = valueProp !== undefined;\n  var value = isControlled ? valueProp : valueState;\n  var updateValue = React.useCallback(function (next) {\n    var nextValue = runIfFn(next, value);\n\n    if (!shouldUpdateProp(value, nextValue)) {\n      return;\n    }\n\n    if (!isControlled) {\n      setValue(nextValue);\n    }\n\n    onChangeProp(nextValue);\n  }, [isControlled, onChangeProp, value, shouldUpdateProp]);\n  return [value, updateValue];\n}\n\n/**\n * React hook to measure a component's dimensions\n *\n * @param ref ref of the component to measure\n * @param observe if `true`, resize and scroll observers will be turned on\n */\n\nfunction useDimensions(ref, observe) {\n  var _React$useState = React.useState(null),\n      dimensions = _React$useState[0],\n      setDimensions = _React$useState[1];\n\n  var rafId = React.useRef();\n  useSafeLayoutEffect(function () {\n    if (!ref.current) return undefined;\n    var node = ref.current;\n\n    function measure() {\n      rafId.current = requestAnimationFrame(function () {\n        var boxModel = getBox(node);\n        setDimensions(boxModel);\n      });\n    }\n\n    measure();\n\n    if (observe) {\n      window.addEventListener(\"resize\", measure);\n      window.addEventListener(\"scroll\", measure);\n    }\n\n    return function () {\n      if (observe) {\n        window.removeEventListener(\"resize\", measure);\n        window.removeEventListener(\"scroll\", measure);\n      }\n\n      if (rafId.current) {\n        cancelAnimationFrame(rafId.current);\n      }\n    };\n  }, [observe]);\n  return dimensions;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n// This implementation is heavily inspired by react-aria's implementation\nvar defaultIdContext = {\n  current: 1\n};\nvar IdContext = /*#__PURE__*/React.createContext(defaultIdContext);\nvar IdProvider = /*#__PURE__*/React.memo(function (_ref) {\n  var children = _ref.children;\n  return /*#__PURE__*/React.createElement(IdContext.Provider, {\n    value: {\n      current: 1\n    }\n  }, children);\n});\n\nvar genId = function genId(context) {\n  return context.current++;\n};\n\nfunction useId(idProp, prefix) {\n  var context = React.useContext(IdContext);\n  /*\n      We get the current id by context and generate a new id inside useEffect so that the side effects occur during the commit phase,\n      Doing this prevents the side effects from being called twice when used with strict mode (render() in function component is the function body), which ends up making the server with the client not synchronized\n  */\n\n  var _React$useState = React.useState(context.current),\n      id = _React$useState[0],\n      setId = _React$useState[1];\n\n  React.useEffect(function () {\n    setId(genId(context));\n  }, [context]);\n  return React.useMemo(function () {\n    return idProp || [prefix, id].filter(Boolean).join(\"-\");\n  }, [idProp, prefix, id]);\n}\n/**\n * React hook to generate ids for use in compound components\n *\n * @param idProp the external id passed from the user\n * @param prefixes array of prefixes to use\n *\n * @example\n *\n * ```js\n * const [buttonId, menuId] = useIds(\"52\", \"button\", \"menu\")\n *\n * // buttonId will be `button-52`\n * // menuId will be `menu-52`\n * ```\n */\n\nfunction useIds(idProp) {\n  for (var _len = arguments.length, prefixes = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    prefixes[_key - 1] = arguments[_key];\n  }\n\n  var id = useId(idProp);\n  return React.useMemo(function () {\n    return prefixes.map(function (prefix) {\n      return prefix + \"-\" + id;\n    });\n  }, [id, prefixes]);\n}\n/**\n * Used to generate an id, and after render, check if that id is rendered, so we know\n * if we can use it in places such as `aria-labelledby`.\n *\n * @param partId - The unique id for the component part\n *\n * @example\n * const { ref, id } = useOptionalPart<HTMLInputElement>(`${id}-label`)\n */\n\nfunction useOptionalPart(partId) {\n  var _React$useState2 = React.useState(null),\n      id = _React$useState2[0],\n      setId = _React$useState2[1];\n\n  var ref = React.useCallback(function (node) {\n    setId(node ? partId : null);\n  }, [partId]);\n  return {\n    ref: ref,\n    id: id,\n    isRendered: Boolean(id)\n  };\n}\n\nfunction useDisclosure(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      onCloseProp = _props.onClose,\n      onOpenProp = _props.onOpen,\n      isOpenProp = _props.isOpen,\n      idProp = _props.id;\n  var onOpenPropCallbackRef = useCallbackRef(onOpenProp);\n  var onClosePropCallbackRef = useCallbackRef(onCloseProp);\n\n  var _React$useState = React.useState(props.defaultIsOpen || false),\n      isOpenState = _React$useState[0],\n      setIsOpen = _React$useState[1];\n\n  var _useControllableProp = useControllableProp(isOpenProp, isOpenState),\n      isControlled = _useControllableProp[0],\n      isOpen = _useControllableProp[1];\n\n  var id = useId(idProp, \"disclosure\");\n  var onClose = React.useCallback(function () {\n    if (!isControlled) {\n      setIsOpen(false);\n    }\n\n    onClosePropCallbackRef == null ? void 0 : onClosePropCallbackRef();\n  }, [isControlled, onClosePropCallbackRef]);\n  var onOpen = React.useCallback(function () {\n    if (!isControlled) {\n      setIsOpen(true);\n    }\n\n    onOpenPropCallbackRef == null ? void 0 : onOpenPropCallbackRef();\n  }, [isControlled, onOpenPropCallbackRef]);\n  var onToggle = React.useCallback(function () {\n    var action = isOpen ? onClose : onOpen;\n    action();\n  }, [isOpen, onOpen, onClose]);\n  return {\n    isOpen: !!isOpen,\n    onOpen: onOpen,\n    onClose: onClose,\n    onToggle: onToggle,\n    isControlled: isControlled,\n    getButtonProps: function getButtonProps(props) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      return _extends({}, props, {\n        \"aria-expanded\": \"true\",\n        \"aria-controls\": id,\n        onClick: callAllHandlers(props.onClick, onToggle)\n      });\n    },\n    getDisclosureProps: function getDisclosureProps(props) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      return _extends({}, props, {\n        hidden: !isOpen,\n        id: id\n      });\n    }\n  };\n}\n\n/**\n * React hook for performant `useCallbacks`\n *\n * @see https://github.com/facebook/react/issues/14099#issuecomment-440013892\n *\n * @deprecated Use `useCallbackRef` instead. `useEventCallback` will be removed\n * in a future version.\n */\n\nfunction useEventCallback(callback) {\n  var ref = React.useRef(callback);\n  useSafeLayoutEffect(function () {\n    ref.current = callback;\n  });\n  return React.useCallback(function (event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return ref.current.apply(ref, [event].concat(args));\n  }, []);\n}\n\nfunction useEventListenerMap() {\n  var listeners = React.useRef(new Map());\n  var currentListeners = listeners.current;\n  var add = React.useCallback(function (el, type, listener, options) {\n    var pointerEventListener = wrapPointerEventHandler(listener, type === \"pointerdown\");\n    listeners.current.set(listener, {\n      __listener: pointerEventListener,\n      type: getPointerEventName(type),\n      el: el,\n      options: options\n    });\n    el.addEventListener(type, pointerEventListener, options);\n  }, []);\n  var remove = React.useCallback(function (el, type, listener, options) {\n    var _listeners$current$ge = listeners.current.get(listener),\n        pointerEventListener = _listeners$current$ge.__listener;\n\n    el.removeEventListener(type, pointerEventListener, options);\n    listeners.current[\"delete\"](pointerEventListener);\n  }, []);\n  React.useEffect(function () {\n    return function () {\n      currentListeners.forEach(function (value, key) {\n        remove(value.el, value.type, key, value.options);\n      });\n    };\n  }, [remove, currentListeners]);\n  return {\n    add: add,\n    remove: remove\n  };\n}\n\n/**\n * React effect hook that invokes only on update.\n * It doesn't invoke on mount\n */\n\nvar useUpdateEffect = function useUpdateEffect(effect, deps) {\n  var mounted = React.useRef(false);\n  React.useEffect(function () {\n    if (mounted.current) {\n      return effect();\n    }\n\n    mounted.current = true;\n    return undefined; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n  return mounted.current;\n};\n\n/**\n * React hook to focus an element conditionally\n *\n * @param ref the ref of the element to focus\n * @param options focus management options\n */\nfunction useFocusEffect(ref, options) {\n  var shouldFocus = options.shouldFocus,\n      preventScroll = options.preventScroll;\n  useUpdateEffect(function () {\n    var node = ref.current;\n    if (!node || !shouldFocus) return;\n\n    if (!hasFocusWithin(node)) {\n      focus(node, {\n        preventScroll: preventScroll,\n        nextTick: true\n      });\n    }\n  }, [shouldFocus, ref, preventScroll]);\n}\n\nfunction preventReturnFocus(containerRef) {\n  var el = containerRef.current;\n  if (!el) return false;\n  var activeElement = getActiveElement(el);\n  if (!activeElement) return false;\n  if (contains(el, activeElement)) return false;\n  if (isTabbable(activeElement)) return true;\n  return false;\n}\n/**\n * Popover hook to manage the focus when the popover closes or hides.\n *\n * We either want to return focus back to the popover trigger or\n * let focus proceed normally if user moved to another interactive\n * element in the viewport.\n */\n\n\nfunction useFocusOnHide(containerRef, options) {\n  var shouldFocusProp = options.shouldFocus,\n      visible = options.visible,\n      focusRef = options.focusRef;\n  var shouldFocus = shouldFocusProp && !visible;\n  useUpdateEffect(function () {\n    if (!shouldFocus) return;\n\n    if (preventReturnFocus(containerRef)) {\n      return;\n    }\n\n    var el = (focusRef == null ? void 0 : focusRef.current) || containerRef.current;\n\n    if (el) {\n      focus(el, {\n        nextTick: true\n      });\n    }\n  }, [shouldFocus, containerRef, focusRef]);\n}\n\n/**\n * Credit goes to `framer-motion` of this useful utilities.\n * License can be found here: https://github.com/framer/motion\n */\n/**\n * @internal\n */\n\nfunction usePointerEvent(env, eventName, handler, options) {\n  return useEventListener(getPointerEventName(eventName), wrapPointerEventHandler(handler, eventName === \"pointerdown\"), env, options);\n}\n\n/**\n * Polyfill to get `relatedTarget` working correctly consistently\n * across all browsers.\n *\n * It ensures that elements receives focus on pointer down if\n * it's not the active element.\n *\n * @internal\n */\nfunction useFocusOnPointerDown(props) {\n  var ref = props.ref,\n      elements = props.elements,\n      enabled = props.enabled;\n  var isSafari = detectBrowser(\"Safari\");\n\n  var doc = function doc() {\n    return getOwnerDocument(ref.current);\n  };\n\n  usePointerEvent(doc, \"pointerdown\", function (event) {\n    if (!isSafari || !enabled) return;\n    var target = event.target;\n    var els = elements != null ? elements : [ref];\n    var isValidTarget = els.some(function (elementOrRef) {\n      var el = isRefObject(elementOrRef) ? elementOrRef.current : elementOrRef;\n      return contains(el, target);\n    });\n\n    if (!isActiveElement(target) && isValidTarget) {\n      event.preventDefault();\n      focus(target);\n    }\n  });\n}\n\nvar defaultOptions = {\n  preventScroll: true,\n  shouldFocus: false\n};\nfunction useFocusOnShow(target, options) {\n  if (options === void 0) {\n    options = defaultOptions;\n  }\n\n  var _options = options,\n      focusRef = _options.focusRef,\n      preventScroll = _options.preventScroll,\n      shouldFocus = _options.shouldFocus,\n      visible = _options.visible;\n  var element = isRefObject(target) ? target.current : target;\n  var autoFocus = shouldFocus && visible;\n  var onFocus = useCallback(function () {\n    if (!element || !autoFocus) return;\n    if (contains(element, document.activeElement)) return;\n\n    if (focusRef != null && focusRef.current) {\n      focus(focusRef.current, {\n        preventScroll: preventScroll,\n        nextTick: true\n      });\n    } else {\n      var tabbableEls = getAllFocusable(element);\n\n      if (tabbableEls.length > 0) {\n        focus(tabbableEls[0], {\n          preventScroll: preventScroll,\n          nextTick: true\n        });\n      }\n    }\n  }, [autoFocus, preventScroll, element, focusRef]);\n  useUpdateEffect(function () {\n    onFocus();\n  }, [onFocus]);\n  useEventListener(\"transitionend\", onFocus, element);\n}\n\nfunction useUnmountEffect(fn, deps) {\n  if (deps === void 0) {\n    deps = [];\n  }\n\n  return React.useEffect(function () {\n    return function () {\n      return fn();\n    };\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  deps);\n}\n\nfunction useForceUpdate() {\n  var unloadingRef = React.useRef(false);\n\n  var _React$useState = React.useState(0),\n      count = _React$useState[0],\n      setCount = _React$useState[1];\n\n  useUnmountEffect(function () {\n    unloadingRef.current = true;\n  });\n  return React.useCallback(function () {\n    if (!unloadingRef.current) {\n      setCount(count + 1);\n    }\n  }, [count]);\n}\n\n/**\n * React Hook that provides a declarative `setInterval`\n *\n * @param callback the callback to execute at interval\n * @param delay the `setInterval` delay (in ms)\n */\n\nfunction useInterval(callback, delay) {\n  var fn = useCallbackRef(callback);\n  React.useEffect(function () {\n    var intervalId = null;\n\n    var tick = function tick() {\n      return fn();\n    };\n\n    if (delay !== null) {\n      intervalId = window.setInterval(tick, delay);\n    }\n\n    return function () {\n      if (intervalId) {\n        window.clearInterval(intervalId);\n      }\n    };\n  }, [delay, fn]);\n}\n\n/**\n * React hook to persist any value between renders,\n * but keeps it up-to-date if it changes.\n *\n * @param value the value or function to persist\n */\n\nfunction useLatestRef(value) {\n  var ref = React.useRef(null);\n  ref.current = value;\n  return ref;\n}\n\n/* eslint-disable react-hooks/exhaustive-deps */\nfunction assignRef(ref, value) {\n  if (ref == null) return;\n\n  if (typeof ref === \"function\") {\n    ref(value);\n    return;\n  }\n\n  try {\n    // @ts-ignore\n    ref.current = value;\n  } catch (error) {\n    throw new Error(\"Cannot assign value '\" + value + \"' to ref '\" + ref + \"'\");\n  }\n}\n/**\n * React hook that merges react refs into a single memoized function\n *\n * @example\n * import React from \"react\";\n * import { useMergeRefs } from `@chakra-ui/hooks`;\n *\n * const Component = React.forwardRef((props, ref) => {\n *   const internalRef = React.useRef();\n *   return <div {...props} ref={useMergeRefs(internalRef, ref)} />;\n * });\n */\n\nfunction useMergeRefs() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return React.useMemo(function () {\n    if (refs.every(function (ref) {\n      return ref == null;\n    })) {\n      return null;\n    }\n\n    return function (node) {\n      refs.forEach(function (ref) {\n        if (ref) assignRef(ref, node);\n      });\n    };\n  }, refs);\n}\n\n/**\n * @deprecated `useMouseDownRef` will be removed in a future version.\n */\n\nfunction useMouseDownRef(shouldListen) {\n  if (shouldListen === void 0) {\n    shouldListen = true;\n  }\n\n  var mouseDownRef = React__default.useRef();\n  useEventListener(\"mousedown\", function (event) {\n    if (shouldListen) {\n      mouseDownRef.current = event.target;\n    }\n  });\n  return mouseDownRef;\n}\n\n/**\n * Example, used in components like Dialogs and Popovers, so they can close\n * when a user clicks outside them.\n */\nfunction useOutsideClick(props) {\n  var ref = props.ref,\n      handler = props.handler,\n      _props$enabled = props.enabled,\n      enabled = _props$enabled === void 0 ? true : _props$enabled;\n  var savedHandler = useCallbackRef(handler);\n  var stateRef = useRef({\n    isPointerDown: false,\n    ignoreEmulatedMouseEvents: false\n  });\n  var state = stateRef.current;\n  useEffect(function () {\n    if (!enabled) return;\n\n    var onPointerDown = function onPointerDown(e) {\n      if (isValidEvent(e, ref)) {\n        state.isPointerDown = true;\n      }\n    };\n\n    var onMouseUp = function onMouseUp(event) {\n      if (state.ignoreEmulatedMouseEvents) {\n        state.ignoreEmulatedMouseEvents = false;\n        return;\n      }\n\n      if (state.isPointerDown && handler && isValidEvent(event, ref)) {\n        state.isPointerDown = false;\n        savedHandler(event);\n      }\n    };\n\n    var onTouchEnd = function onTouchEnd(event) {\n      state.ignoreEmulatedMouseEvents = true;\n\n      if (handler && state.isPointerDown && isValidEvent(event, ref)) {\n        state.isPointerDown = false;\n        savedHandler(event);\n      }\n    };\n\n    var doc = getOwnerDocument(ref.current);\n    doc.addEventListener(\"mousedown\", onPointerDown, true);\n    doc.addEventListener(\"mouseup\", onMouseUp, true);\n    doc.addEventListener(\"touchstart\", onPointerDown, true);\n    doc.addEventListener(\"touchend\", onTouchEnd, true);\n    return function () {\n      doc.removeEventListener(\"mousedown\", onPointerDown, true);\n      doc.removeEventListener(\"mouseup\", onMouseUp, true);\n      doc.removeEventListener(\"touchstart\", onPointerDown, true);\n      doc.removeEventListener(\"touchend\", onTouchEnd, true);\n    };\n  }, [handler, ref, savedHandler, state, enabled]);\n}\n\nfunction isValidEvent(event, ref) {\n  var _ref$current;\n\n  var target = event.target;\n  if (event.button > 0) return false; // if the event target is no longer in the document\n\n  if (target) {\n    var doc = getOwnerDocument(target);\n    if (!doc.body.contains(target)) return false;\n  }\n\n  return !((_ref$current = ref.current) != null && _ref$current.contains(target));\n}\n\nfunction usePanGesture(ref, props) {\n  var onPan = props.onPan,\n      onPanStart = props.onPanStart,\n      onPanEnd = props.onPanEnd,\n      onPanSessionStart = props.onPanSessionStart,\n      onPanSessionEnd = props.onPanSessionEnd,\n      threshold = props.threshold;\n  var hasPanEvents = Boolean(onPan || onPanStart || onPanEnd || onPanSessionStart || onPanSessionEnd);\n  var panSession = useRef(null);\n  var handlers = {\n    onSessionStart: onPanSessionStart,\n    onSessionEnd: onPanSessionEnd,\n    onStart: onPanStart,\n    onMove: onPan,\n    onEnd: function onEnd(event, info) {\n      panSession.current = null;\n      onPanEnd == null ? void 0 : onPanEnd(event, info);\n    }\n  };\n  useEffect(function () {\n    var _panSession$current;\n\n    (_panSession$current = panSession.current) == null ? void 0 : _panSession$current.updateHandlers(handlers);\n  });\n\n  function onPointerDown(event) {\n    panSession.current = new PanSession(event, handlers, threshold);\n  }\n\n  usePointerEvent(function () {\n    return ref.current;\n  }, \"pointerdown\", hasPanEvents ? onPointerDown : noop);\n  useUnmountEffect(function () {\n    var _panSession$current2;\n\n    (_panSession$current2 = panSession.current) == null ? void 0 : _panSession$current2.end();\n    panSession.current = null;\n  });\n}\n\nfunction usePrevious(value) {\n  var ref = useRef();\n  useEffect(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n\n/**\n * Checks if the key pressed is a printable character\n * and can be used for shortcut navigation\n */\n\nfunction isPrintableCharacter(event) {\n  var key = event.key;\n  return key.length === 1 || key.length > 1 && /[^a-zA-Z0-9]/.test(key);\n}\n\n/**\n * React hook that provides an enhanced keydown handler,\n * that's used for key navigation within menus, select dropdowns.\n */\nfunction useShortcut(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      _props$timeout = _props.timeout,\n      timeout = _props$timeout === void 0 ? 300 : _props$timeout,\n      _props$preventDefault = _props.preventDefault,\n      preventDefault = _props$preventDefault === void 0 ? function () {\n    return true;\n  } : _props$preventDefault;\n\n  var _React$useState = React.useState([]),\n      keys = _React$useState[0],\n      setKeys = _React$useState[1];\n\n  var timeoutRef = React.useRef();\n\n  var flush = function flush() {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = null;\n    }\n  };\n\n  var clearKeysAfterDelay = function clearKeysAfterDelay() {\n    flush();\n    timeoutRef.current = setTimeout(function () {\n      setKeys([]);\n      timeoutRef.current = null;\n    }, timeout);\n  };\n\n  React.useEffect(function () {\n    return flush;\n  }, []);\n\n  function onKeyDown(fn) {\n    return function (event) {\n      if (event.key === \"Backspace\") {\n        var keysCopy = [].concat(keys);\n        keysCopy.pop();\n        setKeys(keysCopy);\n        return;\n      }\n\n      if (isPrintableCharacter(event)) {\n        var _keysCopy = keys.concat(event.key);\n\n        if (preventDefault(event)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n\n        setKeys(_keysCopy);\n        fn(_keysCopy.join(\"\"));\n        clearKeysAfterDelay();\n      }\n    };\n  }\n\n  return onKeyDown;\n}\n\n/**\n * React hook that provides a declarative `setTimeout`\n *\n * @param callback the callback to run after specified delay\n * @param delay the delay (in ms)\n */\n\nfunction useTimeout(callback, delay) {\n  var fn = useCallbackRef(callback);\n  React.useEffect(function () {\n    if (delay == null) return undefined;\n    var timeoutId = null;\n    timeoutId = window.setTimeout(function () {\n      fn();\n    }, delay);\n    return function () {\n      if (timeoutId) {\n        window.clearTimeout(timeoutId);\n      }\n    };\n  }, [delay, fn]);\n}\n\nfunction useWhyDidYouUpdate(name, props) {\n  var previousProps = React.useRef();\n  React.useEffect(function () {\n    if (previousProps.current) {\n      var allKeys = Object.keys(_extends({}, previousProps.current, props));\n      var changesObj = {};\n      allKeys.forEach(function (key) {\n        if (previousProps.current[key] !== props[key]) {\n          changesObj[key] = {\n            from: previousProps.current[key],\n            to: props[key]\n          };\n        }\n      });\n\n      if (Object.keys(changesObj).length) {\n        console.log(\"[why-did-you-update]\", name, changesObj);\n      }\n    }\n\n    previousProps.current = props;\n  });\n}\n\nexport { IdProvider, assignRef, useBoolean, useClipboard, useConst, useControllableProp, useControllableState, useDimensions, useDisclosure, useEventCallback, useEventListenerMap, useFocusEffect, useFocusOnHide, useFocusOnPointerDown, useFocusOnShow, useForceUpdate, useId, useIds, useInterval, useLatestRef, useMergeRefs, useMouseDownRef, useOptionalPart, useOutsideClick, usePanGesture, usePointerEvent, usePrevious, useShortcut, useTimeout, useUnmountEffect, useUpdateEffect, useWhyDidYouUpdate };\n", "import invariant from 'tiny-invariant';\n\nvar getRect = function getRect(_ref) {\n  var top = _ref.top,\n      right = _ref.right,\n      bottom = _ref.bottom,\n      left = _ref.left;\n  var width = right - left;\n  var height = bottom - top;\n  var rect = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: width,\n    height: height,\n    x: left,\n    y: top,\n    center: {\n      x: (right + left) / 2,\n      y: (bottom + top) / 2\n    }\n  };\n  return rect;\n};\nvar expand = function expand(target, expandBy) {\n  return {\n    top: target.top - expandBy.top,\n    left: target.left - expandBy.left,\n    bottom: target.bottom + expandBy.bottom,\n    right: target.right + expandBy.right\n  };\n};\nvar shrink = function shrink(target, shrinkBy) {\n  return {\n    top: target.top + shrinkBy.top,\n    left: target.left + shrinkBy.left,\n    bottom: target.bottom - shrinkBy.bottom,\n    right: target.right - shrinkBy.right\n  };\n};\n\nvar shift = function shift(target, shiftBy) {\n  return {\n    top: target.top + shiftBy.y,\n    left: target.left + shiftBy.x,\n    bottom: target.bottom + shiftBy.y,\n    right: target.right + shiftBy.x\n  };\n};\n\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\nvar createBox = function createBox(_ref2) {\n  var borderBox = _ref2.borderBox,\n      _ref2$margin = _ref2.margin,\n      margin = _ref2$margin === void 0 ? noSpacing : _ref2$margin,\n      _ref2$border = _ref2.border,\n      border = _ref2$border === void 0 ? noSpacing : _ref2$border,\n      _ref2$padding = _ref2.padding,\n      padding = _ref2$padding === void 0 ? noSpacing : _ref2$padding;\n  var marginBox = getRect(expand(borderBox, margin));\n  var paddingBox = getRect(shrink(borderBox, border));\n  var contentBox = getRect(shrink(paddingBox, padding));\n  return {\n    marginBox: marginBox,\n    borderBox: getRect(borderBox),\n    paddingBox: paddingBox,\n    contentBox: contentBox,\n    margin: margin,\n    border: border,\n    padding: padding\n  };\n};\n\nvar parse = function parse(raw) {\n  var value = raw.slice(0, -2);\n  var suffix = raw.slice(-2);\n\n  if (suffix !== 'px') {\n    return 0;\n  }\n\n  var result = Number(value);\n  !!isNaN(result) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Could not parse value [raw: \" + raw + \", without suffix: \" + value + \"]\") : invariant(false) : void 0;\n  return result;\n};\n\nvar getWindowScroll = function getWindowScroll() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n};\n\nvar offset = function offset(original, change) {\n  var borderBox = original.borderBox,\n      border = original.border,\n      margin = original.margin,\n      padding = original.padding;\n  var shifted = shift(borderBox, change);\n  return createBox({\n    borderBox: shifted,\n    border: border,\n    margin: margin,\n    padding: padding\n  });\n};\nvar withScroll = function withScroll(original, scroll) {\n  if (scroll === void 0) {\n    scroll = getWindowScroll();\n  }\n\n  return offset(original, scroll);\n};\nvar calculateBox = function calculateBox(borderBox, styles) {\n  var margin = {\n    top: parse(styles.marginTop),\n    right: parse(styles.marginRight),\n    bottom: parse(styles.marginBottom),\n    left: parse(styles.marginLeft)\n  };\n  var padding = {\n    top: parse(styles.paddingTop),\n    right: parse(styles.paddingRight),\n    bottom: parse(styles.paddingBottom),\n    left: parse(styles.paddingLeft)\n  };\n  var border = {\n    top: parse(styles.borderTopWidth),\n    right: parse(styles.borderRightWidth),\n    bottom: parse(styles.borderBottomWidth),\n    left: parse(styles.borderLeftWidth)\n  };\n  return createBox({\n    borderBox: borderBox,\n    margin: margin,\n    padding: padding,\n    border: border\n  });\n};\nvar getBox = function getBox(el) {\n  var borderBox = el.getBoundingClientRect();\n  var styles = window.getComputedStyle(el);\n  return calculateBox(borderBox, styles);\n};\n\nexport { calculateBox, createBox, expand, getBox, getRect, offset, shrink, withScroll };\n", "export * from 'css-box-model';\nexport { default as mergeWith } from 'lodash.mergewith';\nimport sync, { cancelSync, getFrameData } from 'framesync';\n\nfunction getFirstItem(array) {\n  return array != null && array.length ? array[0] : undefined;\n}\nfunction getLastItem(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\nfunction getPrevItem(index, array, loop) {\n  if (loop === void 0) {\n    loop = true;\n  }\n\n  var prevIndex = getPrevIndex(index, array.length, loop);\n  return array[prevIndex];\n}\nfunction getNextItem(index, array, loop) {\n  if (loop === void 0) {\n    loop = true;\n  }\n\n  var nextIndex = getNextIndex(index, array.length, 1, loop);\n  return array[nextIndex];\n}\nfunction removeIndex(array, index) {\n  return array.filter(function (_, idx) {\n    return idx !== index;\n  });\n}\nfunction addItem(array, item) {\n  return [].concat(array, [item]);\n}\nfunction removeItem(array, item) {\n  return array.filter(function (eachItem) {\n    return eachItem !== item;\n  });\n}\n/**\n * Get the next index based on the current index and step.\n *\n * @param currentIndex the current index\n * @param length the total length or count of items\n * @param step the number of steps\n * @param loop whether to circle back once `currentIndex` is at the start/end\n */\n\nfunction getNextIndex(currentIndex, length, step, loop) {\n  if (step === void 0) {\n    step = 1;\n  }\n\n  if (loop === void 0) {\n    loop = true;\n  }\n\n  var lastIndex = length - 1;\n\n  if (currentIndex === -1) {\n    return step > 0 ? 0 : lastIndex;\n  }\n\n  var nextIndex = currentIndex + step;\n\n  if (nextIndex < 0) {\n    return loop ? lastIndex : 0;\n  }\n\n  if (nextIndex >= length) {\n    if (loop) return 0;\n    return currentIndex > length ? length : currentIndex;\n  }\n\n  return nextIndex;\n}\n/**\n * Get's the previous index based on the current index.\n * Mostly used for keyboard navigation.\n *\n * @param index - the current index\n * @param count - the length or total count of items in the array\n * @param loop - whether we should circle back to the\n * first/last once `currentIndex` is at the start/end\n */\n\nfunction getPrevIndex(index, count, loop) {\n  if (loop === void 0) {\n    loop = true;\n  }\n\n  return getNextIndex(index, count, -1, loop);\n}\n/**\n * Converts an array into smaller chunks or groups.\n *\n * @param array the array to chunk into group\n * @param size the length of each chunk\n */\n\nfunction chunk(array, size) {\n  return array.reduce(function (rows, currentValue, index) {\n    if (index % size === 0) {\n      rows.push([currentValue]);\n    } else {\n      rows[rows.length - 1].push(currentValue);\n    }\n\n    return rows;\n  }, []);\n}\n/**\n * Gets the next item based on a search string\n *\n * @param items array of items\n * @param searchString the search string\n * @param itemToString resolves an item to string\n * @param currentItem the current selected item\n */\n\nfunction getNextItemFromSearch(items, searchString, itemToString, currentItem) {\n  if (searchString == null) {\n    return currentItem;\n  } // If current item doesn't exist, find the item that matches the search string\n\n\n  if (!currentItem) {\n    var foundItem = items.find(function (item) {\n      return itemToString(item).toLowerCase().startsWith(searchString.toLowerCase());\n    });\n    return foundItem;\n  } // Filter items for ones that match the search string (case insensitive)\n\n\n  var matchingItems = items.filter(function (item) {\n    return itemToString(item).toLowerCase().startsWith(searchString.toLowerCase());\n  }); // If there's a match, let's get the next item to select\n\n  if (matchingItems.length > 0) {\n    var nextIndex; // If the currentItem is in the available items, we move to the next available option\n\n    if (matchingItems.includes(currentItem)) {\n      var currentIndex = matchingItems.indexOf(currentItem);\n      nextIndex = currentIndex + 1;\n\n      if (nextIndex === matchingItems.length) {\n        nextIndex = 0;\n      }\n\n      return matchingItems[nextIndex];\n    } // Else, we pick the first item in the available items\n\n\n    nextIndex = items.indexOf(matchingItems[0]);\n    return items[nextIndex];\n  } // a decent fallback to the currentItem\n\n\n  return currentItem;\n}\n\n// Number assertions\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isNotNumber(value) {\n  return typeof value !== \"number\" || Number.isNaN(value) || !Number.isFinite(value);\n}\nfunction isNumeric(value) {\n  return value != null && value - parseFloat(value) + 1 >= 0;\n} // Array assertions\n\nfunction isArray(value) {\n  return Array.isArray(value);\n}\nfunction isEmptyArray(value) {\n  return isArray(value) && value.length === 0;\n} // Function assertions\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n} // Generic assertions\n\nfunction isDefined(value) {\n  return typeof value !== \"undefined\" && value !== undefined;\n}\nfunction isUndefined(value) {\n  return typeof value === \"undefined\" || value === undefined;\n} // Object assertions\n\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type === \"object\" || type === \"function\") && !isArray(value);\n}\nfunction isEmptyObject(value) {\n  return isObject(value) && Object.keys(value).length === 0;\n}\nfunction isNotEmptyObject(value) {\n  return value && !isEmptyObject(value);\n}\nfunction isNull(value) {\n  return value == null;\n} // String assertions\n\nfunction isString(value) {\n  return Object.prototype.toString.call(value) === \"[object String]\";\n}\nfunction isCssVar(value) {\n  return /^var\\(--.+\\)$/.test(value);\n} // Empty assertions\n\nfunction isEmpty(value) {\n  if (isArray(value)) return isEmptyArray(value);\n  if (isObject(value)) return isEmptyObject(value);\n  if (value == null || value === \"\") return true;\n  return false;\n}\nvar __DEV__ = process.env.NODE_ENV !== \"production\";\nvar __TEST__ = process.env.NODE_ENV === \"test\";\nfunction isRefObject(val) {\n  return \"current\" in val;\n}\nfunction isInputEvent(value) {\n  return value && isObject(value) && isObject(value.target);\n}\n\nfunction omit(object, keys) {\n  var result = {};\n  Object.keys(object).forEach(function (key) {\n    if (keys.includes(key)) return;\n    result[key] = object[key];\n  });\n  return result;\n}\nfunction pick(object, keys) {\n  var result = {};\n  keys.forEach(function (key) {\n    if (key in object) {\n      result[key] = object[key];\n    }\n  });\n  return result;\n}\nfunction split(object, keys) {\n  var picked = {};\n  var omitted = {};\n  Object.keys(object).forEach(function (key) {\n    if (keys.includes(key)) {\n      picked[key] = object[key];\n    } else {\n      omitted[key] = object[key];\n    }\n  });\n  return [picked, omitted];\n}\n/**\n * Get value from a deeply nested object using a string path.\n * Memoizes the value.\n * @param obj - the object\n * @param path - the string path\n * @param def  - the fallback value\n */\n\nfunction get(obj, path, fallback, index) {\n  var key = typeof path === \"string\" ? path.split(\".\") : [path];\n\n  for (index = 0; index < key.length; index += 1) {\n    if (!obj) break;\n    obj = obj[key[index]];\n  }\n\n  return obj === undefined ? fallback : obj;\n}\nvar memoize = function memoize(fn) {\n  var cache = new WeakMap();\n\n  var memoizedFn = function memoizedFn(obj, path, fallback, index) {\n    if (typeof obj === \"undefined\") {\n      return fn(obj, path, fallback);\n    }\n\n    if (!cache.has(obj)) {\n      cache.set(obj, new Map());\n    }\n\n    var map = cache.get(obj);\n\n    if (map.has(path)) {\n      return map.get(path);\n    }\n\n    var value = fn(obj, path, fallback, index);\n    map.set(path, value);\n    return value;\n  };\n\n  return memoizedFn;\n};\nvar memoizedGet = memoize(get);\n/**\n * Get value from deeply nested object, based on path\n * It returns the path value if not found in object\n *\n * @param path - the string path or value\n * @param scale - the string path or value\n */\n\nfunction getWithDefault(path, scale) {\n  return memoizedGet(scale, path, path);\n}\n\n/**\n * Returns the items of an object that meet the condition specified in a callback function.\n *\n * @param object the object to loop through\n * @param fn The filter function\n */\nfunction objectFilter(object, fn) {\n  var result = {};\n  Object.keys(object).forEach(function (key) {\n    var value = object[key];\n    var shouldPass = fn(value, key, object);\n\n    if (shouldPass) {\n      result[key] = value;\n    }\n  });\n  return result;\n}\nvar filterUndefined = function filterUndefined(object) {\n  return objectFilter(object, function (val) {\n    return val !== null && val !== undefined;\n  });\n};\nvar objectKeys = function objectKeys(obj) {\n  return Object.keys(obj);\n};\n/**\n * Object.entries polyfill for Nodev10 compatibility\n */\n\nvar fromEntries = function fromEntries(entries) {\n  return entries.reduce(function (carry, _ref) {\n    var key = _ref[0],\n        value = _ref[1];\n    carry[key] = value;\n    return carry;\n  }, {});\n};\n/**\n * Get the CSS variable ref stored in the theme\n */\n\nvar getCSSVar = function getCSSVar(theme, scale, value) {\n  var _theme$__cssMap$$varR, _theme$__cssMap$;\n\n  return (_theme$__cssMap$$varR = (_theme$__cssMap$ = theme.__cssMap[scale + \".\" + value]) == null ? void 0 : _theme$__cssMap$.varRef) != null ? _theme$__cssMap$$varR : value;\n};\n\nfunction analyzeCSSValue(value) {\n  var num = parseFloat(value.toString());\n  var unit = value.toString().replace(String(num), \"\");\n  return {\n    unitless: !unit,\n    value: num,\n    unit: unit\n  };\n}\n\nfunction px(value) {\n  if (value == null) return value;\n\n  var _analyzeCSSValue = analyzeCSSValue(value),\n      unitless = _analyzeCSSValue.unitless;\n\n  return unitless || isNumber(value) ? value + \"px\" : value;\n}\n\nvar sortByBreakpointValue = function sortByBreakpointValue(a, b) {\n  return parseInt(a[1], 10) > parseInt(b[1], 10) ? 1 : -1;\n};\n\nvar sortBps = function sortBps(breakpoints) {\n  return fromEntries(Object.entries(breakpoints).sort(sortByBreakpointValue));\n};\n\nfunction normalize(breakpoints) {\n  var sorted = sortBps(breakpoints);\n  return Object.assign(Object.values(sorted), sorted);\n}\n\nfunction keys(breakpoints) {\n  var value = Object.keys(sortBps(breakpoints));\n  return new Set(value);\n}\n\nfunction subtract(value) {\n  var _px;\n\n  if (!value) return value;\n  value = (_px = px(value)) != null ? _px : value;\n  var factor = value.endsWith(\"px\") ? -1 : // the equivalent of 1px in em using a 16px base\n  -0.0635;\n  return isNumber(value) ? \"\" + (value + factor) : value.replace(/([0-9]+\\.?[0-9]*)/, function (m) {\n    return \"\" + (parseFloat(m) + factor);\n  });\n}\n\nfunction queryString(min, max) {\n  var query = [\"@media screen\"];\n  if (min) query.push(\"and\", \"(min-width: \" + px(min) + \")\");\n  if (max) query.push(\"and\", \"(max-width: \" + px(max) + \")\");\n  return query.join(\" \");\n}\n\nfunction analyzeBreakpoints(breakpoints) {\n  var _breakpoints$base;\n\n  if (!breakpoints) return null;\n  breakpoints.base = (_breakpoints$base = breakpoints.base) != null ? _breakpoints$base : \"0px\";\n  var normalized = normalize(breakpoints);\n  var queries = Object.entries(breakpoints).sort(sortByBreakpointValue).map(function (_ref, index, entry) {\n    var _entry;\n\n    var breakpoint = _ref[0],\n        minW = _ref[1];\n\n    var _ref2 = (_entry = entry[index + 1]) != null ? _entry : [],\n        maxW = _ref2[1];\n\n    maxW = parseFloat(maxW) > 0 ? subtract(maxW) : undefined;\n    return {\n      breakpoint: breakpoint,\n      minW: minW,\n      maxW: maxW,\n      maxWQuery: queryString(null, maxW),\n      minWQuery: queryString(minW),\n      minMaxQuery: queryString(minW, maxW)\n    };\n  });\n\n  var _keys = keys(breakpoints);\n\n  var _keysArr = Array.from(_keys.values());\n\n  return {\n    keys: _keys,\n    normalized: normalized,\n    isResponsive: function isResponsive(test) {\n      var keys = Object.keys(test);\n      return keys.length > 0 && keys.every(function (key) {\n        return _keys.has(key);\n      });\n    },\n    asObject: sortBps(breakpoints),\n    asArray: normalize(breakpoints),\n    details: queries,\n    media: [null].concat(normalized.map(function (minW) {\n      return queryString(minW);\n    }).slice(1)),\n    toArrayValue: function toArrayValue(test) {\n      if (!isObject(test)) {\n        throw new Error(\"toArrayValue: value must be an object\");\n      }\n\n      var result = _keysArr.map(function (bp) {\n        var _test$bp;\n\n        return (_test$bp = test[bp]) != null ? _test$bp : null;\n      });\n\n      while (getLastItem(result) === null) {\n        result.pop();\n      }\n\n      return result;\n    },\n    toObjectValue: function toObjectValue(test) {\n      if (!Array.isArray(test)) {\n        throw new Error(\"toObjectValue: value must be an array\");\n      }\n\n      return test.reduce(function (acc, value, index) {\n        var key = _keysArr[index];\n        if (key != null && value != null) acc[key] = value;\n        return acc;\n      }, {});\n    }\n  };\n}\n\nfunction isElement(el) {\n  return el != null && typeof el == \"object\" && \"nodeType\" in el && el.nodeType === Node.ELEMENT_NODE;\n}\nfunction isHTMLElement(el) {\n  var _el$ownerDocument$def;\n\n  if (!isElement(el)) {\n    return false;\n  }\n\n  var win = (_el$ownerDocument$def = el.ownerDocument.defaultView) != null ? _el$ownerDocument$def : window;\n  return el instanceof win.HTMLElement;\n}\nfunction getOwnerWindow(node) {\n  var _getOwnerDocument$def, _getOwnerDocument;\n\n  return isElement(node) ? (_getOwnerDocument$def = (_getOwnerDocument = getOwnerDocument(node)) == null ? void 0 : _getOwnerDocument.defaultView) != null ? _getOwnerDocument$def : window : window;\n}\nfunction getOwnerDocument(node) {\n  var _node$ownerDocument;\n\n  return isElement(node) ? (_node$ownerDocument = node.ownerDocument) != null ? _node$ownerDocument : document : document;\n}\nfunction getEventWindow(event) {\n  var _view;\n\n  return (_view = event.view) != null ? _view : window;\n}\nfunction canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\nvar isBrowser = canUseDOM();\nvar dataAttr = function dataAttr(condition) {\n  return condition ? \"\" : undefined;\n};\nvar ariaAttr = function ariaAttr(condition) {\n  return condition ? true : undefined;\n};\nvar cx = function cx() {\n  for (var _len = arguments.length, classNames = new Array(_len), _key = 0; _key < _len; _key++) {\n    classNames[_key] = arguments[_key];\n  }\n\n  return classNames.filter(Boolean).join(\" \");\n};\nfunction getActiveElement(node) {\n  var doc = getOwnerDocument(node);\n  return doc == null ? void 0 : doc.activeElement;\n}\nfunction contains(parent, child) {\n  if (!parent) return false;\n  return parent === child || parent.contains(child);\n}\nfunction addDomEvent(target, eventName, handler, options) {\n  target.addEventListener(eventName, handler, options);\n  return function () {\n    target.removeEventListener(eventName, handler, options);\n  };\n}\n/**\n * Get the normalized event key across all browsers\n * @param event keyboard event\n */\n\nfunction normalizeEventKey(event) {\n  var key = event.key,\n      keyCode = event.keyCode;\n  var isArrowKey = keyCode >= 37 && keyCode <= 40 && key.indexOf(\"Arrow\") !== 0;\n  var eventKey = isArrowKey ? \"Arrow\" + key : key;\n  return eventKey;\n}\nfunction getRelatedTarget(event) {\n  var _event$target, _event$relatedTarget;\n\n  var target = (_event$target = event.target) != null ? _event$target : event.currentTarget;\n  var activeElement = getActiveElement(target);\n  return (_event$relatedTarget = event.relatedTarget) != null ? _event$relatedTarget : activeElement;\n}\nfunction isRightClick(event) {\n  return event.button !== 0;\n}\n\n// Really great work done by Diego Haz on this one\nvar hasDisplayNone = function hasDisplayNone(element) {\n  return window.getComputedStyle(element).display === \"none\";\n};\nvar hasTabIndex = function hasTabIndex(element) {\n  return element.hasAttribute(\"tabindex\");\n};\nvar hasNegativeTabIndex = function hasNegativeTabIndex(element) {\n  return hasTabIndex(element) && element.tabIndex === -1;\n};\nfunction isDisabled(element) {\n  return Boolean(element.getAttribute(\"disabled\")) === true || Boolean(element.getAttribute(\"aria-disabled\")) === true;\n}\nfunction isInputElement(element) {\n  return isHTMLElement(element) && element.tagName.toLowerCase() === \"input\" && \"select\" in element;\n}\nfunction isActiveElement(element) {\n  var doc = isHTMLElement(element) ? getOwnerDocument(element) : document;\n  return doc.activeElement === element;\n}\nfunction hasFocusWithin(element) {\n  if (!document.activeElement) return false;\n  return element.contains(document.activeElement);\n}\nfunction isHidden(element) {\n  if (element.parentElement && isHidden(element.parentElement)) return true;\n  return element.hidden;\n}\nfunction isContentEditable(element) {\n  var value = element.getAttribute(\"contenteditable\");\n  return value !== \"false\" && value != null;\n}\nfunction isFocusable(element) {\n  if (!isHTMLElement(element) || isHidden(element) || isDisabled(element)) {\n    return false;\n  }\n\n  var localName = element.localName;\n  var focusableTags = [\"input\", \"select\", \"textarea\", \"button\"];\n  if (focusableTags.indexOf(localName) >= 0) return true;\n  var others = {\n    a: function a() {\n      return element.hasAttribute(\"href\");\n    },\n    audio: function audio() {\n      return element.hasAttribute(\"controls\");\n    },\n    video: function video() {\n      return element.hasAttribute(\"controls\");\n    }\n  };\n\n  if (localName in others) {\n    return others[localName]();\n  }\n\n  if (isContentEditable(element)) return true;\n  return hasTabIndex(element);\n}\nfunction isTabbable(element) {\n  if (!element) return false;\n  return isHTMLElement(element) && isFocusable(element) && !hasNegativeTabIndex(element);\n}\n\nvar focusableElList = [\"input:not([disabled])\", \"select:not([disabled])\", \"textarea:not([disabled])\", \"embed\", \"iframe\", \"object\", \"a[href]\", \"area[href]\", \"button:not([disabled])\", \"[tabindex]\", \"audio[controls]\", \"video[controls]\", \"*[tabindex]:not([aria-disabled])\", \"*[contenteditable]\"];\nvar focusableElSelector = focusableElList.join();\nfunction getAllFocusable(container) {\n  var focusableEls = Array.from(container.querySelectorAll(focusableElSelector));\n  focusableEls.unshift(container);\n  return focusableEls.filter(isFocusable).filter(function (el) {\n    return window.getComputedStyle(el).display !== \"none\";\n  });\n}\nfunction getFirstFocusable(container) {\n  var allFocusable = getAllFocusable(container);\n  return allFocusable.length ? allFocusable[0] : null;\n}\nfunction getAllTabbable(container, fallbackToFocusable) {\n  var allFocusable = Array.from(container.querySelectorAll(focusableElSelector));\n  var allTabbable = allFocusable.filter(isTabbable);\n\n  if (isTabbable(container)) {\n    allTabbable.unshift(container);\n  }\n\n  if (!allTabbable.length && fallbackToFocusable) {\n    return allFocusable;\n  }\n\n  return allTabbable;\n}\nfunction getFirstTabbableIn(container, fallbackToFocusable) {\n  var _getAllTabbable = getAllTabbable(container, fallbackToFocusable),\n      first = _getAllTabbable[0];\n\n  return first || null;\n}\nfunction getLastTabbableIn(container, fallbackToFocusable) {\n  var allTabbable = getAllTabbable(container, fallbackToFocusable);\n  return allTabbable[allTabbable.length - 1] || null;\n}\nfunction getNextTabbable(container, fallbackToFocusable) {\n  var allFocusable = getAllFocusable(container);\n  var index = allFocusable.indexOf(document.activeElement);\n  var slice = allFocusable.slice(index + 1);\n  return slice.find(isTabbable) || allFocusable.find(isTabbable) || (fallbackToFocusable ? slice[0] : null);\n}\nfunction getPreviousTabbable(container, fallbackToFocusable) {\n  var allFocusable = getAllFocusable(container).reverse();\n  var index = allFocusable.indexOf(document.activeElement);\n  var slice = allFocusable.slice(index + 1);\n  return slice.find(isTabbable) || allFocusable.find(isTabbable) || (fallbackToFocusable ? slice[0] : null);\n}\nfunction focusNextTabbable(container, fallbackToFocusable) {\n  var nextTabbable = getNextTabbable(container, fallbackToFocusable);\n\n  if (nextTabbable && isHTMLElement(nextTabbable)) {\n    nextTabbable.focus();\n  }\n}\nfunction focusPreviousTabbable(container, fallbackToFocusable) {\n  var previousTabbable = getPreviousTabbable(container, fallbackToFocusable);\n\n  if (previousTabbable && isHTMLElement(previousTabbable)) {\n    previousTabbable.focus();\n  }\n}\n\nfunction matches(element, selectors) {\n  if (\"matches\" in element) return element.matches(selectors);\n  if (\"msMatchesSelector\" in element) return element.msMatchesSelector(selectors);\n  return element.webkitMatchesSelector(selectors);\n}\n\nfunction closest(element, selectors) {\n  if (\"closest\" in element) return element.closest(selectors);\n\n  do {\n    if (matches(element, selectors)) return element;\n    element = element.parentElement || element.parentNode;\n  } while (element !== null && element.nodeType === 1);\n\n  return null;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n/* eslint-disable no-nested-ternary */\nfunction runIfFn(valueOrFn) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return isFunction(valueOrFn) ? valueOrFn.apply(void 0, args) : valueOrFn;\n}\nfunction callAllHandlers() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return function func(event) {\n    fns.some(function (fn) {\n      fn == null ? void 0 : fn(event);\n      return event == null ? void 0 : event.defaultPrevented;\n    });\n  };\n}\nfunction callAll() {\n  for (var _len3 = arguments.length, fns = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    fns[_key3] = arguments[_key3];\n  }\n\n  return function mergedFn(arg) {\n    fns.forEach(function (fn) {\n      fn == null ? void 0 : fn(arg);\n    });\n  };\n}\nvar compose = function compose(fn1) {\n  for (var _len4 = arguments.length, fns = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    fns[_key4 - 1] = arguments[_key4];\n  }\n\n  return fns.reduce(function (f1, f2) {\n    return function () {\n      return f1(f2.apply(void 0, arguments));\n    };\n  }, fn1);\n};\nfunction once(fn) {\n  var result;\n  return function func() {\n    if (fn) {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      result = fn.apply(this, args);\n      fn = null;\n    }\n\n    return result;\n  };\n}\nvar noop = function noop() {};\nvar warn = once(function (options) {\n  return function () {\n    var condition = options.condition,\n        message = options.message;\n\n    if (condition && __DEV__) {\n      console.warn(message);\n    }\n  };\n});\nvar error = once(function (options) {\n  return function () {\n    var condition = options.condition,\n        message = options.message;\n\n    if (condition && __DEV__) {\n      console.error(message);\n    }\n  };\n});\nvar pipe = function pipe() {\n  for (var _len6 = arguments.length, fns = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    fns[_key6] = arguments[_key6];\n  }\n\n  return function (v) {\n    return fns.reduce(function (a, b) {\n      return b(a);\n    }, v);\n  };\n};\n\nvar distance1D = function distance1D(a, b) {\n  return Math.abs(a - b);\n};\n\nvar isPoint = function isPoint(point) {\n  return \"x\" in point && \"y\" in point;\n};\n\nfunction distance(a, b) {\n  if (isNumber(a) && isNumber(b)) {\n    return distance1D(a, b);\n  }\n\n  if (isPoint(a) && isPoint(b)) {\n    var xDelta = distance1D(a.x, b.x);\n    var yDelta = distance1D(a.y, b.y);\n    return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2));\n  }\n\n  return 0;\n}\n\nfunction focus(element, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$isActive = _options.isActive,\n      isActive = _options$isActive === void 0 ? isActiveElement : _options$isActive,\n      nextTick = _options.nextTick,\n      _options$preventScrol = _options.preventScroll,\n      preventScroll = _options$preventScrol === void 0 ? true : _options$preventScrol,\n      _options$selectTextIf = _options.selectTextIfInput,\n      selectTextIfInput = _options$selectTextIf === void 0 ? true : _options$selectTextIf;\n  if (!element || isActive(element)) return -1;\n\n  function triggerFocus() {\n    if (!element) {\n      warn({\n        condition: true,\n        message: \"[chakra-ui]: can't call focus() on `null` or `undefined` element\"\n      });\n      return;\n    }\n\n    if (supportsPreventScroll()) {\n      element.focus({\n        preventScroll: preventScroll\n      });\n    } else {\n      element.focus();\n\n      if (preventScroll) {\n        var scrollableElements = getScrollableElements(element);\n        restoreScrollPosition(scrollableElements);\n      }\n    }\n\n    if (isInputElement(element) && selectTextIfInput) {\n      element.select();\n    }\n  }\n\n  if (nextTick) {\n    return requestAnimationFrame(triggerFocus);\n  }\n\n  triggerFocus();\n  return -1;\n}\nvar supportsPreventScrollCached = null;\n\nfunction supportsPreventScroll() {\n  if (supportsPreventScrollCached == null) {\n    supportsPreventScrollCached = false;\n\n    try {\n      var div = document.createElement(\"div\");\n      div.focus({\n        get preventScroll() {\n          supportsPreventScrollCached = true;\n          return true;\n        }\n\n      });\n    } catch (e) {// Ignore\n    }\n  }\n\n  return supportsPreventScrollCached;\n}\n\nfunction getScrollableElements(element) {\n  var _doc$defaultView;\n\n  var doc = getOwnerDocument(element);\n  var win = (_doc$defaultView = doc.defaultView) != null ? _doc$defaultView : window;\n  var parent = element.parentNode;\n  var scrollableElements = [];\n  var rootScrollingElement = doc.scrollingElement || doc.documentElement;\n\n  while (parent instanceof win.HTMLElement && parent !== rootScrollingElement) {\n    if (parent.offsetHeight < parent.scrollHeight || parent.offsetWidth < parent.scrollWidth) {\n      scrollableElements.push({\n        element: parent,\n        scrollTop: parent.scrollTop,\n        scrollLeft: parent.scrollLeft\n      });\n    }\n\n    parent = parent.parentNode;\n  }\n\n  if (rootScrollingElement instanceof win.HTMLElement) {\n    scrollableElements.push({\n      element: rootScrollingElement,\n      scrollTop: rootScrollingElement.scrollTop,\n      scrollLeft: rootScrollingElement.scrollLeft\n    });\n  }\n\n  return scrollableElements;\n}\n\nfunction restoreScrollPosition(scrollableElements) {\n  for (var _iterator = _createForOfIteratorHelperLoose(scrollableElements), _step; !(_step = _iterator()).done;) {\n    var _step$value = _step.value,\n        element = _step$value.element,\n        scrollTop = _step$value.scrollTop,\n        scrollLeft = _step$value.scrollLeft;\n    element.scrollTop = scrollTop;\n    element.scrollLeft = scrollLeft;\n  }\n}\n\nfunction flatten(target, maxDepth) {\n  if (maxDepth === void 0) {\n    maxDepth = Infinity;\n  }\n\n  if (!isObject(target) && !Array.isArray(target) || !maxDepth) {\n    return target;\n  }\n\n  return Object.entries(target).reduce(function (result, _ref) {\n    var key = _ref[0],\n        value = _ref[1];\n\n    if (isObject(value) || isArray(value)) {\n      Object.entries(flatten(value, maxDepth - 1)).forEach(function (_ref2) {\n        var childKey = _ref2[0],\n            childValue = _ref2[1];\n        // e.g. gray.500\n        result[key + \".\" + childKey] = childValue;\n      });\n    } else {\n      // e.g. transparent\n      result[key] = value;\n    }\n\n    return result;\n  }, {});\n}\n\n/**\n * Determines whether the children of a disclosure widget\n * should be rendered or not, depending on the lazy behavior.\n *\n * Used in accordion, tabs, popover, menu and other disclosure\n * widgets.\n */\nfunction determineLazyBehavior(options) {\n  var hasBeenSelected = options.hasBeenSelected,\n      isLazy = options.isLazy,\n      isSelected = options.isSelected,\n      _options$lazyBehavior = options.lazyBehavior,\n      lazyBehavior = _options$lazyBehavior === void 0 ? \"unmount\" : _options$lazyBehavior; // if not lazy, always render the disclosure's content\n\n  if (!isLazy) return true; // if the diclosure is selected, render the disclosure's content\n\n  if (isSelected) return true; // if the disclosure was selected but not active, keep its content active\n\n  if (lazyBehavior === \"keepMounted\" && hasBeenSelected) return true;\n  return false;\n}\n\nvar minSafeInteger = Number.MIN_SAFE_INTEGER || -9007199254740991;\nvar maxSafeInteger = Number.MAX_SAFE_INTEGER || 9007199254740991;\n\nfunction toNumber(value) {\n  var num = parseFloat(value);\n  return isNotNumber(num) ? 0 : num;\n}\n/**\n * Converts a value to a specific precision (or decimal points).\n *\n * Returns a string representing a number in fixed-point notation.\n *\n * @param value the value to convert\n * @param precision the precision or decimal points\n */\n\n\nfunction toPrecision(value, precision) {\n  var nextValue = toNumber(value);\n  var scaleFactor = Math.pow(10, precision != null ? precision : 10);\n  nextValue = Math.round(nextValue * scaleFactor) / scaleFactor;\n  return precision ? nextValue.toFixed(precision) : nextValue.toString();\n}\n/**\n * Counts the number of decimal places a number has\n *\n * @param value the decimal value to count\n */\n\nfunction countDecimalPlaces(value) {\n  if (!Number.isFinite(value)) return 0;\n  var e = 1;\n  var p = 0;\n\n  while (Math.round(value * e) / e !== value) {\n    e *= 10;\n    p += 1;\n  }\n\n  return p;\n}\n/**\n * Convert a value to percentage based on lower and upper bound values\n *\n * @param value the value in number\n * @param min the minimum value\n * @param max the maximum value\n */\n\nfunction valueToPercent(value, min, max) {\n  return (value - min) * 100 / (max - min);\n}\n/**\n * Calculate the value based on percentage, lower and upper bound values\n *\n * @param percent the percent value in decimals (e.g 0.6, 0.3)\n * @param min the minimum value\n * @param max the maximum value\n */\n\nfunction percentToValue(percent, min, max) {\n  return (max - min) * percent + min;\n}\n/**\n * Rounds a specific value to the next or previous step\n *\n * @param value the value to round\n * @param from the number that stepping started from\n * @param step the specified step\n */\n\nfunction roundValueToStep(value, from, step) {\n  var nextValue = Math.round((value - from) / step) * step + from;\n  var precision = countDecimalPlaces(step);\n  return toPrecision(nextValue, precision);\n}\n/**\n * Clamps a value to ensure it stays within the min and max range.\n *\n * @param value the value to clamp\n * @param min the minimum value\n * @param max the maximum value\n */\n\nfunction clampValue(value, min, max) {\n  if (value == null) return value;\n  warn({\n    condition: max < min,\n    message: \"clamp: max cannot be less than min\"\n  });\n  return Math.min(Math.max(value, min), max);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n/**\n * Credit goes to `framer-motion` of this useful utilities.\n * License can be found here: https://github.com/framer/motion\n */\nfunction isMouseEvent(event) {\n  var win = getEventWindow(event); // PointerEvent inherits from MouseEvent so we can't use a straight instanceof check.\n\n  if (typeof win.PointerEvent !== \"undefined\" && event instanceof win.PointerEvent) {\n    return !!(event.pointerType === \"mouse\");\n  }\n\n  return event instanceof win.MouseEvent;\n}\nfunction isTouchEvent(event) {\n  var hasTouches = !!event.touches;\n  return hasTouches;\n}\n\n/**\n * Filters out events not attached to the primary pointer (currently left mouse button)\n * @param eventHandler\n */\nfunction filterPrimaryPointer(eventHandler) {\n  return function (event) {\n    var win = getEventWindow(event);\n    var isMouseEvent = event instanceof win.MouseEvent;\n    var isPrimaryPointer = !isMouseEvent || isMouseEvent && event.button === 0;\n\n    if (isPrimaryPointer) {\n      eventHandler(event);\n    }\n  };\n}\n\nvar defaultPagePoint = {\n  pageX: 0,\n  pageY: 0\n};\n\nfunction pointFromTouch(e, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  var primaryTouch = e.touches[0] || e.changedTouches[0];\n  var point = primaryTouch || defaultPagePoint;\n  return {\n    x: point[pointType + \"X\"],\n    y: point[pointType + \"Y\"]\n  };\n}\n\nfunction pointFromMouse(point, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  return {\n    x: point[pointType + \"X\"],\n    y: point[pointType + \"Y\"]\n  };\n}\n\nfunction extractEventInfo(event, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  return {\n    point: isTouchEvent(event) ? pointFromTouch(event, pointType) : pointFromMouse(event, pointType)\n  };\n}\nfunction getViewportPointFromEvent(event) {\n  return extractEventInfo(event, \"client\");\n}\nvar wrapPointerEventHandler = function wrapPointerEventHandler(handler, shouldFilterPrimaryPointer) {\n  if (shouldFilterPrimaryPointer === void 0) {\n    shouldFilterPrimaryPointer = false;\n  }\n\n  var listener = function listener(event) {\n    return handler(event, extractEventInfo(event));\n  };\n\n  return shouldFilterPrimaryPointer ? filterPrimaryPointer(listener) : listener;\n}; // We check for event support via functions in case they've been mocked by a testing suite.\n\nvar supportsPointerEvents = function supportsPointerEvents() {\n  return isBrowser && window.onpointerdown === null;\n};\n\nvar supportsTouchEvents = function supportsTouchEvents() {\n  return isBrowser && window.ontouchstart === null;\n};\n\nvar supportsMouseEvents = function supportsMouseEvents() {\n  return isBrowser && window.onmousedown === null;\n};\n\nvar mouseEventNames = {\n  pointerdown: \"mousedown\",\n  pointermove: \"mousemove\",\n  pointerup: \"mouseup\",\n  pointercancel: \"mousecancel\",\n  pointerover: \"mouseover\",\n  pointerout: \"mouseout\",\n  pointerenter: \"mouseenter\",\n  pointerleave: \"mouseleave\"\n};\nvar touchEventNames = {\n  pointerdown: \"touchstart\",\n  pointermove: \"touchmove\",\n  pointerup: \"touchend\",\n  pointercancel: \"touchcancel\"\n};\nfunction getPointerEventName(name) {\n  if (supportsPointerEvents()) {\n    return name;\n  }\n\n  if (supportsTouchEvents()) {\n    return touchEventNames[name];\n  }\n\n  if (supportsMouseEvents()) {\n    return mouseEventNames[name];\n  }\n\n  return name;\n}\nfunction addPointerEvent(target, eventName, handler, options) {\n  return addDomEvent(target, getPointerEventName(eventName), wrapPointerEventHandler(handler, eventName === \"pointerdown\"), options);\n}\nfunction isMultiTouchEvent(event) {\n  return isTouchEvent(event) && event.touches.length > 1;\n}\n\n/**\n * The event information passed to pan event handlers like `onPan`, `onPanStart`.\n *\n * It contains information about the current state of the tap gesture such as its\n * `point`, `delta`, and `offset`\n */\n\n/**\n * @internal\n *\n * A Pan Session is recognized when the pointer is down\n * and moved in the allowed direction.\n */\nvar PanSession = /*#__PURE__*/function () {\n  /**\n   * We use this to keep track of the `x` and `y` pan session history\n   * as the pan event happens. It helps to calculate the `offset` and `delta`\n   */\n  // The pointer event that started the pan session\n  // The current pointer event for the pan session\n  // The current pointer event info for the pan session\n\n  /**\n   * Minimal pan distance required before recognizing the pan.\n   * @default \"3px\"\n   */\n  function PanSession(_event, handlers, threshold) {\n    var _this = this;\n\n    this.history = [];\n    this.startEvent = null;\n    this.lastEvent = null;\n    this.lastEventInfo = null;\n    this.handlers = {};\n    this.removeListeners = noop;\n    this.threshold = 3;\n    this.win = void 0;\n\n    this.updatePoint = function () {\n      if (!(_this.lastEvent && _this.lastEventInfo)) return;\n      var info = getPanInfo(_this.lastEventInfo, _this.history);\n      var isPanStarted = _this.startEvent !== null;\n\n      var isDistancePastThreshold = distance(info.offset, {\n        x: 0,\n        y: 0\n      }) >= _this.threshold;\n\n      if (!isPanStarted && !isDistancePastThreshold) return;\n\n      var _getFrameData = getFrameData(),\n          timestamp = _getFrameData.timestamp;\n\n      _this.history.push(_extends({}, info.point, {\n        timestamp: timestamp\n      }));\n\n      var _this$handlers = _this.handlers,\n          onStart = _this$handlers.onStart,\n          onMove = _this$handlers.onMove;\n\n      if (!isPanStarted) {\n        onStart == null ? void 0 : onStart(_this.lastEvent, info);\n        _this.startEvent = _this.lastEvent;\n      }\n\n      onMove == null ? void 0 : onMove(_this.lastEvent, info);\n    };\n\n    this.onPointerMove = function (event, info) {\n      _this.lastEvent = event;\n      _this.lastEventInfo = info; // Because Safari doesn't trigger mouseup events when it's above a `<select>`\n\n      if (isMouseEvent(event) && event.buttons === 0) {\n        _this.onPointerUp(event, info);\n\n        return;\n      } // Throttle mouse move event to once per frame\n\n\n      sync.update(_this.updatePoint, true);\n    };\n\n    this.onPointerUp = function (event, info) {\n      // notify pan session ended\n      var panInfo = getPanInfo(info, _this.history);\n      var _this$handlers2 = _this.handlers,\n          onEnd = _this$handlers2.onEnd,\n          onSessionEnd = _this$handlers2.onSessionEnd;\n      onSessionEnd == null ? void 0 : onSessionEnd(event, panInfo);\n\n      _this.end(); // if panning never started, no need to call `onEnd`\n      // panning requires a pointermove of at least 3px\n\n\n      if (!onEnd || !_this.startEvent) return;\n      onEnd == null ? void 0 : onEnd(event, panInfo);\n    };\n\n    this.win = getEventWindow(_event); // If we have more than one touch, don't start detecting this gesture\n\n    if (isMultiTouchEvent(_event)) return;\n    this.handlers = handlers;\n\n    if (threshold) {\n      this.threshold = threshold;\n    } // stop default browser behavior\n\n\n    _event.stopPropagation();\n\n    _event.preventDefault(); // get and save the `pointerdown` event info in history\n    // we'll use it to compute the `offset`\n\n\n    var _info = extractEventInfo(_event);\n\n    var _getFrameData2 = getFrameData(),\n        _timestamp = _getFrameData2.timestamp;\n\n    this.history = [_extends({}, _info.point, {\n      timestamp: _timestamp\n    })]; // notify pan session start\n\n    var onSessionStart = handlers.onSessionStart;\n    onSessionStart == null ? void 0 : onSessionStart(_event, getPanInfo(_info, this.history)); // attach event listeners and return a single function to remove them all\n\n    this.removeListeners = pipe(addPointerEvent(this.win, \"pointermove\", this.onPointerMove), addPointerEvent(this.win, \"pointerup\", this.onPointerUp), addPointerEvent(this.win, \"pointercancel\", this.onPointerUp));\n  }\n\n  var _proto = PanSession.prototype;\n\n  _proto.updateHandlers = function updateHandlers(handlers) {\n    this.handlers = handlers;\n  };\n\n  _proto.end = function end() {\n    var _this$removeListeners;\n\n    (_this$removeListeners = this.removeListeners) == null ? void 0 : _this$removeListeners.call(this);\n    cancelSync.update(this.updatePoint);\n  };\n\n  return PanSession;\n}();\n\nfunction subtractPoint(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n\nfunction startPanPoint(history) {\n  return history[0];\n}\n\nfunction lastPanPoint(history) {\n  return history[history.length - 1];\n}\n\nfunction getPanInfo(info, history) {\n  return {\n    point: info.point,\n    delta: subtractPoint(info.point, lastPanPoint(history)),\n    offset: subtractPoint(info.point, startPanPoint(history)),\n    velocity: getVelocity(history, 0.1)\n  };\n}\n\nfunction lastDevicePoint(history) {\n  return history[history.length - 1];\n}\n\nvar toMilliseconds = function toMilliseconds(seconds) {\n  return seconds * 1000;\n};\n\nfunction getVelocity(history, timeDelta) {\n  if (history.length < 2) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var i = history.length - 1;\n  var timestampedPoint = null;\n  var lastPoint = lastDevicePoint(history);\n\n  while (i >= 0) {\n    timestampedPoint = history[i];\n\n    if (lastPoint.timestamp - timestampedPoint.timestamp > toMilliseconds(timeDelta)) {\n      break;\n    }\n\n    i--;\n  }\n\n  if (!timestampedPoint) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var time = (lastPoint.timestamp - timestampedPoint.timestamp) / 1000;\n\n  if (time === 0) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var currentVelocity = {\n    x: (lastPoint.x - timestampedPoint.x) / time,\n    y: (lastPoint.y - timestampedPoint.y) / time\n  };\n\n  if (currentVelocity.x === Infinity) {\n    currentVelocity.x = 0;\n  }\n\n  if (currentVelocity.y === Infinity) {\n    currentVelocity.y = 0;\n  }\n\n  return currentVelocity;\n}\n\nvar breakpoints = Object.freeze([\"base\", \"sm\", \"md\", \"lg\", \"xl\", \"2xl\"]);\nfunction mapResponsive(prop, mapper) {\n  if (isArray(prop)) {\n    return prop.map(function (item) {\n      if (item === null) {\n        return null;\n      }\n\n      return mapper(item);\n    });\n  }\n\n  if (isObject(prop)) {\n    return objectKeys(prop).reduce(function (result, key) {\n      result[key] = mapper(prop[key]);\n      return result;\n    }, {});\n  }\n\n  if (prop != null) {\n    return mapper(prop);\n  }\n\n  return null;\n}\nfunction objectToArrayNotation(obj, bps) {\n  if (bps === void 0) {\n    bps = breakpoints;\n  }\n\n  var result = bps.map(function (br) {\n    var _obj$br;\n\n    return (_obj$br = obj[br]) != null ? _obj$br : null;\n  });\n\n  while (getLastItem(result) === null) {\n    result.pop();\n  }\n\n  return result;\n}\nfunction arrayToObjectNotation(values, bps) {\n  if (bps === void 0) {\n    bps = breakpoints;\n  }\n\n  var result = {};\n  values.forEach(function (value, index) {\n    var key = bps[index];\n    if (value == null) return;\n    result[key] = value;\n  });\n  return result;\n}\nfunction isResponsiveObjectLike(obj, bps) {\n  if (bps === void 0) {\n    bps = breakpoints;\n  }\n\n  var keys = Object.keys(obj);\n  return keys.length > 0 && keys.every(function (key) {\n    return bps.includes(key);\n  });\n}\n/**\n * since breakpoints are defined as custom properties on an array, you may\n * `Object.keys(theme.breakpoints)` to retrieve both regular numeric indices\n * and custom breakpoints as string.\n *\n * This function returns true given a custom array property.\n */\n\nvar isCustomBreakpoint = function isCustomBreakpoint(maybeBreakpoint) {\n  return Number.isNaN(Number(maybeBreakpoint));\n};\n\nfunction getUserAgentBrowser(navigator) {\n  var ua = navigator.userAgent,\n      vendor = navigator.vendor;\n  var android = /(android)/i.test(ua);\n\n  switch (true) {\n    case /CriOS/.test(ua):\n      return \"Chrome for iOS\";\n\n    case /Edg\\//.test(ua):\n      return \"Edge\";\n\n    case android && /Silk\\//.test(ua):\n      return \"Silk\";\n\n    case /Chrome/.test(ua) && /Google Inc/.test(vendor):\n      return \"Chrome\";\n\n    case /Firefox\\/\\d+\\.\\d+$/.test(ua):\n      return \"Firefox\";\n\n    case android:\n      return \"AOSP\";\n\n    case /MSIE|Trident/.test(ua):\n      return \"IE\";\n\n    case /Safari/.test(navigator.userAgent) && /Apple Computer/.test(ua):\n      return \"Safari\";\n\n    case /AppleWebKit/.test(ua):\n      return \"WebKit\";\n\n    default:\n      return null;\n  }\n}\n\nfunction getUserAgentOS(navigator) {\n  var ua = navigator.userAgent,\n      platform = navigator.platform;\n\n  switch (true) {\n    case /Android/.test(ua):\n      return \"Android\";\n\n    case /iPhone|iPad|iPod/.test(platform):\n      return \"iOS\";\n\n    case /Win/.test(platform):\n      return \"Windows\";\n\n    case /Mac/.test(platform):\n      return \"Mac\";\n\n    case /CrOS/.test(ua):\n      return \"Chrome OS\";\n\n    case /Firefox/.test(ua):\n      return \"Firefox OS\";\n\n    default:\n      return null;\n  }\n}\n\nfunction detectDeviceType(navigator) {\n  var ua = navigator.userAgent;\n  if (/(tablet)|(iPad)|(Nexus 9)/i.test(ua)) return \"tablet\";\n  if (/(mobi)/i.test(ua)) return \"phone\";\n  return \"desktop\";\n}\nfunction detectOS(os) {\n  if (!isBrowser) return false;\n  return getUserAgentOS(window.navigator) === os;\n}\nfunction detectBrowser(browser) {\n  if (!isBrowser) return false;\n  return getUserAgentBrowser(window.navigator) === browser;\n}\nfunction detectTouch() {\n  if (!isBrowser) return false;\n  return window.ontouchstart === null && window.ontouchmove === null && window.ontouchend === null;\n}\n\nfunction walkObject(target, predicate) {\n  function inner(value, path) {\n    if (path === void 0) {\n      path = [];\n    }\n\n    if (isArray(value)) {\n      return value.map(function (item, index) {\n        return inner(item, [].concat(path, [String(index)]));\n      });\n    }\n\n    if (isObject(value)) {\n      return fromEntries(Object.entries(value).map(function (_ref) {\n        var key = _ref[0],\n            child = _ref[1];\n        return [key, inner(child, [].concat(path, [key]))];\n      }));\n    }\n\n    return predicate(value, path);\n  }\n\n  return inner(target);\n}\n\nexport { PanSession, __DEV__, __TEST__, addDomEvent, addItem, addPointerEvent, analyzeBreakpoints, ariaAttr, arrayToObjectNotation, breakpoints, callAll, callAllHandlers, canUseDOM, chunk, clampValue, closest, compose, contains, countDecimalPlaces, cx, dataAttr, detectBrowser, detectDeviceType, detectOS, detectTouch, determineLazyBehavior, distance, error, extractEventInfo, filterUndefined, flatten, focus, focusNextTabbable, focusPreviousTabbable, fromEntries, get, getActiveElement, getAllFocusable, getAllTabbable, getCSSVar, getEventWindow, getFirstFocusable, getFirstItem, getFirstTabbableIn, getLastItem, getLastTabbableIn, getNextIndex, getNextItem, getNextItemFromSearch, getNextTabbable, getOwnerDocument, getOwnerWindow, getPointerEventName, getPrevIndex, getPrevItem, getPreviousTabbable, getRelatedTarget, getViewportPointFromEvent, getWithDefault, hasDisplayNone, hasFocusWithin, hasNegativeTabIndex, hasTabIndex, isActiveElement, isArray, isBrowser, isContentEditable, isCssVar, isCustomBreakpoint, isDefined, isDisabled, isElement, isEmpty, isEmptyArray, isEmptyObject, isFocusable, isFunction, isHTMLElement, isHidden, isInputElement, isInputEvent, isMouseEvent, isMultiTouchEvent, isNotEmptyObject, isNotNumber, isNull, isNumber, isNumeric, isObject, isRefObject, isResponsiveObjectLike, isRightClick, isString, isTabbable, isTouchEvent, isUndefined, mapResponsive, maxSafeInteger, memoize, memoizedGet, minSafeInteger, noop, normalizeEventKey, objectFilter, objectKeys, objectToArrayNotation, omit, once, percentToValue, pick, pipe, px, removeIndex, removeItem, roundValueToStep, runIfFn, split, toPrecision, valueToPercent, walkObject, warn, wrapPointerEventHandler };\n", "import { isBrowser, runIfFn, getOwnerWindow } from '@chakra-ui/utils';\nimport * as React from 'react';\nimport { useState, useEffect } from 'react';\n\n/**\n * useSafeLayoutEffect enables us to safely call `useLayoutEffect` on the browser\n * (for SSR reasons)\n *\n * React currently throws a warning when using useLayoutEffect on the server.\n * To get around it, we can conditionally useEffect on the server (no-op) and\n * useLayoutEffect in the browser.\n *\n * @see https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85\n */\n\nvar useSafeLayoutEffect = isBrowser ? React.useLayoutEffect : React.useEffect;\n\n/**\n * React hook to persist any value between renders,\n * but keeps it up-to-date if it changes.\n *\n * @param fn the function to persist\n * @param deps the function dependency list\n */\n\nfunction useCallbackRef(fn, deps) {\n  if (deps === void 0) {\n    deps = [];\n  }\n\n  var ref = React.useRef(fn);\n  useSafeLayoutEffect(function () {\n    ref.current = fn;\n  }); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return ref.current == null ? void 0 : ref.current.apply(ref, args);\n  }, deps);\n}\n\n/**\n * React hook to manage browser event listeners\n *\n * @param event the event name\n * @param handler the event handler function to execute\n * @param env the dom environment to execute against (defaults to `document`)\n * @param options the event listener options\n *\n * @internal\n */\nfunction useEventListener(event, handler, env, options) {\n  var listener = useCallbackRef(handler);\n  React.useEffect(function () {\n    var _runIfFn;\n\n    var node = (_runIfFn = runIfFn(env)) != null ? _runIfFn : document;\n\n    if (!handler) {\n      return;\n    }\n\n    node.addEventListener(event, listener, options);\n    return function () {\n      node.removeEventListener(event, listener, options);\n    };\n  }, [event, env, options, listener, handler]);\n  return function () {\n    var _runIfFn2;\n\n    var node = (_runIfFn2 = runIfFn(env)) != null ? _runIfFn2 : document;\n    node.removeEventListener(event, listener, options);\n  };\n}\n\nfunction useAnimationState(props) {\n  var isOpen = props.isOpen,\n      ref = props.ref;\n\n  var _useState = useState(isOpen),\n      mounted = _useState[0],\n      setMounted = _useState[1];\n\n  var _useState2 = useState(false),\n      once = _useState2[0],\n      setOnce = _useState2[1];\n\n  useEffect(function () {\n    if (!once) {\n      setMounted(isOpen);\n      setOnce(true);\n    }\n  }, [isOpen, once, mounted]);\n  useEventListener(\"animationend\", function () {\n    setMounted(isOpen);\n  }, function () {\n    return ref.current;\n  });\n  var hidden = isOpen ? false : !mounted;\n  return {\n    present: !hidden,\n    onComplete: function onComplete() {\n      var _ref$current;\n\n      var win = getOwnerWindow(ref.current);\n      var evt = new win.CustomEvent(\"animationend\", {\n        bubbles: true\n      });\n      (_ref$current = ref.current) == null ? void 0 : _ref$current.dispatchEvent(evt);\n    }\n  };\n}\n\nexport { useSafeLayoutEffect as a, useEventListener as b, useAnimationState as c, useCallbackRef as u };\n", "import * as React from \"react\";\nimport {\n  DisclosureContentHTMLProps,\n  DisclosureContentOptions,\n  unstable_IdHTMLProps,\n  unstable_IdOptions,\n  unstable_useId,\n  useDisclosureContent,\n} from \"reakit\";\nimport { useForkRef } from \"reakit-utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { ACCORDION_PANEL_KEYS } from \"./__keys\";\nimport { AccordionMultiStateReturn } from \"./AccordionMultiState\";\nimport { AccordionStateReturn } from \"./AccordionState\";\nimport { getAccordionId, isPanelVisible } from \"./helpers\";\n\nexport const useAccordionPanel = createHook<\n  AccordionPanelOptions,\n  AccordionPanelHTMLProps\n>({\n  name: \"AccordionPanel\",\n  compose: [unstable_useId, useDisclosureContent],\n  keys: ACCORDION_PANEL_KEYS,\n\n  useProps(options, { ref: htmlRef, ...htmlProps }) {\n    const ref = React.useRef<HTMLElement>(null);\n    const { id, registerPanel, unregisterPanel } = options;\n    const accordionId = getAccordionId(options);\n\n    React.useLayoutEffect(() => {\n      if (!id) return;\n\n      registerPanel?.({ id, ref, groupId: accordionId });\n\n      return () => {\n        unregisterPanel?.(id);\n      };\n    }, [accordionId, id, registerPanel, unregisterPanel]);\n\n    return {\n      ref: useForkRef(ref, htmlRef),\n      role: \"region\",\n      \"aria-labelledby\": accordionId,\n      ...htmlProps,\n    };\n  },\n\n  useComposeOptions(options) {\n    return {\n      visible: isPanelVisible(options),\n      ...options,\n    };\n  },\n});\n\nexport const AccordionPanel = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useAccordionPanel,\n});\n\nexport type AccordionPanelOptions = {\n  /**\n   * Accordion's id\n   */\n  accordionId?: string;\n} & DisclosureContentOptions &\n  unstable_IdOptions &\n  Pick<\n    AccordionStateReturn,\n    | \"items\"\n    | \"panels\"\n    | \"selectedId\"\n    | \"allowMultiple\"\n    | \"registerPanel\"\n    | \"unregisterPanel\"\n  > &\n  Pick<AccordionMultiStateReturn, \"selectedIds\">;\n\nexport type AccordionPanelHTMLProps = DisclosureContentHTMLProps &\n  unstable_IdHTMLProps;\n\nexport type AccordionPanelProps = AccordionPanelOptions &\n  AccordionPanelHTMLProps;\n", "import * as React from \"react\";\n\nimport { AccordionPanelOptions } from \"./AccordionPanel\";\nimport { AccordionTriggerOptions } from \"./AccordionTrigger\";\n\nexport type StringOrNull = string | null;\n\n/**\n * When <AccordionPanel> is used without accordionId:\n *\n *  - First render: getAccordionId will return undefined because options.panels\n * doesn't contain the current panel yet (registerPanel wasn't called yet).\n * Thus registerPanel will be called without groupId (accordionId).\n *\n *  - Second render: options.panels already contains the current panel (because\n * registerPanel was called in the previous render). This means that we'll be\n * able to get the related accordionId with the accordion panel index. Basically,\n * we filter out all the accordions and panels that have already matched. In this\n * phase, registerPanel will be called again with the proper groupId (accordionId).\n *\n *  - In the third render, panel.groupId will be already defined, so we just\n * return it. registerPanel is not called.\n */\nexport function getAccordionId(options: AccordionPanelOptions) {\n  const { panels, id, items } = options;\n  const panel = panels?.find(p => p.id === id);\n  const accordionId = options.accordionId || panel?.groupId;\n\n  if (accordionId || !panel || !panels || !items) {\n    return accordionId;\n  }\n\n  const panelIndex = getPanelIndex(panels, panel);\n  const accordionsWithoutPanel = getAccordionsWithoutPanel(items, panels);\n\n  return accordionsWithoutPanel[panelIndex]?.id || undefined;\n}\n\nfunction getPanelIndex(\n  panels: AccordionPanelOptions[\"panels\"],\n  panel: typeof panels[number],\n) {\n  const panelsWithoutAccordionId = panels.filter(p => !p.groupId);\n\n  return panelsWithoutAccordionId.indexOf(panel);\n}\n\nfunction getAccordionsWithoutPanel(\n  accordions: AccordionPanelOptions[\"items\"],\n  panels: AccordionPanelOptions[\"panels\"],\n) {\n  const panelsAccordionIds = panels.map(panel => panel.groupId).filter(Boolean);\n\n  return accordions.filter(\n    item => panelsAccordionIds.indexOf(item.id || undefined) === -1,\n  );\n}\n\nexport function isPanelVisible(options: AccordionPanelOptions) {\n  const { allowMultiple, selectedId, selectedIds } = options;\n  const accordionId = getAccordionId(options);\n\n  if (allowMultiple)\n    return accordionId ? selectedIds?.includes(accordionId) : false;\n\n  return accordionId ? selectedId === accordionId : false;\n}\n\nexport function isAccordionSelected(options: AccordionTriggerOptions) {\n  const { id, allowMultiple, selectedId, selectedIds } = options;\n\n  if (!id) return;\n\n  if (allowMultiple) return selectedIds?.includes(id);\n\n  return selectedId === id;\n}\n\nexport function useAccordionPanelId(options: AccordionTriggerOptions) {\n  const { panels, id } = options;\n\n  return React.useMemo(\n    () => panels?.find(panel => panel.groupId === id)?.id || undefined,\n    [panels, id],\n  );\n}\n", "import * as React from \"react\";\nimport { Dispatch, SetStateAction } from \"react\";\nimport { useControllableState } from \"@chakra-ui/hooks\";\n\nimport {\n  AccordionBaseActions,\n  AccordionBaseInitialState,\n  AccordionBaseState,\n  useAccordionBaseState,\n} from \"./AccordionBaseState\";\nimport { StringOrNull } from \"./helpers\";\n\nexport function useAccordionState(\n  props: AccordionInitialState = {},\n): AccordionStateReturn {\n  const { manual = true, allowToggle = false } = props;\n  const { move, ...baseState } = useAccordionBaseState(props);\n\n  const [selectedId, setSelectedId] = useControllableState({\n    defaultValue: props?.defaultSelectedId || null,\n    value: props?.selectedId,\n    onChange: props?.onSelectedIdChange,\n  });\n\n  const select = React.useCallback(\n    (id: string) => {\n      move(id);\n\n      if (allowToggle && id === selectedId) {\n        setSelectedId(null);\n        return;\n      }\n\n      setSelectedId(id);\n    },\n\n    [move, allowToggle, selectedId, setSelectedId],\n  );\n\n  return {\n    selectedId,\n    setSelectedId,\n    select,\n    manual,\n    allowToggle,\n    allowMultiple: false,\n    move,\n    ...baseState,\n  };\n}\n\nexport type AccordionState = AccordionBaseState & {\n  /**\n   * The current selected accordion's `id`.\n   */\n  selectedId: StringOrNull;\n\n  /**\n   * Allow to toggle accordion items\n   * @default false\n   */\n  allowToggle: boolean;\n\n  /**\n   * Allow to open multiple accordion items\n   */\n  allowMultiple: boolean;\n\n  /**\n   * Whether the accodion selection should be manual.\n   * @default true\n   */\n  manual: boolean;\n};\n\nexport type AccordionActions = AccordionBaseActions & {\n  /**\n   * Sets the value.\n   */\n  setSelectedId: Dispatch<SetStateAction<StringOrNull>>;\n\n  /**\n   * Moves into and selects an accordion by its `id`.\n   */\n  select: (id: string) => void;\n};\n\nexport type AccordionInitialState = Pick<\n  Partial<AccordionState>,\n  \"manual\" | \"allowToggle\" | \"selectedId\"\n> & {\n  /**\n   * The initial value to be used, in uncontrolled mode\n   * @default null\n   */\n  defaultSelectedId?: StringOrNull | (() => StringOrNull);\n  /**\n   * The callback fired when the value changes\n   */\n  onSelectedIdChange?: (value: StringOrNull) => void;\n  /**\n   * The function that determines if the state should be updated\n   */\n  shouldUpdate?: (prev: StringOrNull, next: StringOrNull) => boolean;\n} & AccordionBaseInitialState;\n\nexport type AccordionStateReturn = AccordionState & AccordionActions;\n", "import * as React from \"react\";\nimport {\n  ButtonHTMLProps,\n  ButtonOptions,\n  CompositeItemHTMLProps,\n  CompositeItemOptions,\n  useButton,\n  useCompositeItem,\n} from \"reakit\";\nimport { callAllHandlers } from \"@chakra-ui/utils\";\n\nimport { createComponent, createHook } from \"../system\";\nimport { ariaAttr } from \"../utils\";\n\nimport { ACCORDION_TRIGGER_KEYS } from \"./__keys\";\nimport { AccordionMultiStateReturn } from \"./AccordionMultiState\";\nimport { AccordionStateReturn } from \"./AccordionState\";\nimport { isAccordionSelected, useAccordionPanelId } from \"./helpers\";\n\nexport const useAccordionTrigger = createHook<\n  AccordionTriggerOptions,\n  AccordionTriggerHTMLProps\n>({\n  name: \"Accordion\",\n  compose: [useButton, useCompositeItem],\n  keys: ACCORDION_TRIGGER_KEYS,\n\n  // * Do not add `focusable: true` in useOptions or else the disabled button\n  // * will receive the focus & considered as an element in composite navigation\n\n  useProps(\n    options,\n    {\n      onClick: htmlOnClick,\n      onKeyDown: htmlOnKeyDown,\n      onFocus: htmlOnFocus,\n      ...htmlProps\n    },\n  ) {\n    const { manual, id, allowToggle, select, first, last } = options;\n    const selected = isAccordionSelected(options);\n    const accordionPanelId = useAccordionPanelId(options);\n\n    const onKeyDown = React.useCallback(\n      (event: React.KeyboardEvent) => {\n        const _first = first && (() => setTimeout(first));\n        const _last = last && (() => setTimeout(last));\n        const keyMap = { Home: _first, End: _last };\n        const action = keyMap[event.key as keyof typeof keyMap];\n\n        if (action) {\n          event.preventDefault();\n          event.stopPropagation();\n          action();\n        }\n      },\n      [first, last],\n    );\n\n    const handleSelection = React.useCallback(() => {\n      if (!id) return;\n\n      select?.(id);\n    }, [id, select]);\n\n    const onClick = React.useCallback(\n      () => handleSelection(),\n      [handleSelection],\n    );\n\n    const onFocus = React.useCallback(() => {\n      if (manual) return;\n\n      handleSelection();\n    }, [manual, handleSelection]);\n\n    return {\n      \"aria-expanded\": selected,\n      \"aria-controls\": accordionPanelId,\n      \"aria-disabled\": ariaAttr(!allowToggle && selected),\n      onKeyDown: callAllHandlers(htmlOnKeyDown, onKeyDown),\n      onClick: callAllHandlers(htmlOnClick, onClick),\n      onFocus: callAllHandlers(htmlOnFocus, onFocus),\n      ...htmlProps,\n    };\n  },\n\n  useComposeProps(options, htmlProps) {\n    const buttonHtmlProps = useButton(options, htmlProps);\n    const compositeHtmlProps = useCompositeItem(options, buttonHtmlProps);\n\n    return {\n      ...compositeHtmlProps,\n\n      // *Add the tabIndex = 0 to button to make it tabbable in composite\n      tabIndex: 0,\n    };\n  },\n});\n\nexport const AccordionTrigger = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useAccordionTrigger,\n});\n\nexport type AccordionTriggerOptions = ButtonOptions &\n  CompositeItemOptions &\n  Pick<\n    AccordionStateReturn,\n    | \"panels\"\n    | \"select\"\n    | \"manual\"\n    | \"selectedId\"\n    | \"allowToggle\"\n    | \"allowMultiple\"\n  > &\n  Pick<AccordionMultiStateReturn, \"selectedIds\">;\n\nexport type AccordionTriggerHTMLProps = ButtonHTMLProps &\n  CompositeItemHTMLProps;\n\nexport type AccordionTriggerProps = AccordionTriggerOptions &\n  AccordionTriggerHTMLProps;\n", "export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n  var number = Number(dirtyNumber);\n  if (isNaN(number)) {\n    return number;\n  }\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}", "export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}", "import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\");\n      // eslint-disable-next-line no-console\n      console.warn(new Error().stack);\n    }\n    return new Date(NaN);\n  }\n}", "import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} - the new date with the days added\n * @throws {TypeError} - 2 arguments required\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport default function addDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n  date.setDate(date.getDate() + amount);\n  return date;\n}", "import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\nexport default function addMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n  var dayOfMonth = date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  var endOfDesiredMonth = new Date(date.getTime());\n  endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n  var daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n    return date;\n  }\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isWeekend\n * @category Weekday Helpers\n * @summary Does the given date fall on a weekend?\n *\n * @description\n * Does the given date fall on a weekend?\n *\n * @param {Date|Number} date - the date to check\n * @returns {Boolean} the date falls on a weekend\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Does 5 October 2014 fall on a weekend?\n * const result = isWeekend(new Date(2014, 9, 5))\n * //=> true\n */\nexport default function isWeekend(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var day = date.getDay();\n  return day === 0 || day === 6;\n}", "var defaultOptions = {};\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport default function startOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}", "import toInteger from \"../_lib/toInteger/index.js\";\nimport addDays from \"../addDays/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addWeeks\n * @category Week Helpers\n * @summary Add the specified number of weeks to the given date.\n *\n * @description\n * Add the specified number of week to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of weeks to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the weeks added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 4 weeks to 1 September 2014:\n * const result = addWeeks(new Date(2014, 8, 1), 4)\n * //=> Mon Sep 29 2014 00:00:00\n */\nexport default function addWeeks(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  var days = amount * 7;\n  return addDays(dirtyDate, days);\n}", "import toInteger from \"../_lib/toInteger/index.js\";\nimport addMonths from \"../addMonths/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of years to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the years added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * const result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\nexport default function addYears(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMonths(dirtyDate, amount * 12);\n}", "/**\n * Days in 1 week.\n *\n * @name daysInWeek\n * @constant\n * @type {number}\n * @default\n */\nexport var daysInWeek = 7;\n\n/**\n * Days in 1 year\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n *\n * @name daysInYear\n * @constant\n * @type {number}\n * @default\n */\nexport var daysInYear = 365.2425;\n\n/**\n * Maximum allowed time.\n *\n * @name maxTime\n * @constant\n * @type {number}\n * @default\n */\nexport var maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * Milliseconds in 1 minute\n *\n * @name millisecondsInMinute\n * @constant\n * @type {number}\n * @default\n */\nexport var millisecondsInMinute = 60000;\n\n/**\n * Milliseconds in 1 hour\n *\n * @name millisecondsInHour\n * @constant\n * @type {number}\n * @default\n */\nexport var millisecondsInHour = 3600000;\n\n/**\n * Milliseconds in 1 second\n *\n * @name millisecondsInSecond\n * @constant\n * @type {number}\n * @default\n */\nexport var millisecondsInSecond = 1000;\n\n/**\n * Minimum allowed time.\n *\n * @name minTime\n * @constant\n * @type {number}\n * @default\n */\nexport var minTime = -maxTime;\n\n/**\n * Minutes in 1 hour\n *\n * @name minutesInHour\n * @constant\n * @type {number}\n * @default\n */\nexport var minutesInHour = 60;\n\n/**\n * Months in 1 quarter\n *\n * @name monthsInQuarter\n * @constant\n * @type {number}\n * @default\n */\nexport var monthsInQuarter = 3;\n\n/**\n * Months in 1 year\n *\n * @name monthsInYear\n * @constant\n * @type {number}\n * @default\n */\nexport var monthsInYear = 12;\n\n/**\n * Quarters in 1 year\n *\n * @name quartersInYear\n * @constant\n * @type {number}\n * @default\n */\nexport var quartersInYear = 4;\n\n/**\n * Seconds in 1 hour\n *\n * @name secondsInHour\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInHour = 3600;\n\n/**\n * Seconds in 1 minute\n *\n * @name secondsInMinute\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInMinute = 60;\n\n/**\n * Seconds in 1 day\n *\n * @name secondsInDay\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInDay = secondsInHour * 24;\n\n/**\n * Seconds in 1 week\n *\n * @name secondsInWeek\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInWeek = secondsInDay * 7;\n\n/**\n * Seconds in 1 year\n *\n * @name secondsInYear\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInYear = secondsInDay * daysInYear;\n\n/**\n * Seconds in 1 month\n *\n * @name secondsInMonth\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInMonth = secondsInYear / 12;\n\n/**\n * Seconds in 1 quarter\n *\n * @name secondsInQuarter\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInQuarter = secondsInMonth * 3;", "import startOfDay from \"../startOfDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameDay\n * @category Day Helpers\n * @summary Are the given dates in the same day (and year and month)?\n *\n * @description\n * Are the given dates in the same day (and year and month)?\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same day (and year and month)\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4, 6, 0), new Date(2014, 8, 4, 18, 0))\n * //=> true\n *\n * @example\n * // Are 4 September and 4 October in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2014, 9, 4))\n * //=> false\n *\n * @example\n * // Are 4 September, 2014 and 4 September, 2015 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2015, 8, 4))\n * //=> false\n */\nexport default function isSameDay(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfDay = startOfDay(dirtyDateLeft);\n  var dateRightStartOfDay = startOfDay(dirtyDateRight);\n  return dateLeftStartOfDay.getTime() === dateRightStartOfDay.getTime();\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the end of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport default function endOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var month = date.getMonth();\n  date.setFullYear(date.getFullYear(), month + 1, 0);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport default function startOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function startOfUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nexport default function getUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}", "import getUTCISOWeekYear from \"../getUTCISOWeekYear/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function startOfUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport startOfUTCISOWeekYear from \"../startOfUTCISOWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\nexport default function getUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function startOfUTCWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function getUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var defaultOptions = getDefaultOptions();\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n\n  // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, options);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, options);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}", "import getUTCWeekYear from \"../getUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function startOfUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n  var year = getUTCWeekYear(dirtyDate, options);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, options);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport startOfUTCWeekYear from \"../startOfUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\nexport default function getUTCWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}", "export default function buildFormatLongFn(args) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // TODO: Remove String()\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}", "import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;", "export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, options) {\n    var context = options !== null && options !== void 0 && options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options !== null && options !== void 0 && options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n      var _width = options !== null && options !== void 0 && options.width ? String(options.width) : args.defaultWidth;\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}", "import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter']\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\nvar ordinalNumber = function ordinalNumber(dirtyNumber, _options) {\n  var number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  var rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n      case 2:\n        return number + 'nd';\n      case 3:\n        return number + 'rd';\n    }\n  }\n  return number + 'th';\n};\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function argumentCallback(quarter) {\n      return quarter - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;", "export default function buildMatchFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n    if (!matchResult) {\n      return null;\n    }\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    }) : findKey(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    });\n    var value;\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}", "export default function buildMatchPatternFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}", "import buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\nimport buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function valueCallback(value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function valueCallback(index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;", "import { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport compareAsc from \"../compareAsc/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport cloneObject from \"../_lib/cloneObject/index.js\";\nimport assign from \"../_lib/assign/index.js\";\nimport defaultLocale from \"../_lib/defaultLocale/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_MINUTE = 1000 * 60;\nvar MINUTES_IN_DAY = 60 * 24;\nvar MINUTES_IN_MONTH = MINUTES_IN_DAY * 30;\nvar MINUTES_IN_YEAR = MINUTES_IN_DAY * 365;\n\n/**\n * @name formatDistanceStrict\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words, using strict units.\n * This is like `formatDistance`, but does not use helpers like 'almost', 'over',\n * 'less than' and the like.\n *\n * | Distance between dates | Result              |\n * |------------------------|---------------------|\n * | 0 ... 59 secs          | [0..59] seconds     |\n * | 1 ... 59 mins          | [1..59] minutes     |\n * | 1 ... 23 hrs           | [1..23] hours       |\n * | 1 ... 29 days          | [1..29] days        |\n * | 1 ... 11 months        | [1..11] months      |\n * | 1 ... N years          | [1..N]  years       |\n *\n * @param {Date|Number} date - the date\n * @param {Date|Number} baseDate - the date to compare with\n * @param {Object} [options] - an object with options.\n * @param {Boolean} [options.addSuffix=false] - result indicates if the second date is earlier or later than the first\n * @param {'second'|'minute'|'hour'|'day'|'month'|'year'} [options.unit] - if specified, will force a unit\n * @param {'floor'|'ceil'|'round'} [options.roundingMethod='round'] - which way to round partial units\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @returns {String} the distance in words\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `baseDate` must not be Invalid Date\n * @throws {RangeError} `options.roundingMethod` must be 'floor', 'ceil' or 'round'\n * @throws {RangeError} `options.unit` must be 'second', 'minute', 'hour', 'day', 'month' or 'year'\n * @throws {RangeError} `options.locale` must contain `formatDistance` property\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * const result = formatDistanceStrict(new Date(2014, 6, 2), new Date(2015, 0, 2))\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00?\n * const result = formatDistanceStrict(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0)\n * )\n * //=> '15 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * const result = formatDistanceStrict(new Date(2015, 0, 1), new Date(2016, 0, 1), {\n *   addSuffix: true\n * })\n * //=> '1 year ago'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, in minutes?\n * const result = formatDistanceStrict(new Date(2016, 0, 1), new Date(2015, 0, 1), {\n *   unit: 'minute'\n * })\n * //=> '525600 minutes'\n *\n * @example\n * // What is the distance from 1 January 2015\n * // to 28 January 2015, in months, rounded up?\n * const result = formatDistanceStrict(new Date(2015, 0, 28), new Date(2015, 0, 1), {\n *   unit: 'month',\n *   roundingMethod: 'ceil'\n * })\n * //=> '1 month'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = formatDistanceStrict(new Date(2016, 7, 1), new Date(2015, 0, 1), {\n *   locale: eoLocale\n * })\n * //=> '1 jaro'\n */\n\nexport default function formatDistanceStrict(dirtyDate, dirtyBaseDate, options) {\n  var _ref, _options$locale, _options$roundingMeth;\n  requiredArgs(2, arguments);\n  var defaultOptions = getDefaultOptions();\n  var locale = (_ref = (_options$locale = options === null || options === void 0 ? void 0 : options.locale) !== null && _options$locale !== void 0 ? _options$locale : defaultOptions.locale) !== null && _ref !== void 0 ? _ref : defaultLocale;\n  if (!locale.formatDistance) {\n    throw new RangeError('locale must contain localize.formatDistance property');\n  }\n  var comparison = compareAsc(dirtyDate, dirtyBaseDate);\n  if (isNaN(comparison)) {\n    throw new RangeError('Invalid time value');\n  }\n  var localizeOptions = assign(cloneObject(options), {\n    addSuffix: Boolean(options === null || options === void 0 ? void 0 : options.addSuffix),\n    comparison: comparison\n  });\n  var dateLeft;\n  var dateRight;\n  if (comparison > 0) {\n    dateLeft = toDate(dirtyBaseDate);\n    dateRight = toDate(dirtyDate);\n  } else {\n    dateLeft = toDate(dirtyDate);\n    dateRight = toDate(dirtyBaseDate);\n  }\n  var roundingMethod = String((_options$roundingMeth = options === null || options === void 0 ? void 0 : options.roundingMethod) !== null && _options$roundingMeth !== void 0 ? _options$roundingMeth : 'round');\n  var roundingMethodFn;\n  if (roundingMethod === 'floor') {\n    roundingMethodFn = Math.floor;\n  } else if (roundingMethod === 'ceil') {\n    roundingMethodFn = Math.ceil;\n  } else if (roundingMethod === 'round') {\n    roundingMethodFn = Math.round;\n  } else {\n    throw new RangeError(\"roundingMethod must be 'floor', 'ceil' or 'round'\");\n  }\n  var milliseconds = dateRight.getTime() - dateLeft.getTime();\n  var minutes = milliseconds / MILLISECONDS_IN_MINUTE;\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(dateRight) - getTimezoneOffsetInMilliseconds(dateLeft);\n\n  // Use DST-normalized difference in minutes for years, months and days;\n  // use regular difference in minutes for hours, minutes and seconds.\n  var dstNormalizedMinutes = (milliseconds - timezoneOffset) / MILLISECONDS_IN_MINUTE;\n  var defaultUnit = options === null || options === void 0 ? void 0 : options.unit;\n  var unit;\n  if (!defaultUnit) {\n    if (minutes < 1) {\n      unit = 'second';\n    } else if (minutes < 60) {\n      unit = 'minute';\n    } else if (minutes < MINUTES_IN_DAY) {\n      unit = 'hour';\n    } else if (dstNormalizedMinutes < MINUTES_IN_MONTH) {\n      unit = 'day';\n    } else if (dstNormalizedMinutes < MINUTES_IN_YEAR) {\n      unit = 'month';\n    } else {\n      unit = 'year';\n    }\n  } else {\n    unit = String(defaultUnit);\n  }\n\n  // 0 up to 60 seconds\n  if (unit === 'second') {\n    var seconds = roundingMethodFn(milliseconds / 1000);\n    return locale.formatDistance('xSeconds', seconds, localizeOptions);\n\n    // 1 up to 60 mins\n  } else if (unit === 'minute') {\n    var roundedMinutes = roundingMethodFn(minutes);\n    return locale.formatDistance('xMinutes', roundedMinutes, localizeOptions);\n\n    // 1 up to 24 hours\n  } else if (unit === 'hour') {\n    var hours = roundingMethodFn(minutes / 60);\n    return locale.formatDistance('xHours', hours, localizeOptions);\n\n    // 1 up to 30 days\n  } else if (unit === 'day') {\n    var days = roundingMethodFn(dstNormalizedMinutes / MINUTES_IN_DAY);\n    return locale.formatDistance('xDays', days, localizeOptions);\n\n    // 1 up to 12 months\n  } else if (unit === 'month') {\n    var months = roundingMethodFn(dstNormalizedMinutes / MINUTES_IN_MONTH);\n    return months === 12 && defaultUnit !== 'month' ? locale.formatDistance('xYears', 1, localizeOptions) : locale.formatDistance('xMonths', months, localizeOptions);\n\n    // 1 year up to max Date\n  } else if (unit === 'year') {\n    var years = roundingMethodFn(dstNormalizedMinutes / MINUTES_IN_YEAR);\n    return locale.formatDistance('xYears', years, localizeOptions);\n  }\n  throw new RangeError(\"unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'\");\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getDate\n * @category Day Helpers\n * @summary Get the day of the month of the given date.\n *\n * @description\n * Get the day of the month of the given date.\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the day of month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which day of the month is 29 February 2012?\n * const result = getDate(new Date(2012, 1, 29))\n * //=> 29\n */\nexport default function getDate(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var dayOfMonth = date.getDate();\n  return dayOfMonth;\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getDaysInMonth\n * @category Month Helpers\n * @summary Get the number of days in a month of the given date.\n *\n * @description\n * Get the number of days in a month of the given date.\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the number of days in a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // How many days are in February 2000?\n * const result = getDaysInMonth(new Date(2000, 1))\n * //=> 29\n */\nexport default function getDaysInMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getFullYear();\n  var monthIndex = date.getMonth();\n  var lastDayOfMonth = new Date(0);\n  lastDayOfMonth.setFullYear(year, monthIndex + 1, 0);\n  lastDayOfMonth.setHours(0, 0, 0, 0);\n  return lastDayOfMonth.getDate();\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getHours\n * @category Hour Helpers\n * @summary Get the hours of the given date.\n *\n * @description\n * Get the hours of the given date.\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the hours\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Get the hours of 29 February 2012 11:45:00:\n * const result = getHours(new Date(2012, 1, 29, 11, 45))\n * //=> 11\n */\nexport default function getHours(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var hours = date.getHours();\n  return hours;\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getMinutes\n * @category Minute Helpers\n * @summary Get the minutes of the given date.\n *\n * @description\n * Get the minutes of the given date.\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the minutes\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Get the minutes of 29 February 2012 11:45:05:\n * const result = getMinutes(new Date(2012, 1, 29, 11, 45, 5))\n * //=> 45\n */\nexport default function getMinutes(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var minutes = date.getMinutes();\n  return minutes;\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getMonth\n * @category Month Helpers\n * @summary Get the month of the given date.\n *\n * @description\n * Get the month of the given date.\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which month is 29 February 2012?\n * const result = getMonth(new Date(2012, 1, 29))\n * //=> 1\n */\nexport default function getMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var month = date.getMonth();\n  return month;\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 24 * 60 * 60 * 1000;\n\n/**\n * @name getOverlappingDaysInIntervals\n * @category Interval Helpers\n * @summary Get the number of days that overlap in two time intervals\n *\n * @description\n * Get the number of days that overlap in two time intervals\n *\n * @param {Interval} intervalLeft - the first interval to compare. See [Interval]{@link docs/Interval}\n * @param {Interval} intervalRight - the second interval to compare. See [Interval]{@link docs/Interval}\n * @returns {Number} the number of days that overlap in two time intervals\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} The start of an interval cannot be after its end\n * @throws {RangeError} Date in interval cannot be `Invalid Date`\n *\n * @example\n * // For overlapping time intervals adds 1 for each started overlapping day:\n * getOverlappingDaysInIntervals(\n *   { start: new Date(2014, 0, 10), end: new Date(2014, 0, 20) },\n *   { start: new Date(2014, 0, 17), end: new Date(2014, 0, 21) }\n * )\n * //=> 3\n *\n * @example\n * // For non-overlapping time intervals returns 0:\n * getOverlappingDaysInIntervals(\n *   { start: new Date(2014, 0, 10), end: new Date(2014, 0, 20) },\n *   { start: new Date(2014, 0, 21), end: new Date(2014, 0, 22) }\n * )\n * //=> 0\n */\n\nexport default function getOverlappingDaysInIntervals(dirtyIntervalLeft, dirtyIntervalRight) {\n  requiredArgs(2, arguments);\n  var intervalLeft = dirtyIntervalLeft || {};\n  var intervalRight = dirtyIntervalRight || {};\n  var leftStartTime = toDate(intervalLeft.start).getTime();\n  var leftEndTime = toDate(intervalLeft.end).getTime();\n  var rightStartTime = toDate(intervalRight.start).getTime();\n  var rightEndTime = toDate(intervalRight.end).getTime();\n\n  // Throw an exception if start date is after end date or if any date is `Invalid Date`\n  if (!(leftStartTime <= leftEndTime && rightStartTime <= rightEndTime)) {\n    throw new RangeError('Invalid interval');\n  }\n  var isOverlapping = leftStartTime < rightEndTime && rightStartTime < leftEndTime;\n  if (!isOverlapping) {\n    return 0;\n  }\n  var overlapStartDate = rightStartTime < leftStartTime ? leftStartTime : rightStartTime;\n  var overlapEndDate = rightEndTime > leftEndTime ? leftEndTime : rightEndTime;\n  var differenceInMs = overlapEndDate - overlapStartDate;\n  return Math.ceil(differenceInMs / MILLISECONDS_IN_DAY);\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getSeconds\n * @category Second Helpers\n * @summary Get the seconds of the given date.\n *\n * @description\n * Get the seconds of the given date.\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the seconds\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Get the seconds of 29 February 2012 11:45:05.123:\n * const result = getSeconds(new Date(2012, 1, 29, 11, 45, 5, 123))\n * //=> 5\n */\nexport default function getSeconds(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var seconds = date.getSeconds();\n  return seconds;\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getYear\n * @category Year Helpers\n * @summary Get the year of the given date.\n *\n * @description\n * Get the year of the given date.\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the year\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which year is 2 July 2014?\n * const result = getYear(new Date(2014, 6, 2))\n * //=> 2014\n */\nexport default function getYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  return toDate(dirtyDate).getFullYear();\n}", "import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return possibleConstructorReturn(this, result);\n  };\n}", "import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar TIMEZONE_UNIT_PRIORITY = 10;\nexport var Setter = /*#__PURE__*/function () {\n  function Setter() {\n    _classCallCheck(this, Setter);\n    _defineProperty(this, \"priority\", void 0);\n    _defineProperty(this, \"subPriority\", 0);\n  }\n  _createClass(Setter, [{\n    key: \"validate\",\n    value: function validate(_utcDate, _options) {\n      return true;\n    }\n  }]);\n  return Setter;\n}();\nexport var ValueSetter = /*#__PURE__*/function (_Setter) {\n  _inherits(ValueSetter, _Setter);\n  var _super = _createSuper(ValueSetter);\n  function ValueSetter(value, validateValue, setValue, priority, subPriority) {\n    var _this;\n    _classCallCheck(this, ValueSetter);\n    _this = _super.call(this);\n    _this.value = value;\n    _this.validateValue = validateValue;\n    _this.setValue = setValue;\n    _this.priority = priority;\n    if (subPriority) {\n      _this.subPriority = subPriority;\n    }\n    return _this;\n  }\n  _createClass(ValueSetter, [{\n    key: \"validate\",\n    value: function validate(utcDate, options) {\n      return this.validateValue(utcDate, this.value, options);\n    }\n  }, {\n    key: \"set\",\n    value: function set(utcDate, flags, options) {\n      return this.setValue(utcDate, flags, this.value, options);\n    }\n  }]);\n  return ValueSetter;\n}(Setter);\nexport var DateToSystemTimezoneSetter = /*#__PURE__*/function (_Setter2) {\n  _inherits(DateToSystemTimezoneSetter, _Setter2);\n  var _super2 = _createSuper(DateToSystemTimezoneSetter);\n  function DateToSystemTimezoneSetter() {\n    var _this2;\n    _classCallCheck(this, DateToSystemTimezoneSetter);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this2 = _super2.call.apply(_super2, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this2), \"priority\", TIMEZONE_UNIT_PRIORITY);\n    _defineProperty(_assertThisInitialized(_this2), \"subPriority\", -1);\n    return _this2;\n  }\n  _createClass(DateToSystemTimezoneSetter, [{\n    key: \"set\",\n    value: function set(date, flags) {\n      if (flags.timestampIsSet) {\n        return date;\n      }\n      var convertedDate = new Date(0);\n      convertedDate.setFullYear(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n      convertedDate.setHours(date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds());\n      return convertedDate;\n    }\n  }]);\n  return DateToSystemTimezoneSetter;\n}(Setter);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { ValueSetter } from \"./Setter.js\";\nexport var Parser = /*#__PURE__*/function () {\n  function Parser() {\n    _classCallCheck(this, Parser);\n    _defineProperty(this, \"incompatibleTokens\", void 0);\n    _defineProperty(this, \"priority\", void 0);\n    _defineProperty(this, \"subPriority\", void 0);\n  }\n  _createClass(Parser, [{\n    key: \"run\",\n    value: function run(dateString, token, match, options) {\n      var result = this.parse(dateString, token, match, options);\n      if (!result) {\n        return null;\n      }\n      return {\n        setter: new ValueSetter(result.value, this.validate, this.set, this.priority, this.subPriority),\n        rest: result.rest\n      };\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_utcDate, _value, _options) {\n      return true;\n    }\n  }]);\n  return Parser;\n}();", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nexport var EraParser = /*#__PURE__*/function (_Parser) {\n  _inherits(EraParser, _Parser);\n  var _super = _createSuper(EraParser);\n  function EraParser() {\n    var _this;\n    _classCallCheck(this, EraParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 140);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['R', 'u', 't', 'T']);\n    return _this;\n  }\n  _createClass(EraParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        // AD, BC\n        case 'G':\n        case 'GG':\n        case 'GGG':\n          return match.era(dateString, {\n            width: 'abbreviated'\n          }) || match.era(dateString, {\n            width: 'narrow'\n          });\n        // A, B\n        case 'GGGGG':\n          return match.era(dateString, {\n            width: 'narrow'\n          });\n        // Anno Domini, Before Christ\n        case 'GGGG':\n        default:\n          return match.era(dateString, {\n            width: 'wide'\n          }) || match.era(dateString, {\n            width: 'abbreviated'\n          }) || match.era(dateString, {\n            width: 'narrow'\n          });\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, flags, value) {\n      flags.era = value;\n      date.setUTCFullYear(value, 0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return EraParser;\n}(Parser);", "export var numericPatterns = {\n  month: /^(1[0-2]|0?\\d)/,\n  // 0 to 12\n  date: /^(3[0-1]|[0-2]?\\d)/,\n  // 0 to 31\n  dayOfYear: /^(36[0-6]|3[0-5]\\d|[0-2]?\\d?\\d)/,\n  // 0 to 366\n  week: /^(5[0-3]|[0-4]?\\d)/,\n  // 0 to 53\n  hour23h: /^(2[0-3]|[0-1]?\\d)/,\n  // 0 to 23\n  hour24h: /^(2[0-4]|[0-1]?\\d)/,\n  // 0 to 24\n  hour11h: /^(1[0-1]|0?\\d)/,\n  // 0 to 11\n  hour12h: /^(1[0-2]|0?\\d)/,\n  // 0 to 12\n  minute: /^[0-5]?\\d/,\n  // 0 to 59\n  second: /^[0-5]?\\d/,\n  // 0 to 59\n\n  singleDigit: /^\\d/,\n  // 0 to 9\n  twoDigits: /^\\d{1,2}/,\n  // 0 to 99\n  threeDigits: /^\\d{1,3}/,\n  // 0 to 999\n  fourDigits: /^\\d{1,4}/,\n  // 0 to 9999\n\n  anyDigitsSigned: /^-?\\d+/,\n  singleDigitSigned: /^-?\\d/,\n  // 0 to 9, -0 to -9\n  twoDigitsSigned: /^-?\\d{1,2}/,\n  // 0 to 99, -0 to -99\n  threeDigitsSigned: /^-?\\d{1,3}/,\n  // 0 to 999, -0 to -999\n  fourDigitsSigned: /^-?\\d{1,4}/ // 0 to 9999, -0 to -9999\n};\n\nexport var timezonePatterns = {\n  basicOptionalMinutes: /^([+-])(\\d{2})(\\d{2})?|Z/,\n  basic: /^([+-])(\\d{2})(\\d{2})|Z/,\n  basicOptionalSeconds: /^([+-])(\\d{2})(\\d{2})((\\d{2}))?|Z/,\n  extended: /^([+-])(\\d{2}):(\\d{2})|Z/,\n  extendedOptionalSeconds: /^([+-])(\\d{2}):(\\d{2})(:(\\d{2}))?|Z/\n};", "import { millisecondsInHour, millisecondsInMinute, millisecondsInSecond } from \"../../constants/index.js\";\nimport { numericPatterns } from \"./constants.js\";\nexport function mapValue(parseFnResult, mapFn) {\n  if (!parseFnResult) {\n    return parseFnResult;\n  }\n  return {\n    value: mapFn(parseFnResult.value),\n    rest: parseFnResult.rest\n  };\n}\nexport function parseNumericPattern(pattern, dateString) {\n  var matchResult = dateString.match(pattern);\n  if (!matchResult) {\n    return null;\n  }\n  return {\n    value: parseInt(matchResult[0], 10),\n    rest: dateString.slice(matchResult[0].length)\n  };\n}\nexport function parseTimezonePattern(pattern, dateString) {\n  var matchResult = dateString.match(pattern);\n  if (!matchResult) {\n    return null;\n  }\n\n  // Input is 'Z'\n  if (matchResult[0] === 'Z') {\n    return {\n      value: 0,\n      rest: dateString.slice(1)\n    };\n  }\n  var sign = matchResult[1] === '+' ? 1 : -1;\n  var hours = matchResult[2] ? parseInt(matchResult[2], 10) : 0;\n  var minutes = matchResult[3] ? parseInt(matchResult[3], 10) : 0;\n  var seconds = matchResult[5] ? parseInt(matchResult[5], 10) : 0;\n  return {\n    value: sign * (hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * millisecondsInSecond),\n    rest: dateString.slice(matchResult[0].length)\n  };\n}\nexport function parseAnyDigitsSigned(dateString) {\n  return parseNumericPattern(numericPatterns.anyDigitsSigned, dateString);\n}\nexport function parseNDigits(n, dateString) {\n  switch (n) {\n    case 1:\n      return parseNumericPattern(numericPatterns.singleDigit, dateString);\n    case 2:\n      return parseNumericPattern(numericPatterns.twoDigits, dateString);\n    case 3:\n      return parseNumericPattern(numericPatterns.threeDigits, dateString);\n    case 4:\n      return parseNumericPattern(numericPatterns.fourDigits, dateString);\n    default:\n      return parseNumericPattern(new RegExp('^\\\\d{1,' + n + '}'), dateString);\n  }\n}\nexport function parseNDigitsSigned(n, dateString) {\n  switch (n) {\n    case 1:\n      return parseNumericPattern(numericPatterns.singleDigitSigned, dateString);\n    case 2:\n      return parseNumericPattern(numericPatterns.twoDigitsSigned, dateString);\n    case 3:\n      return parseNumericPattern(numericPatterns.threeDigitsSigned, dateString);\n    case 4:\n      return parseNumericPattern(numericPatterns.fourDigitsSigned, dateString);\n    default:\n      return parseNumericPattern(new RegExp('^-?\\\\d{1,' + n + '}'), dateString);\n  }\n}\nexport function dayPeriodEnumToHours(dayPeriod) {\n  switch (dayPeriod) {\n    case 'morning':\n      return 4;\n    case 'evening':\n      return 17;\n    case 'pm':\n    case 'noon':\n    case 'afternoon':\n      return 12;\n    case 'am':\n    case 'midnight':\n    case 'night':\n    default:\n      return 0;\n  }\n}\nexport function normalizeTwoDigitYear(twoDigitYear, currentYear) {\n  var isCommonEra = currentYear > 0;\n  // Absolute number of the current year:\n  // 1 -> 1 AC\n  // 0 -> 1 BC\n  // -1 -> 2 BC\n  var absCurrentYear = isCommonEra ? currentYear : 1 - currentYear;\n  var result;\n  if (absCurrentYear <= 50) {\n    result = twoDigitYear || 100;\n  } else {\n    var rangeEnd = absCurrentYear + 50;\n    var rangeEndCentury = Math.floor(rangeEnd / 100) * 100;\n    var isPreviousCentury = twoDigitYear >= rangeEnd % 100;\n    result = twoDigitYear + rangeEndCentury - (isPreviousCentury ? 100 : 0);\n  }\n  return isCommonEra ? result : 1 - result;\n}\nexport function isLeapYearIndex(year) {\n  return year % 400 === 0 || year % 4 === 0 && year % 100 !== 0;\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { mapValue, normalizeTwoDigitYear, parseNDigits } from \"../utils.js\";\n// From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_Patterns\n// | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n// |----------|-------|----|-------|-------|-------|\n// | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n// | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n// | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n// | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n// | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\nexport var YearParser = /*#__PURE__*/function (_Parser) {\n  _inherits(YearParser, _Parser);\n  var _super = _createSuper(YearParser);\n  function YearParser() {\n    var _this;\n    _classCallCheck(this, YearParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 130);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'u', 'w', 'I', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(YearParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      var valueCallback = function valueCallback(year) {\n        return {\n          year: year,\n          isTwoDigitYear: token === 'yy'\n        };\n      };\n      switch (token) {\n        case 'y':\n          return mapValue(parseNDigits(4, dateString), valueCallback);\n        case 'yo':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'year'\n          }), valueCallback);\n        default:\n          return mapValue(parseNDigits(token.length, dateString), valueCallback);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value.isTwoDigitYear || value.year > 0;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, flags, value) {\n      var currentYear = date.getUTCFullYear();\n      if (value.isTwoDigitYear) {\n        var normalizedTwoDigitYear = normalizeTwoDigitYear(value.year, currentYear);\n        date.setUTCFullYear(normalizedTwoDigitYear, 0, 1);\n        date.setUTCHours(0, 0, 0, 0);\n        return date;\n      }\n      var year = !('era' in flags) || flags.era === 1 ? value.year : 1 - value.year;\n      date.setUTCFullYear(year, 0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return YearParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseNDigits, normalizeTwoDigitYear, mapValue } from \"../utils.js\";\nimport getUTCWeekYear from \"../../../_lib/getUTCWeekYear/index.js\";\nimport startOfUTCWeek from \"../../../_lib/startOfUTCWeek/index.js\";\n// Local week-numbering year\nexport var LocalWeekYearParser = /*#__PURE__*/function (_Parser) {\n  _inherits(LocalWeekYearParser, _Parser);\n  var _super = _createSuper(LocalWeekYearParser);\n  function LocalWeekYearParser() {\n    var _this;\n    _classCallCheck(this, LocalWeekYearParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 130);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'R', 'u', 'Q', 'q', 'M', 'L', 'I', 'd', 'D', 'i', 't', 'T']);\n    return _this;\n  }\n  _createClass(LocalWeekYearParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      var valueCallback = function valueCallback(year) {\n        return {\n          year: year,\n          isTwoDigitYear: token === 'YY'\n        };\n      };\n      switch (token) {\n        case 'Y':\n          return mapValue(parseNDigits(4, dateString), valueCallback);\n        case 'Yo':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'year'\n          }), valueCallback);\n        default:\n          return mapValue(parseNDigits(token.length, dateString), valueCallback);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value.isTwoDigitYear || value.year > 0;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, flags, value, options) {\n      var currentYear = getUTCWeekYear(date, options);\n      if (value.isTwoDigitYear) {\n        var normalizedTwoDigitYear = normalizeTwoDigitYear(value.year, currentYear);\n        date.setUTCFullYear(normalizedTwoDigitYear, 0, options.firstWeekContainsDate);\n        date.setUTCHours(0, 0, 0, 0);\n        return startOfUTCWeek(date, options);\n      }\n      var year = !('era' in flags) || flags.era === 1 ? value.year : 1 - value.year;\n      date.setUTCFullYear(year, 0, options.firstWeekContainsDate);\n      date.setUTCHours(0, 0, 0, 0);\n      return startOfUTCWeek(date, options);\n    }\n  }]);\n  return LocalWeekYearParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseNDigitsSigned } from \"../utils.js\";\nimport startOfUTCISOWeek from \"../../../_lib/startOfUTCISOWeek/index.js\"; // ISO week-numbering year\nexport var ISOWeekYearParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ISOWeekYearParser, _Parser);\n  var _super = _createSuper(ISOWeekYearParser);\n  function ISOWeekYearParser() {\n    var _this;\n    _classCallCheck(this, ISOWeekYearParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 130);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['G', 'y', 'Y', 'u', 'Q', 'q', 'M', 'L', 'w', 'd', 'D', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(ISOWeekYearParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token) {\n      if (token === 'R') {\n        return parseNDigitsSigned(4, dateString);\n      }\n      return parseNDigitsSigned(token.length, dateString);\n    }\n  }, {\n    key: \"set\",\n    value: function set(_date, _flags, value) {\n      var firstWeekOfYear = new Date(0);\n      firstWeekOfYear.setUTCFullYear(value, 0, 4);\n      firstWeekOfYear.setUTCHours(0, 0, 0, 0);\n      return startOfUTCISOWeek(firstWeekOfYear);\n    }\n  }]);\n  return ISOWeekYearParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseNDigitsSigned } from \"../utils.js\";\nexport var ExtendedYearParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ExtendedYearParser, _Parser);\n  var _super = _createSuper(ExtendedYearParser);\n  function ExtendedYearParser() {\n    var _this;\n    _classCallCheck(this, ExtendedYearParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 130);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['G', 'y', 'Y', 'R', 'w', 'I', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(ExtendedYearParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token) {\n      if (token === 'u') {\n        return parseNDigitsSigned(4, dateString);\n      }\n      return parseNDigitsSigned(token.length, dateString);\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCFullYear(value, 0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return ExtendedYearParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseNDigits } from \"../utils.js\";\nexport var QuarterParser = /*#__PURE__*/function (_Parser) {\n  _inherits(QuarterParser, _Parser);\n  var _super = _createSuper(QuarterParser);\n  function QuarterParser() {\n    var _this;\n    _classCallCheck(this, QuarterParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 120);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'M', 'L', 'w', 'I', 'd', 'D', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(QuarterParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        // 1, 2, 3, 4\n        case 'Q':\n        case 'QQ':\n          // 01, 02, 03, 04\n          return parseNDigits(token.length, dateString);\n        // 1st, 2nd, 3rd, 4th\n        case 'Qo':\n          return match.ordinalNumber(dateString, {\n            unit: 'quarter'\n          });\n        // Q1, Q2, Q3, Q4\n        case 'QQQ':\n          return match.quarter(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.quarter(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n        case 'QQQQQ':\n          return match.quarter(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // 1st quarter, 2nd quarter, ...\n        case 'QQQQ':\n        default:\n          return match.quarter(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.quarter(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.quarter(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 4;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMonth((value - 1) * 3, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return QuarterParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseNDigits } from \"../utils.js\";\nexport var StandAloneQuarterParser = /*#__PURE__*/function (_Parser) {\n  _inherits(StandAloneQuarterParser, _Parser);\n  var _super = _createSuper(StandAloneQuarterParser);\n  function StandAloneQuarterParser() {\n    var _this;\n    _classCallCheck(this, StandAloneQuarterParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 120);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'Q', 'M', 'L', 'w', 'I', 'd', 'D', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(StandAloneQuarterParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        // 1, 2, 3, 4\n        case 'q':\n        case 'qq':\n          // 01, 02, 03, 04\n          return parseNDigits(token.length, dateString);\n        // 1st, 2nd, 3rd, 4th\n        case 'qo':\n          return match.ordinalNumber(dateString, {\n            unit: 'quarter'\n          });\n        // Q1, Q2, Q3, Q4\n        case 'qqq':\n          return match.quarter(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.quarter(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n        case 'qqqqq':\n          return match.quarter(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // 1st quarter, 2nd quarter, ...\n        case 'qqqq':\n        default:\n          return match.quarter(dateString, {\n            width: 'wide',\n            context: 'standalone'\n          }) || match.quarter(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.quarter(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 4;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMonth((value - 1) * 3, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return StandAloneQuarterParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { mapValue, parseNDigits, parseNumericPattern } from \"../utils.js\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nexport var MonthParser = /*#__PURE__*/function (_Parser) {\n  _inherits(MonthParser, _Parser);\n  var _super = _createSuper(MonthParser);\n  function MonthParser() {\n    var _this;\n    _classCallCheck(this, MonthParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'Q', 'L', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']);\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 110);\n    return _this;\n  }\n  _createClass(MonthParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      var valueCallback = function valueCallback(value) {\n        return value - 1;\n      };\n      switch (token) {\n        // 1, 2, ..., 12\n        case 'M':\n          return mapValue(parseNumericPattern(numericPatterns.month, dateString), valueCallback);\n        // 01, 02, ..., 12\n        case 'MM':\n          return mapValue(parseNDigits(2, dateString), valueCallback);\n        // 1st, 2nd, ..., 12th\n        case 'Mo':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'month'\n          }), valueCallback);\n        // Jan, Feb, ..., Dec\n        case 'MMM':\n          return match.month(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.month(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // J, F, ..., D\n        case 'MMMMM':\n          return match.month(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // January, February, ..., December\n        case 'MMMM':\n        default:\n          return match.month(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.month(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.month(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 11;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMonth(value, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return MonthParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits, mapValue } from \"../utils.js\";\nexport var StandAloneMonthParser = /*#__PURE__*/function (_Parser) {\n  _inherits(StandAloneMonthParser, _Parser);\n  var _super = _createSuper(StandAloneMonthParser);\n  function StandAloneMonthParser() {\n    var _this;\n    _classCallCheck(this, StandAloneMonthParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 110);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'Q', 'M', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(StandAloneMonthParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      var valueCallback = function valueCallback(value) {\n        return value - 1;\n      };\n      switch (token) {\n        // 1, 2, ..., 12\n        case 'L':\n          return mapValue(parseNumericPattern(numericPatterns.month, dateString), valueCallback);\n        // 01, 02, ..., 12\n        case 'LL':\n          return mapValue(parseNDigits(2, dateString), valueCallback);\n        // 1st, 2nd, ..., 12th\n        case 'Lo':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'month'\n          }), valueCallback);\n        // Jan, Feb, ..., Dec\n        case 'LLL':\n          return match.month(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.month(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // J, F, ..., D\n        case 'LLLLL':\n          return match.month(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // January, February, ..., December\n        case 'LLLL':\n        default:\n          return match.month(dateString, {\n            width: 'wide',\n            context: 'standalone'\n          }) || match.month(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.month(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 11;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMonth(value, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return StandAloneMonthParser;\n}(Parser);", "import toInteger from \"../toInteger/index.js\";\nimport toDate from \"../../toDate/index.js\";\nimport getUTCWeek from \"../getUTCWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function setUTCWeek(dirtyDate, dirtyWeek, options) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var week = toInteger(dirtyWeek);\n  var diff = getUTCWeek(date, options) - week;\n  date.setUTCDate(date.getUTCDate() - diff * 7);\n  return date;\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nimport setUTCWeek from \"../../../_lib/setUTCWeek/index.js\";\nimport startOfUTCWeek from \"../../../_lib/startOfUTCWeek/index.js\"; // Local week of year\nexport var LocalWeekParser = /*#__PURE__*/function (_Parser) {\n  _inherits(LocalWeekParser, _Parser);\n  var _super = _createSuper(LocalWeekParser);\n  function LocalWeekParser() {\n    var _this;\n    _classCallCheck(this, LocalWeekParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 100);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'i', 't', 'T']);\n    return _this;\n  }\n  _createClass(LocalWeekParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'w':\n          return parseNumericPattern(numericPatterns.week, dateString);\n        case 'wo':\n          return match.ordinalNumber(dateString, {\n            unit: 'week'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 53;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value, options) {\n      return startOfUTCWeek(setUTCWeek(date, value, options), options);\n    }\n  }]);\n  return LocalWeekParser;\n}(Parser);", "import toInteger from \"../toInteger/index.js\";\nimport toDate from \"../../toDate/index.js\";\nimport getUTCISOWeek from \"../getUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function setUTCISOWeek(dirtyDate, dirtyISOWeek) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var isoWeek = toInteger(dirtyISOWeek);\n  var diff = getUTCISOWeek(date) - isoWeek;\n  date.setUTCDate(date.getUTCDate() - diff * 7);\n  return date;\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nimport setUTCISOWeek from \"../../../_lib/setUTCISOWeek/index.js\";\nimport startOfUTCISOWeek from \"../../../_lib/startOfUTCISOWeek/index.js\"; // ISO week of year\nexport var ISOWeekParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ISOWeekParser, _Parser);\n  var _super = _createSuper(ISOWeekParser);\n  function ISOWeekParser() {\n    var _this;\n    _classCallCheck(this, ISOWeekParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 100);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'Y', 'u', 'q', 'Q', 'M', 'L', 'w', 'd', 'D', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(ISOWeekParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'I':\n          return parseNumericPattern(numericPatterns.week, dateString);\n        case 'Io':\n          return match.ordinalNumber(dateString, {\n            unit: 'week'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 53;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      return startOfUTCISOWeek(setUTCISOWeek(date, value));\n    }\n  }]);\n  return ISOWeekParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { isLeapYearIndex, parseNDigits, parseNumericPattern } from \"../utils.js\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nvar DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nvar DAYS_IN_MONTH_LEAP_YEAR = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n// Day of the month\nexport var DateParser = /*#__PURE__*/function (_Parser) {\n  _inherits(DateParser, _Parser);\n  var _super = _createSuper(DateParser);\n  function DateParser() {\n    var _this;\n    _classCallCheck(this, DateParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"subPriority\", 1);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'Q', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(DateParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'd':\n          return parseNumericPattern(numericPatterns.date, dateString);\n        case 'do':\n          return match.ordinalNumber(dateString, {\n            unit: 'date'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(date, value) {\n      var year = date.getUTCFullYear();\n      var isLeapYear = isLeapYearIndex(year);\n      var month = date.getUTCMonth();\n      if (isLeapYear) {\n        return value >= 1 && value <= DAYS_IN_MONTH_LEAP_YEAR[month];\n      } else {\n        return value >= 1 && value <= DAYS_IN_MONTH[month];\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCDate(value);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return DateParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits, isLeapYearIndex } from \"../utils.js\";\nexport var DayOfYearParser = /*#__PURE__*/function (_Parser) {\n  _inherits(DayOfYearParser, _Parser);\n  var _super = _createSuper(DayOfYearParser);\n  function DayOfYearParser() {\n    var _this;\n    _classCallCheck(this, DayOfYearParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"subpriority\", 1);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'Q', 'M', 'L', 'w', 'I', 'd', 'E', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(DayOfYearParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'D':\n        case 'DD':\n          return parseNumericPattern(numericPatterns.dayOfYear, dateString);\n        case 'Do':\n          return match.ordinalNumber(dateString, {\n            unit: 'date'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(date, value) {\n      var year = date.getUTCFullYear();\n      var isLeapYear = isLeapYearIndex(year);\n      if (isLeapYear) {\n        return value >= 1 && value <= 366;\n      } else {\n        return value >= 1 && value <= 365;\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMonth(0, value);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return DayOfYearParser;\n}(Parser);", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function setUTCDay(dirtyDate, dirtyDay, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(2, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  var date = toDate(dirtyDate);\n  var day = toInteger(dirtyDay);\n  var currentDay = date.getUTCDay();\n  var remainder = day % 7;\n  var dayIndex = (remainder + 7) % 7;\n  var diff = (dayIndex < weekStartsOn ? 7 : 0) + day - currentDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport setUTCDay from \"../../../_lib/setUTCDay/index.js\"; // Day of week\nexport var DayParser = /*#__PURE__*/function (_Parser) {\n  _inherits(DayParser, _Parser);\n  var _super = _createSuper(DayParser);\n  function DayParser() {\n    var _this;\n    _classCallCheck(this, DayParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['D', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(DayParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        // Tue\n        case 'E':\n        case 'EE':\n        case 'EEE':\n          return match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // T\n        case 'EEEEE':\n          return match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tu\n        case 'EEEEEE':\n          return match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tuesday\n        case 'EEEE':\n        default:\n          return match.day(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 6;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value, options) {\n      date = setUTCDay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return DayParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { mapValue, parseNDigits } from \"../utils.js\";\nimport setUTCDay from \"../../../_lib/setUTCDay/index.js\"; // Local day of week\nexport var LocalDayParser = /*#__PURE__*/function (_Parser) {\n  _inherits(LocalDayParser, _Parser);\n  var _super = _createSuper(LocalDayParser);\n  function LocalDayParser() {\n    var _this;\n    _classCallCheck(this, LocalDayParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'E', 'i', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(LocalDayParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match, options) {\n      var valueCallback = function valueCallback(value) {\n        var wholeWeekDays = Math.floor((value - 1) / 7) * 7;\n        return (value + options.weekStartsOn + 6) % 7 + wholeWeekDays;\n      };\n      switch (token) {\n        // 3\n        case 'e':\n        case 'ee':\n          // 03\n          return mapValue(parseNDigits(token.length, dateString), valueCallback);\n        // 3rd\n        case 'eo':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'day'\n          }), valueCallback);\n        // Tue\n        case 'eee':\n          return match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // T\n        case 'eeeee':\n          return match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tu\n        case 'eeeeee':\n          return match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tuesday\n        case 'eeee':\n        default:\n          return match.day(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 6;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value, options) {\n      date = setUTCDay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return LocalDayParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { mapValue, parseNDigits } from \"../utils.js\";\nimport setUTCDay from \"../../../_lib/setUTCDay/index.js\"; // Stand-alone local day of week\nexport var StandAloneLocalDayParser = /*#__PURE__*/function (_Parser) {\n  _inherits(StandAloneLocalDayParser, _Parser);\n  var _super = _createSuper(StandAloneLocalDayParser);\n  function StandAloneLocalDayParser() {\n    var _this;\n    _classCallCheck(this, StandAloneLocalDayParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'E', 'i', 'e', 't', 'T']);\n    return _this;\n  }\n  _createClass(StandAloneLocalDayParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match, options) {\n      var valueCallback = function valueCallback(value) {\n        var wholeWeekDays = Math.floor((value - 1) / 7) * 7;\n        return (value + options.weekStartsOn + 6) % 7 + wholeWeekDays;\n      };\n      switch (token) {\n        // 3\n        case 'c':\n        case 'cc':\n          // 03\n          return mapValue(parseNDigits(token.length, dateString), valueCallback);\n        // 3rd\n        case 'co':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'day'\n          }), valueCallback);\n        // Tue\n        case 'ccc':\n          return match.day(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // T\n        case 'ccccc':\n          return match.day(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // Tu\n        case 'cccccc':\n          return match.day(dateString, {\n            width: 'short',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // Tuesday\n        case 'cccc':\n        default:\n          return match.day(dateString, {\n            width: 'wide',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 6;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value, options) {\n      date = setUTCDay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return StandAloneLocalDayParser;\n}(Parser);", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nexport default function setUTCISODay(dirtyDate, dirtyDay) {\n  requiredArgs(2, arguments);\n  var day = toInteger(dirtyDay);\n  if (day % 7 === 0) {\n    day = day - 7;\n  }\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var currentDay = date.getUTCDay();\n  var remainder = day % 7;\n  var dayIndex = (remainder + 7) % 7;\n  var diff = (dayIndex < weekStartsOn ? 7 : 0) + day - currentDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { mapValue, parseNDigits } from \"../utils.js\";\nimport setUTCISODay from \"../../../_lib/setUTCISODay/index.js\"; // ISO day of week\nexport var ISODayParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ISODayParser, _Parser);\n  var _super = _createSuper(ISODayParser);\n  function ISODayParser() {\n    var _this;\n    _classCallCheck(this, ISODayParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'Y', 'u', 'q', 'Q', 'M', 'L', 'w', 'd', 'D', 'E', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(ISODayParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      var valueCallback = function valueCallback(value) {\n        if (value === 0) {\n          return 7;\n        }\n        return value;\n      };\n      switch (token) {\n        // 2\n        case 'i':\n        case 'ii':\n          // 02\n          return parseNDigits(token.length, dateString);\n        // 2nd\n        case 'io':\n          return match.ordinalNumber(dateString, {\n            unit: 'day'\n          });\n        // Tue\n        case 'iii':\n          return mapValue(match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          }), valueCallback);\n        // T\n        case 'iiiii':\n          return mapValue(match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          }), valueCallback);\n        // Tu\n        case 'iiiiii':\n          return mapValue(match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          }), valueCallback);\n        // Tuesday\n        case 'iiii':\n        default:\n          return mapValue(match.day(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          }), valueCallback);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 7;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date = setUTCISODay(date, value);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return ISODayParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { dayPeriodEnumToHours } from \"../utils.js\";\nexport var AMPMParser = /*#__PURE__*/function (_Parser) {\n  _inherits(AMPMParser, _Parser);\n  var _super = _createSuper(AMPMParser);\n  function AMPMParser() {\n    var _this;\n    _classCallCheck(this, AMPMParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 80);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['b', 'B', 'H', 'k', 't', 'T']);\n    return _this;\n  }\n  _createClass(AMPMParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'a':\n        case 'aa':\n        case 'aaa':\n          return match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'aaaaa':\n          return match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'aaaa':\n        default:\n          return match.dayPeriod(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\n      return date;\n    }\n  }]);\n  return AMPMParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { dayPeriodEnumToHours } from \"../utils.js\";\nexport var AMPMMidnightParser = /*#__PURE__*/function (_Parser) {\n  _inherits(AMPMMidnightParser, _Parser);\n  var _super = _createSuper(AMPMMidnightParser);\n  function AMPMMidnightParser() {\n    var _this;\n    _classCallCheck(this, AMPMMidnightParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 80);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['a', 'B', 'H', 'k', 't', 'T']);\n    return _this;\n  }\n  _createClass(AMPMMidnightParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'b':\n        case 'bb':\n        case 'bbb':\n          return match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'bbbbb':\n          return match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'bbbb':\n        default:\n          return match.dayPeriod(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\n      return date;\n    }\n  }]);\n  return AMPMMidnightParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { dayPeriodEnumToHours } from \"../utils.js\"; // in the morning, in the afternoon, in the evening, at night\nexport var DayPeriodParser = /*#__PURE__*/function (_Parser) {\n  _inherits(DayPeriodParser, _Parser);\n  var _super = _createSuper(DayPeriodParser);\n  function DayPeriodParser() {\n    var _this;\n    _classCallCheck(this, DayPeriodParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 80);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['a', 'b', 't', 'T']);\n    return _this;\n  }\n  _createClass(DayPeriodParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'B':\n        case 'BB':\n        case 'BBB':\n          return match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'BBBBB':\n          return match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'BBBB':\n        default:\n          return match.dayPeriod(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\n      return date;\n    }\n  }]);\n  return DayPeriodParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var Hour1to12Parser = /*#__PURE__*/function (_Parser) {\n  _inherits(Hour1to12Parser, _Parser);\n  var _super = _createSuper(Hour1to12Parser);\n  function Hour1to12Parser() {\n    var _this;\n    _classCallCheck(this, Hour1to12Parser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 70);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['H', 'K', 'k', 't', 'T']);\n    return _this;\n  }\n  _createClass(Hour1to12Parser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'h':\n          return parseNumericPattern(numericPatterns.hour12h, dateString);\n        case 'ho':\n          return match.ordinalNumber(dateString, {\n            unit: 'hour'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 12;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      var isPM = date.getUTCHours() >= 12;\n      if (isPM && value < 12) {\n        date.setUTCHours(value + 12, 0, 0, 0);\n      } else if (!isPM && value === 12) {\n        date.setUTCHours(0, 0, 0, 0);\n      } else {\n        date.setUTCHours(value, 0, 0, 0);\n      }\n      return date;\n    }\n  }]);\n  return Hour1to12Parser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var Hour0to23Parser = /*#__PURE__*/function (_Parser) {\n  _inherits(Hour0to23Parser, _Parser);\n  var _super = _createSuper(Hour0to23Parser);\n  function Hour0to23Parser() {\n    var _this;\n    _classCallCheck(this, Hour0to23Parser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 70);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['a', 'b', 'h', 'K', 'k', 't', 'T']);\n    return _this;\n  }\n  _createClass(Hour0to23Parser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'H':\n          return parseNumericPattern(numericPatterns.hour23h, dateString);\n        case 'Ho':\n          return match.ordinalNumber(dateString, {\n            unit: 'hour'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 23;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCHours(value, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return Hour0to23Parser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var Hour0To11Parser = /*#__PURE__*/function (_Parser) {\n  _inherits(Hour0To11Parser, _Parser);\n  var _super = _createSuper(Hour0To11Parser);\n  function Hour0To11Parser() {\n    var _this;\n    _classCallCheck(this, Hour0To11Parser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 70);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['h', 'H', 'k', 't', 'T']);\n    return _this;\n  }\n  _createClass(Hour0To11Parser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'K':\n          return parseNumericPattern(numericPatterns.hour11h, dateString);\n        case 'Ko':\n          return match.ordinalNumber(dateString, {\n            unit: 'hour'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 11;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      var isPM = date.getUTCHours() >= 12;\n      if (isPM && value < 12) {\n        date.setUTCHours(value + 12, 0, 0, 0);\n      } else {\n        date.setUTCHours(value, 0, 0, 0);\n      }\n      return date;\n    }\n  }]);\n  return Hour0To11Parser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var Hour1To24Parser = /*#__PURE__*/function (_Parser) {\n  _inherits(Hour1To24Parser, _Parser);\n  var _super = _createSuper(Hour1To24Parser);\n  function Hour1To24Parser() {\n    var _this;\n    _classCallCheck(this, Hour1To24Parser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 70);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['a', 'b', 'h', 'H', 'K', 't', 'T']);\n    return _this;\n  }\n  _createClass(Hour1To24Parser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'k':\n          return parseNumericPattern(numericPatterns.hour24h, dateString);\n        case 'ko':\n          return match.ordinalNumber(dateString, {\n            unit: 'hour'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 24;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      var hours = value <= 24 ? value % 24 : value;\n      date.setUTCHours(hours, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return Hour1To24Parser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var MinuteParser = /*#__PURE__*/function (_Parser) {\n  _inherits(MinuteParser, _Parser);\n  var _super = _createSuper(MinuteParser);\n  function MinuteParser() {\n    var _this;\n    _classCallCheck(this, MinuteParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 60);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T']);\n    return _this;\n  }\n  _createClass(MinuteParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'm':\n          return parseNumericPattern(numericPatterns.minute, dateString);\n        case 'mo':\n          return match.ordinalNumber(dateString, {\n            unit: 'minute'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 59;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMinutes(value, 0, 0);\n      return date;\n    }\n  }]);\n  return MinuteParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var SecondParser = /*#__PURE__*/function (_Parser) {\n  _inherits(SecondParser, _Parser);\n  var _super = _createSuper(SecondParser);\n  function SecondParser() {\n    var _this;\n    _classCallCheck(this, SecondParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 50);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T']);\n    return _this;\n  }\n  _createClass(SecondParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 's':\n          return parseNumericPattern(numericPatterns.second, dateString);\n        case 'so':\n          return match.ordinalNumber(dateString, {\n            unit: 'second'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 59;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCSeconds(value, 0);\n      return date;\n    }\n  }]);\n  return SecondParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { mapValue, parseNDigits } from \"../utils.js\";\nexport var FractionOfSecondParser = /*#__PURE__*/function (_Parser) {\n  _inherits(FractionOfSecondParser, _Parser);\n  var _super = _createSuper(FractionOfSecondParser);\n  function FractionOfSecondParser() {\n    var _this;\n    _classCallCheck(this, FractionOfSecondParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 30);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T']);\n    return _this;\n  }\n  _createClass(FractionOfSecondParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token) {\n      var valueCallback = function valueCallback(value) {\n        return Math.floor(value * Math.pow(10, -token.length + 3));\n      };\n      return mapValue(parseNDigits(token.length, dateString), valueCallback);\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMilliseconds(value);\n      return date;\n    }\n  }]);\n  return FractionOfSecondParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { timezonePatterns } from \"../constants.js\";\nimport { parseTimezonePattern } from \"../utils.js\"; // Timezone (ISO-8601. +00:00 is `'Z'`)\nexport var ISOTimezoneWithZParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ISOTimezoneWithZParser, _Parser);\n  var _super = _createSuper(ISOTimezoneWithZParser);\n  function ISOTimezoneWithZParser() {\n    var _this;\n    _classCallCheck(this, ISOTimezoneWithZParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 10);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T', 'x']);\n    return _this;\n  }\n  _createClass(ISOTimezoneWithZParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token) {\n      switch (token) {\n        case 'X':\n          return parseTimezonePattern(timezonePatterns.basicOptionalMinutes, dateString);\n        case 'XX':\n          return parseTimezonePattern(timezonePatterns.basic, dateString);\n        case 'XXXX':\n          return parseTimezonePattern(timezonePatterns.basicOptionalSeconds, dateString);\n        case 'XXXXX':\n          return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds, dateString);\n        case 'XXX':\n        default:\n          return parseTimezonePattern(timezonePatterns.extended, dateString);\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, flags, value) {\n      if (flags.timestampIsSet) {\n        return date;\n      }\n      return new Date(date.getTime() - value);\n    }\n  }]);\n  return ISOTimezoneWithZParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { timezonePatterns } from \"../constants.js\";\nimport { parseTimezonePattern } from \"../utils.js\"; // Timezone (ISO-8601)\nexport var ISOTimezoneParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ISOTimezoneParser, _Parser);\n  var _super = _createSuper(ISOTimezoneParser);\n  function ISOTimezoneParser() {\n    var _this;\n    _classCallCheck(this, ISOTimezoneParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 10);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T', 'X']);\n    return _this;\n  }\n  _createClass(ISOTimezoneParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token) {\n      switch (token) {\n        case 'x':\n          return parseTimezonePattern(timezonePatterns.basicOptionalMinutes, dateString);\n        case 'xx':\n          return parseTimezonePattern(timezonePatterns.basic, dateString);\n        case 'xxxx':\n          return parseTimezonePattern(timezonePatterns.basicOptionalSeconds, dateString);\n        case 'xxxxx':\n          return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds, dateString);\n        case 'xxx':\n        default:\n          return parseTimezonePattern(timezonePatterns.extended, dateString);\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, flags, value) {\n      if (flags.timestampIsSet) {\n        return date;\n      }\n      return new Date(date.getTime() - value);\n    }\n  }]);\n  return ISOTimezoneParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseAnyDigitsSigned } from \"../utils.js\";\nexport var TimestampSecondsParser = /*#__PURE__*/function (_Parser) {\n  _inherits(TimestampSecondsParser, _Parser);\n  var _super = _createSuper(TimestampSecondsParser);\n  function TimestampSecondsParser() {\n    var _this;\n    _classCallCheck(this, TimestampSecondsParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 40);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", '*');\n    return _this;\n  }\n  _createClass(TimestampSecondsParser, [{\n    key: \"parse\",\n    value: function parse(dateString) {\n      return parseAnyDigitsSigned(dateString);\n    }\n  }, {\n    key: \"set\",\n    value: function set(_date, _flags, value) {\n      return [new Date(value * 1000), {\n        timestampIsSet: true\n      }];\n    }\n  }]);\n  return TimestampSecondsParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseAnyDigitsSigned } from \"../utils.js\";\nexport var TimestampMillisecondsParser = /*#__PURE__*/function (_Parser) {\n  _inherits(TimestampMillisecondsParser, _Parser);\n  var _super = _createSuper(TimestampMillisecondsParser);\n  function TimestampMillisecondsParser() {\n    var _this;\n    _classCallCheck(this, TimestampMillisecondsParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 20);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", '*');\n    return _this;\n  }\n  _createClass(TimestampMillisecondsParser, [{\n    key: \"parse\",\n    value: function parse(dateString) {\n      return parseAnyDigitsSigned(dateString);\n    }\n  }, {\n    key: \"set\",\n    value: function set(_date, _flags, value) {\n      return [new Date(value), {\n        timestampIsSet: true\n      }];\n    }\n  }]);\n  return TimestampMillisecondsParser;\n}(Parser);", "import { EraParser } from \"./EraParser.js\";\nimport { YearParser } from \"./YearParser.js\";\nimport { LocalWeekYearParser } from \"./LocalWeekYearParser.js\";\nimport { ISOWeekYearParser } from \"./ISOWeekYearParser.js\";\nimport { ExtendedYearParser } from \"./ExtendedYearParser.js\";\nimport { QuarterParser } from \"./QuarterParser.js\";\nimport { StandAloneQuarterParser } from \"./StandAloneQuarterParser.js\";\nimport { MonthParser } from \"./MonthParser.js\";\nimport { StandAloneMonthParser } from \"./StandAloneMonthParser.js\";\nimport { LocalWeekParser } from \"./LocalWeekParser.js\";\nimport { ISOWeekParser } from \"./ISOWeekParser.js\";\nimport { DateParser } from \"./DateParser.js\";\nimport { DayOfYearParser } from \"./DayOfYearParser.js\";\nimport { DayParser } from \"./DayParser.js\";\nimport { LocalDayParser } from \"./LocalDayParser.js\";\nimport { StandAloneLocalDayParser } from \"./StandAloneLocalDayParser.js\";\nimport { ISODayParser } from \"./ISODayParser.js\";\nimport { AMPMParser } from \"./AMPMParser.js\";\nimport { AMPMMidnightParser } from \"./AMPMMidnightParser.js\";\nimport { DayPeriodParser } from \"./DayPeriodParser.js\";\nimport { Hour1to12Parser } from \"./Hour1to12Parser.js\";\nimport { Hour0to23Parser } from \"./Hour0to23Parser.js\";\nimport { Hour0To11Parser } from \"./Hour0To11Parser.js\";\nimport { Hour1To24Parser } from \"./Hour1To24Parser.js\";\nimport { MinuteParser } from \"./MinuteParser.js\";\nimport { SecondParser } from \"./SecondParser.js\";\nimport { FractionOfSecondParser } from \"./FractionOfSecondParser.js\";\nimport { ISOTimezoneWithZParser } from \"./ISOTimezoneWithZParser.js\";\nimport { ISOTimezoneParser } from \"./ISOTimezoneParser.js\";\nimport { TimestampSecondsParser } from \"./TimestampSecondsParser.js\";\nimport { TimestampMillisecondsParser } from \"./TimestampMillisecondsParser.js\";\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O* | Timezone (GMT)                 |\n * |  p  |                                |  P  |                                |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z* | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `parse` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n */\nexport var parsers = {\n  G: new EraParser(),\n  y: new YearParser(),\n  Y: new LocalWeekYearParser(),\n  R: new ISOWeekYearParser(),\n  u: new ExtendedYearParser(),\n  Q: new QuarterParser(),\n  q: new StandAloneQuarterParser(),\n  M: new MonthParser(),\n  L: new StandAloneMonthParser(),\n  w: new LocalWeekParser(),\n  I: new ISOWeekParser(),\n  d: new DateParser(),\n  D: new DayOfYearParser(),\n  E: new DayParser(),\n  e: new LocalDayParser(),\n  c: new StandAloneLocalDayParser(),\n  i: new ISODayParser(),\n  a: new AMPMParser(),\n  b: new AMPMMidnightParser(),\n  B: new DayPeriodParser(),\n  h: new Hour1to12Parser(),\n  H: new Hour0to23Parser(),\n  K: new Hour0To11Parser(),\n  k: new Hour1To24Parser(),\n  m: new MinuteParser(),\n  s: new SecondParser(),\n  S: new FractionOfSecondParser(),\n  X: new ISOTimezoneWithZParser(),\n  x: new ISOTimezoneParser(),\n  t: new TimestampSecondsParser(),\n  T: new TimestampMillisecondsParser()\n};", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameMonth\n * @category Month Helpers\n * @summary Are the given dates in the same month (and year)?\n *\n * @description\n * Are the given dates in the same month (and year)?\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same month (and year)\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 2 September 2014 and 25 September 2014 in the same month?\n * const result = isSameMonth(new Date(2014, 8, 2), new Date(2014, 8, 25))\n * //=> true\n *\n * @example\n * // Are 2 September 2014 and 25 September 2015 in the same month?\n * const result = isSameMonth(new Date(2014, 8, 2), new Date(2015, 8, 25))\n * //=> false\n */\nexport default function isSameMonth(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  return dateLeft.getFullYear() === dateRight.getFullYear() && dateLeft.getMonth() === dateRight.getMonth();\n}", "import addDays from \"../addDays/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name subDays\n * @category Day Helpers\n * @summary Subtract the specified number of days from the given date.\n *\n * @description\n * Subtract the specified number of days from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the days subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 10 days from 1 September 2014:\n * const result = subDays(new Date(2014, 8, 1), 10)\n * //=> Fri Aug 22 2014 00:00:00\n */\nexport default function subDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addDays(dirtyDate, -amount);\n}", "import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport getDaysInMonth from \"../getDaysInMonth/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name setMonth\n * @category Month Helpers\n * @summary Set the month to the given date.\n *\n * @description\n * Set the month to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} month - the month of the new date\n * @returns {Date} the new date with the month set\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Set February to 1 September 2014:\n * const result = setMonth(new Date(2014, 8, 1), 1)\n * //=> Sat Feb 01 2014 00:00:00\n */\nexport default function setMonth(dirtyDate, dirtyMonth) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var month = toInteger(dirtyMonth);\n  var year = date.getFullYear();\n  var day = date.getDate();\n  var dateWithDesiredMonth = new Date(0);\n  dateWithDesiredMonth.setFullYear(year, month, 15);\n  dateWithDesiredMonth.setHours(0, 0, 0, 0);\n  var daysInMonth = getDaysInMonth(dateWithDesiredMonth);\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  date.setMonth(month, Math.min(day, daysInMonth));\n  return date;\n}", "import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name setDate\n * @category Day Helpers\n * @summary Set the day of the month to the given date.\n *\n * @description\n * Set the day of the month to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} dayOfMonth - the day of the month of the new date\n * @returns {Date} the new date with the day of the month set\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Set the 30th day of the month to 1 September 2014:\n * const result = setDate(new Date(2014, 8, 1), 30)\n * //=> Tue Sep 30 2014 00:00:00\n */\nexport default function setDate(dirtyDate, dirtyDayOfMonth) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var dayOfMonth = toInteger(dirtyDayOfMonth);\n  date.setDate(dayOfMonth);\n  return date;\n}", "import addDays from \"../addDays/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\n/**\n * @name setDay\n * @category Weekday Helpers\n * @summary Set the day of the week to the given date.\n *\n * @description\n * Set the day of the week to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} day - the day of the week of the new date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the new date with the day of the week set\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // Set week day to Sunday, with the default weekStartsOn of Sunday:\n * const result = setDay(new Date(2014, 8, 1), 0)\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // Set week day to Sunday, with a weekStartsOn of Monday:\n * const result = setDay(new Date(2014, 8, 1), 0, { weekStartsOn: 1 })\n * //=> Sun Sep 07 2014 00:00:00\n */\nexport default function setDay(dirtyDate, dirtyDay, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(2, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  var date = toDate(dirtyDate);\n  var day = toInteger(dirtyDay);\n  var currentDay = date.getDay();\n  var remainder = day % 7;\n  var dayIndex = (remainder + 7) % 7;\n  var delta = 7 - weekStartsOn;\n  var diff = day < 0 || day > 6 ? day - (currentDay + delta) % 7 : (dayIndex + delta) % 7 - (currentDay + delta) % 7;\n  return addDays(date, diff);\n}", "import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name setHours\n * @category Hour Helpers\n * @summary Set the hours to the given date.\n *\n * @description\n * Set the hours to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} hours - the hours of the new date\n * @returns {Date} the new date with the hours set\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Set 4 hours to 1 September 2014 11:30:00:\n * const result = setHours(new Date(2014, 8, 1, 11, 30), 4)\n * //=> Mon Sep 01 2014 04:30:00\n */\nexport default function setHours(dirtyDate, dirtyHours) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var hours = toInteger(dirtyHours);\n  date.setHours(hours);\n  return date;\n}", "import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name setMinutes\n * @category Minute Helpers\n * @summary Set the minutes to the given date.\n *\n * @description\n * Set the minutes to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} minutes - the minutes of the new date\n * @returns {Date} the new date with the minutes set\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Set 45 minutes to 1 September 2014 11:30:40:\n * const result = setMinutes(new Date(2014, 8, 1, 11, 30, 40), 45)\n * //=> Mon Sep 01 2014 11:45:40\n */\nexport default function setMinutes(dirtyDate, dirtyMinutes) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var minutes = toInteger(dirtyMinutes);\n  date.setMinutes(minutes);\n  return date;\n}", "import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name setSeconds\n * @category Second Helpers\n * @summary Set the seconds to the given date.\n *\n * @description\n * Set the seconds to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} seconds - the seconds of the new date\n * @returns {Date} the new date with the seconds set\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Set 45 seconds to 1 September 2014 11:30:40:\n * const result = setSeconds(new Date(2014, 8, 1, 11, 30, 40), 45)\n * //=> Mon Sep 01 2014 11:30:45\n */\nexport default function setSeconds(dirtyDate, dirtySeconds) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var seconds = toInteger(dirtySeconds);\n  date.setSeconds(seconds);\n  return date;\n}", "import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name setYear\n * @category Year Helpers\n * @summary Set the year to the given date.\n *\n * @description\n * Set the year to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} year - the year of the new date\n * @returns {Date} the new date with the year set\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Set year 2013 to 1 September 2014:\n * const result = setYear(new Date(2014, 8, 1), 2013)\n * //=> Sun Sep 01 2013 00:00:00\n */\nexport default function setYear(dirtyDate, dirtyYear) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var year = toInteger(dirtyYear);\n\n  // Check if date is Invalid Date because Date.prototype.setFullYear ignores the value of Invalid Date\n  if (isNaN(date.getTime())) {\n    return new Date(NaN);\n  }\n  date.setFullYear(year);\n  return date;\n}", "import toInteger from \"../_lib/toInteger/index.js\";\nimport addMonths from \"../addMonths/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name subMonths\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * const result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport default function subMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMonths(dirtyDate, -amount);\n}", "import toInteger from \"../_lib/toInteger/index.js\";\nimport addWeeks from \"../addWeeks/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name subWeeks\n * @category Week Helpers\n * @summary Subtract the specified number of weeks from the given date.\n *\n * @description\n * Subtract the specified number of weeks from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of weeks to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the weeks subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 4 weeks from 1 September 2014:\n * const result = subWeeks(new Date(2014, 8, 1), 4)\n * //=> Mon Aug 04 2014 00:00:00\n */\nexport default function subWeeks(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addWeeks(dirtyDate, -amount);\n}", "import toInteger from \"../_lib/toInteger/index.js\";\nimport addYears from \"../addYears/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name subYears\n * @category Year Helpers\n * @summary Subtract the specified number of years from the given date.\n *\n * @description\n * Subtract the specified number of years from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of years to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the years subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 5 years from 1 September 2014:\n * const result = subYears(new Date(2014, 8, 1), 5)\n * //=> Tue Sep 01 2009 00:00:00\n */\nexport default function subYears(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addYears(dirtyDate, -amount);\n}", "import { RangeValue } from \"@react-types/shared\";\n\nexport const toUTCString = (date: Date) => {\n  return date.toISOString().slice(0, 10);\n};\n\nexport const toUTCRangeString = (date: RangeValue<Date>) => {\n  return { start: toUTCString(date.start), end: toUTCString(date.end) };\n};\n\nexport {\n  addDays,\n  addMonths,\n  addWeeks,\n  addYears,\n  endOfMonth,\n  getDate,\n  getDaysInMonth,\n  getHours,\n  getMinutes,\n  getMonth,\n  getSeconds,\n  getYear,\n  isSameDay,\n  isSameMonth,\n  isWeekend,\n  setDate,\n  setDay,\n  setHours,\n  setMinutes,\n  setMonth,\n  setSeconds,\n  setYear,\n  startOfDay,\n  startOfMonth,\n  subDays,\n  subMonths,\n  subWeeks,\n  subYears,\n} from \"date-fns\";\n", "/* eslint-disable react-hooks/exhaustive-deps */\nimport * as React from \"react\";\nimport { runIfFn, warn } from \"@chakra-ui/utils\";\n\nexport function useControllableProp<T>(prop: T | undefined, state: T) {\n  const { current: isControlled } = React.useRef(prop !== undefined);\n  const value = isControlled && typeof prop !== \"undefined\" ? prop : state;\n  return [isControlled, value] as const;\n}\n\nexport interface UseControllableStateProps<T> {\n  /**\n   * The value to used in controlled mode\n   */\n  value?: T;\n  /**\n   * The initial value to be used, in uncontrolled mode\n   */\n  defaultValue?: T | (() => T);\n  /**\n   * The callback fired when the value changes\n   */\n  onChange?: (value: T) => void;\n  /**\n   * The component name (for warnings)\n   */\n  name?: string;\n  /**\n   * A mapping for the props to give more contextual warning messages.\n   *\n   * In some components `value` might be called `index`, and defaultValue\n   * might be called `defaultIndex`, so this map helps us generate\n   * contextual warning messages\n   */\n  propsMap?: {\n    value: string;\n    defaultValue: string;\n    onChange: string;\n  };\n}\n\nconst defaultPropsMap = {\n  value: \"value\",\n  defaultValue: \"defaultValue\",\n  onChange: \"onChange\",\n};\n\n/**\n * React hook for using controlling component state.\n * @param props\n */\nexport function useControllableState<T>(props: UseControllableStateProps<T>) {\n  const {\n    value: valueProp,\n    defaultValue,\n    onChange,\n    name = \"Component\",\n    propsMap = defaultPropsMap,\n  } = props;\n\n  const [valueState, setValue] = React.useState(defaultValue as T);\n  const { current: isControlled } = React.useRef(valueProp !== undefined);\n\n  // don't switch from controlled to uncontrolled\n  React.useEffect(() => {\n    const nextIsControlled = valueProp !== undefined;\n\n    const nextMode = nextIsControlled ? \"a controlled\" : \"an uncontrolled\";\n    const mode = isControlled ? \"a controlled\" : \"an uncontrolled\";\n\n    warn({\n      condition: isControlled !== nextIsControlled,\n      message:\n        `Warning: ${name} is changing from ${mode} to ${nextMode} component. ` +\n        `Components should not switch from controlled to uncontrolled (or vice versa). ` +\n        `Use the '${propsMap.value}' with an '${propsMap.onChange}' handler. ` +\n        `If you want an uncontrolled component, remove the ${propsMap.value} prop and use '${propsMap.defaultValue}' instead. \"` +\n        `More info: https://fb.me/react-controlled-components`,\n    });\n  }, [valueProp, isControlled, name]);\n\n  const { current: initialDefaultValue } = React.useRef(defaultValue);\n\n  React.useEffect(() => {\n    warn({\n      condition: initialDefaultValue !== defaultValue,\n      message:\n        `Warning: A component is changing the default value of an uncontrolled ${name} after being initialized. ` +\n        `To suppress this warning opt to use a controlled ${name}.`,\n    });\n  }, [JSON.stringify(defaultValue)]);\n\n  const value = isControlled ? (valueProp as T) : valueState;\n\n  const updateValue = React.useCallback(\n    (next: React.SetStateAction<T>) => {\n      const nextValue = runIfFn(next, value);\n      if (!isControlled) setValue(nextValue);\n      onChange?.(nextValue);\n    },\n    [onChange, value],\n  );\n\n  return [value, updateValue] as [T, React.Dispatch<React.SetStateAction<T>>];\n}\n", "import { useCallback, useRef, useState } from \"react\";\n\nexport function useControlledState<T>(\n  value: T,\n  defaultValue: T,\n  onChange: (value: T, ...args: any[]) => void,\n): [T, (value: T | ((prevState: T) => T), ...args: any[]) => void] {\n  let [stateValue, setStateValue] = useState(value || defaultValue);\n  let ref = useRef(value !== undefined);\n  let wasControlled = ref.current;\n  let isControlled = value !== undefined;\n  // Internal state reference for useCallback\n  let stateRef = useRef(stateValue);\n  if (wasControlled !== isControlled) {\n    console.warn(\n      `WARN: A component changed from ${\n        wasControlled ? \"controlled\" : \"uncontrolled\"\n      } to ${isControlled ? \"controlled\" : \"uncontrolled\"}.`,\n    );\n  }\n\n  ref.current = isControlled;\n\n  let setValue = useCallback(\n    (value, ...args) => {\n      let onChangeCaller = (value: any, ...onChangeArgs: any[]) => {\n        if (onChange) {\n          if (!Object.is(stateRef.current, value)) {\n            onChange(value, ...onChangeArgs);\n          }\n        }\n        if (!isControlled) {\n          stateRef.current = value;\n        }\n      };\n\n      if (typeof value === \"function\") {\n        // this supports functional updates https://reactjs.org/docs/hooks-reference.html#functional-updates\n        // when someone using useControlledState calls setControlledState(myFunc)\n        // this will call our useState setState with a function as well which invokes myFunc and calls onChange with the value from myFunc\n        // if we're in an uncontrolled state, then we also return the value of myFunc which to setState looks as though it was just called with myFunc from the beginning\n        // otherwise we just return the controlled value, which won't cause a rerender because React knows to bail out when the value is the same\n        let updateFunction = (oldValue: any, ...functionArgs: any[]) => {\n          let interceptedValue = value(\n            isControlled ? stateRef.current : oldValue,\n            ...functionArgs,\n          );\n          onChangeCaller(interceptedValue, ...args);\n          if (!isControlled) {\n            return interceptedValue;\n          }\n          return oldValue;\n        };\n        setStateValue(updateFunction);\n      } else {\n        if (!isControlled) {\n          setStateValue(value);\n        }\n        onChangeCaller(value, ...args);\n      }\n    },\n    [isControlled, onChange],\n  );\n\n  // If a controlled component's value prop changes, we need to update stateRef\n  if (isControlled) {\n    stateRef.current = value;\n  } else {\n    value = stateValue;\n  }\n\n  return [value, setValue];\n}\n", "import { splitProps } from \"reakit-utils\";\nimport { warn } from \"@chakra-ui/utils\";\n\nimport { Booleanish } from \"./types\";\n\n// Null Assertion\nexport const isNull = (value: any): value is null => value == null;\n\nexport function clamp(value: number, min = -Infinity, max = Infinity): number {\n  return Math.min(Math.max(value, min), max);\n}\n\n/**\n * Clamps a value to ensure it stays within the min and max range.\n *\n * @param value the value to clamp\n * @param min the minimum value\n * @param max the maximum value\n *\n * @see https://github.com/chakra-ui/chakra-ui/blob/c38892760257b9bbf1b63c05f7f9ccf1684a90b0/packages/utils/src/number.ts\n */\nexport function clampValue(value: number, min: number, max: number) {\n  if (isNull(value)) return value;\n\n  warn({\n    condition: max < min,\n    message: \"clamp: max cannot be less than min\",\n  });\n\n  return Math.min(Math.max(value, min), max);\n}\n\n/**\n * The candidate optimum point is the midpoint between the minimum value and\n * the maximum value.\n *\n * @see https://html.spec.whatwg.org/multipage/form-elements.html#the-meter-element:attr-meter-high-8:~:text=boundary.-,The%20optimum%20point\n */\nexport function getOptimumValue(min: number, max: number) {\n  return max < min ? min : min + (max - min) / 2;\n}\n\n/**\n * Convert a value to percentage based on lower and upper bound values\n *\n * @param value the value in number\n * @param min the minimum value\n * @param max the maximum value\n */\nexport function valueToPercent(value: number, min: number, max: number) {\n  return ((value - min) * 100) / (max - min);\n}\n\n// Function assertions\nexport function isFunction(value: any): value is Function {\n  return typeof value === \"function\";\n}\n\nexport function isTouch() {\n  return Boolean(\n    \"ontouchstart\" in window ||\n      window.navigator.maxTouchPoints > 0 ||\n      // @ts-ignore\n      window.navigator.msMaxTouchPoints > 0,\n  );\n}\n\nexport const dataAttr = (condition: boolean | undefined) =>\n  (condition ? \"\" : undefined) as Booleanish;\n\nexport const ariaAttr = (condition: boolean | undefined) =>\n  condition ? true : undefined;\n\nexport const cx = (...classNames: any[]) =>\n  classNames.filter(Boolean).join(\" \");\n\nexport function kebabCase(string: string) {\n  return string.toLowerCase().replace(/[^a-z0-9]/g, \"-\");\n}\n\n// Split state props\nexport function splitStateProps<T, P>(props: any, keys: readonly any[]) {\n  const [stateProps, otherProps] = splitProps(props, keys);\n\n  return [stateProps, otherProps] as [T, P];\n}\n\nexport * from \"./date\";\nexport * from \"./useControllableState\";\nexport * from \"./useControlledState\";\n", "// Automatically generated\nexport const BREADCRUMB_LINK_KEYS = [\"isCurrent\"] as const;\nexport const BREADCRUMBS_KEYS = [] as const;\n", "// Automatically generated\nexport const LINK_KEYS = [\"isExternal\"] as const;\n", "import * as React from \"react\";\nimport { ClickableHTMLProps, ClickableOptions, useClickable } from \"reakit\";\nimport { useForkRef } from \"reakit-utils\";\nimport { useWarning } from \"reakit-warning\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { LINK_KEYS } from \"./__keys\";\n\nexport type LinkOptions = ClickableOptions & {\n  /**\n   * Opens the link in a new tab\n   */\n  isExternal?: boolean;\n};\n\nexport type LinkHTMLProps = ClickableHTMLProps;\n\nexport type LinkProps = LinkOptions & LinkHTMLProps;\n\nexport const useLink = createHook<LinkOptions, LinkHTMLProps>({\n  name: \"Link\",\n  compose: useClickable,\n  keys: LINK_KEYS,\n\n  useOptions(options) {\n    return { unstable_clickOnSpace: false, ...options };\n  },\n\n  useProps({ isExternal }, { ref: htmlRef, ...htmlProps }) {\n    const ref = React.useRef<HTMLElement>(null);\n    const [role, setRole] = React.useState<\"link\" | undefined>(undefined);\n\n    React.useEffect(() => {\n      const element = ref.current;\n\n      if (!element) {\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        useWarning(\n          true,\n          \"Can't determine whether the element is a native link because `ref` wasn't passed to the component\",\n        );\n        return;\n      }\n\n      if (element.tagName !== \"A\") {\n        setRole(\"link\");\n      }\n    }, []);\n\n    return {\n      ref: useForkRef(ref, htmlRef),\n      role,\n      ...(isExternal && { target: \"_blank\", rel: \"noopener noreferrer\" }),\n      ...htmlProps,\n    };\n  },\n});\n\nexport const Link = createComponent({\n  as: \"a\",\n  memo: true,\n  useHook: useLink,\n});\n", "import { LinkHTMLProps, LinkOptions, useLink } from \"../link\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { BREADCRUMB_LINK_KEYS } from \"./__keys\";\n\nexport const useBreadcrumbLink = createHook<\n  BreadcrumbLinkOptions,\n  BreadcrumbLinkHTMLProps\n>({\n  name: \"BreadcrumbLink\",\n  compose: useLink,\n  keys: BREADCRUMB_LINK_KEYS,\n\n  useProps({ isCurrent }, htmlProps) {\n    return { \"aria-current\": isCurrent && \"page\", ...htmlProps };\n  },\n});\n\nexport const BreadcrumbLink = createComponent({\n  as: \"a\",\n  memo: true,\n  useHook: useBreadcrumbLink,\n});\n\nexport type BreadcrumbLinkOptions = {\n  /**\n   * If true, sets `aria-current: \"page\"`\n   */\n  isCurrent?: boolean;\n} & LinkOptions;\n\nexport type BreadcrumbLinkHTMLProps = LinkHTMLProps;\n\nexport type BreadcrumbLinkProps = BreadcrumbLinkOptions &\n  BreadcrumbLinkHTMLProps;\n", "import { createComponent, createHook, useCreateElement } from \"reakit-system\";\nimport { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\nimport { useWarning } from \"reakit-warning\";\n\nexport const useBreadcrumbs = createHook<\n  BreadcrumbsOptions,\n  BreadcrumbsHTMLProps\n>({\n  name: \"Breadcrumb\",\n  compose: useRole,\n});\n\nexport const Breadcrumbs = createComponent({\n  as: \"nav\",\n  memo: true,\n  useHook: useBreadcrumbs,\n  useCreateElement: (type, props, children) => {\n    useWarning(\n      !props[\"aria-label\"] && !props[\"aria-labelledby\"],\n      \"You should provide either `aria-label` or `aria-labelledby` props.\",\n      \"See https://www.w3.org/TR/wai-aria-practices-1.1/#wai-aria-roles-states-and-properties-2\",\n    );\n    return useCreateElement(type, props, children);\n  },\n});\n\nexport type BreadcrumbsOptions = RoleOptions;\n\nexport type BreadcrumbsHTMLProps = RoleHTMLProps;\n\nexport type BreadcrumbProps = BreadcrumbsOptions & BreadcrumbsHTMLProps;\n", "// Automatically generated\nexport const USE_CALENDAR_STATE_KEYS = [\n  \"value\",\n  \"defaultValue\",\n  \"onChange\",\n  \"minValue\",\n  \"maxValue\",\n  \"isDisabled\",\n  \"isReadOnly\",\n  \"autoFocus\",\n  \"id\",\n] as const;\nexport const CALENDAR_STATE_KEYS = [\n  \"calendarId\",\n  \"dateValue\",\n  \"month\",\n  \"year\",\n  \"weekStart\",\n  \"weekDays\",\n  \"daysInMonth\",\n  \"isDisabled\",\n  \"isFocused\",\n  \"isReadOnly\",\n  \"currentMonth\",\n  \"focusedDate\",\n  \"isInvalidDateRange\",\n  \"isRangeCalendar\",\n  \"setFocused\",\n  \"setCurrentMonth\",\n  \"setFocusedDate\",\n  \"setDateValue\",\n  \"focusCell\",\n  \"focusNextDay\",\n  \"focusPreviousDay\",\n  \"focusNextWeek\",\n  \"focusPreviousWeek\",\n  \"focusNextMonth\",\n  \"focusPreviousMonth\",\n  \"focusStartOfMonth\",\n  \"focusEndOfMonth\",\n  \"focusNextYear\",\n  \"focusPreviousYear\",\n  \"selectFocusedDate\",\n  \"selectDate\",\n] as const;\nexport const USE_RANGE_CALENDAR_STATE_KEYS = USE_CALENDAR_STATE_KEYS;\nexport const RANGE_CALENDAR_STATE_KEYS = [\n  ...CALENDAR_STATE_KEYS,\n  \"dateRangeValue\",\n  \"anchorDate\",\n  \"highlightedRange\",\n  \"setDateRangeValue\",\n  \"setAnchorDate\",\n  \"highlightDate\",\n] as const;\nexport const CALENDAR_KEYS = RANGE_CALENDAR_STATE_KEYS;\nexport const CALENDAR_BUTTON_KEYS = [...CALENDAR_KEYS, \"goto\"] as const;\nexport const CALENDAR_CELL_KEYS = [...CALENDAR_KEYS, \"date\"] as const;\nexport const CALENDAR_CELL_BUTTON_KEYS = CALENDAR_CELL_KEYS;\nexport const CALENDAR_GRID_KEYS = CALENDAR_KEYS;\nexport const CALENDAR_HEADER_KEYS = [...CALENDAR_GRID_KEYS, \"format\"] as const;\nexport const CALENDAR_WEEK_TITLE_KEYS = [\n  ...CALENDAR_GRID_KEYS,\n  \"dayIndex\",\n] as const;\n", "/**\n * All credit goes to [React Spectrum](https://github.com/adobe/react-spectrum)\n * We improved the Calendar from Aria [useCalendarBase](https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/calendar/src/useCalendarBase.ts)\n * to work with Reakit System\n */\nimport { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { CALENDAR_KEYS } from \"./__keys\";\nimport { CalendarStateReturn } from \"./CalendarState\";\n\nexport const useCalendar = createHook<CalendarOptions, CalendarHTMLProps>({\n  name: \"Calendar\",\n  compose: useRole,\n  keys: CALENDAR_KEYS,\n\n  useProps({ calendarId }, htmlProps) {\n    return {\n      role: \"group\",\n      \"aria-labelledby\": calendarId,\n      ...htmlProps,\n    };\n  },\n});\n\nexport const Calendar = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useCalendar,\n});\n\nexport type CalendarOptions = RoleOptions &\n  Pick<CalendarStateReturn, \"calendarId\">;\n\nexport type CalendarHTMLProps = RoleHTMLProps;\n\nexport type CalendarProps = CalendarOptions & CalendarHTMLProps;\n", "/**\n * All credit goes to [React Spectrum](https://github.com/adobe/react-spectrum)\n * We improved the Calendar from Aria [useCalendarBase](https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/calendar/src/useCalendarBase.ts)\n * to work with Reakit System\n */\nimport { ButtonHTMLProps, ButtonOptions, useButton } from \"reakit\";\nimport { callAllHandlers } from \"@chakra-ui/utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { CALENDAR_BUTTON_KEYS } from \"./__keys\";\nimport { CalendarStateReturn } from \"./CalendarState\";\n\nexport const useCalendarButton = createHook<\n  CalendarButtonOptions,\n  CalendarButtonHTMLProps\n>({\n  name: \"CalendarButton\",\n  compose: useButton,\n  keys: CALENDAR_BUTTON_KEYS,\n\n  useProps(options, { onClick: htmlOnClick, ...htmlProps }) {\n    const {\n      focusNextMonth,\n      focusPreviousMonth,\n      focusPreviousYear,\n      focusNextYear,\n      goto,\n    } = options;\n\n    const HANDLER_TYPES = {\n      nextMonth: {\n        handler: focusNextMonth,\n        ariaLabel: \"Next Month\",\n      },\n      previousMonth: {\n        handler: focusPreviousMonth,\n        ariaLabel: \"Previous Month\",\n      },\n      nextYear: {\n        handler: focusNextYear,\n        ariaLabel: \"Next Year\",\n      },\n      previousYear: {\n        handler: focusPreviousYear,\n        ariaLabel: \"Previous Year\",\n      },\n    };\n\n    return {\n      \"aria-label\": HANDLER_TYPES[goto]?.ariaLabel,\n      onClick: callAllHandlers(htmlOnClick, HANDLER_TYPES[goto]?.handler),\n      ...htmlProps,\n    };\n  },\n});\n\nexport const CalendarButton = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useCalendarButton,\n});\n\nexport type CalendarButtonOptions = ButtonOptions &\n  Pick<\n    CalendarStateReturn,\n    | \"focusNextMonth\"\n    | \"focusPreviousMonth\"\n    | \"focusPreviousYear\"\n    | \"focusNextYear\"\n  > & {\n    goto: CalendarGoto;\n  };\n\nexport type CalendarButtonHTMLProps = ButtonHTMLProps;\n\nexport type CalendarButtonProps = CalendarButtonOptions &\n  CalendarButtonHTMLProps;\n\nexport type CalendarGoto =\n  | \"nextMonth\"\n  | \"previousMonth\"\n  | \"nextYear\"\n  | \"previousYear\";\n", "/**\n * All credit goes to [React Spectrum](https://github.com/adobe/react-spectrum)\n * We improved the Calendar from Aria [useCalendarBase](https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/calendar/src/useCalendarBase.ts)\n * to work with Reakit System\n */\nimport { useCallback } from \"react\";\nimport { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\nimport { callAllHandlers } from \"@chakra-ui/utils\";\n\nimport { createComponent, createHook } from \"../system\";\nimport {\n  ariaAttr,\n  dataAttr,\n  getDaysInMonth,\n  isSameDay,\n  isWeekend,\n} from \"../utils\";\n\nimport { CALENDAR_CELL_KEYS } from \"./__keys\";\nimport { CalendarStateReturn } from \"./CalendarState\";\nimport { RangeCalendarStateReturn } from \"./RangeCalendarState\";\n\nexport const useCalendarCell = createHook<\n  CalendarCellOptions,\n  CalendarCellHTMLProps\n>({\n  name: \"CalendarCell\",\n  compose: useRole,\n  keys: CALENDAR_CELL_KEYS,\n\n  useProps(options, { onMouseEnter: htmlOnMouseEnter, ...htmlProps }) {\n    const { isDisabled, highlightDate, date } = options;\n    const onMouseEnter = useCallback(() => {\n      if (isDisabled) return;\n\n      highlightDate?.(date);\n    }, [date, highlightDate, isDisabled]);\n\n    return {\n      role: \"gridcell\",\n      \"data-weekend\": dataAttr(isWeekend(date)),\n      onMouseEnter: options.isRangeCalendar\n        ? callAllHandlers(htmlOnMouseEnter, onMouseEnter)\n        : htmlOnMouseEnter,\n      ...getCalendarCellProps(options),\n      ...htmlProps,\n    };\n  },\n});\n\nexport const CalendarCell = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useCalendarCell,\n});\n\nconst getCalendarCellProps = (options: CalendarCellOptions) => {\n  const { date, dateValue, highlightedRange, currentMonth } = options;\n\n  if (options.isRangeCalendar) {\n    const isSelected = highlightedRange\n      ? date >= highlightedRange.start && date <= highlightedRange.end\n      : false;\n\n    const isRangeStart = isSelected && date.getDate() === 1;\n    const isRangeEnd =\n      isSelected && date.getDate() === getDaysInMonth(currentMonth);\n    const isSelectionStart = highlightedRange\n      ? isSameDay(date, highlightedRange.start)\n      : false;\n    const isSelectionEnd = highlightedRange\n      ? isSameDay(date, highlightedRange.end)\n      : false;\n\n    return {\n      \"aria-selected\": ariaAttr(isSelected),\n      \"data-is-range-selection\": dataAttr(isSelected),\n      \"data-is-range-end\": dataAttr(isRangeEnd),\n      \"data-is-range-start\": dataAttr(isRangeStart),\n      \"data-is-selection-end\": dataAttr(isSelectionEnd),\n      \"data-is-selection-start\": dataAttr(isSelectionStart),\n    };\n  }\n\n  const isSelected = dateValue ? isSameDay(date, dateValue) : false;\n\n  return {\n    \"aria-selected\": ariaAttr(isSelected),\n  };\n};\n\nexport type CalendarCellOptions = RoleOptions &\n  Pick<\n    CalendarStateReturn,\n    \"dateValue\" | \"isDisabled\" | \"currentMonth\" | \"isRangeCalendar\"\n  > &\n  Partial<\n    Pick<RangeCalendarStateReturn, \"highlightDate\" | \"highlightedRange\">\n  > & {\n    date: Date;\n  };\n\nexport type CalendarCellHTMLProps = RoleHTMLProps;\n\nexport type CalendarCellProps = CalendarCellOptions & CalendarCellHTMLProps;\n", "/**\n * All credit goes to [React Spectrum](https://github.com/adobe/react-spectrum)\n * We improved the Calendar from Aria [useCalendarBase](https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/calendar/src/useCalendarBase.ts)\n * to work with Reakit System\n */\nimport * as React from \"react\";\nimport { ButtonHTMLProps, ButtonOptions, useButton } from \"reakit\";\nimport { ensureFocus, useForkRef } from \"reakit-utils\";\nimport { callAllHandlers } from \"@chakra-ui/utils\";\nimport { useDateFormatter } from \"@react-aria/i18n\";\n\nimport { createComponent, createHook } from \"../system\";\nimport { isSameDay } from \"../utils\";\n\nimport { CALENDAR_CELL_BUTTON_KEYS } from \"./__keys\";\nimport { CalendarStateReturn } from \"./CalendarState\";\nimport { RangeCalendarStateReturn } from \"./RangeCalendarState\";\n\nexport const useCalendarCellButton = createHook<\n  CalendarCellButtonOptions,\n  CalendarCellButtonHTMLProps\n>({\n  name: \"CalendarCellButton\",\n  compose: useButton,\n  keys: CALENDAR_CELL_BUTTON_KEYS,\n\n  useOptions(options, { disabled }) {\n    const {\n      isDisabled: isDisabledOption,\n      date,\n      month,\n      isInvalidDateRange,\n    } = options;\n    const isCurrentMonth = date.getMonth() === month;\n    const isDisabled =\n      isDisabledOption || !isCurrentMonth || isInvalidDateRange(date);\n    const truelyDisabled = disabled || isDisabled;\n\n    return { disabled: truelyDisabled, ...options };\n  },\n\n  useProps(\n    options,\n    { onFocus: htmlOnFocus, onClick: htmlOnClick, ref: htmlRef, ...htmlProps },\n  ) {\n    const {\n      date,\n      disabled,\n      dateValue,\n      selectDate,\n      anchorDate,\n      focusedDate,\n      isDisabled,\n      setFocusedDate,\n      isFocused: isFocusedOption,\n    } = options;\n\n    const ref = React.useRef<HTMLElement>(null);\n    const isSelected = dateValue ? isSameDay(date, dateValue) : false;\n    const isFocused =\n      isFocusedOption && focusedDate && isSameDay(date, focusedDate);\n    const isToday = isSameDay(date, new Date());\n\n    // Focus the button in the DOM when the state updates.\n    React.useEffect(() => {\n      if (isFocused && ref.current) {\n        ensureFocus(ref.current);\n      }\n    }, [date, focusedDate, isFocused, ref]);\n\n    const onClick = React.useCallback(() => {\n      if (disabled) return;\n\n      selectDate(date);\n      setFocusedDate(date);\n    }, [date, disabled, selectDate, setFocusedDate]);\n\n    const onFocus = React.useCallback(() => {\n      if (disabled) return;\n\n      setFocusedDate(date);\n    }, [date, disabled, setFocusedDate]);\n\n    const dateFormatter = useDateFormatter({\n      weekday: \"long\",\n      day: \"numeric\",\n      month: \"long\",\n      year: \"numeric\",\n    });\n\n    // aria-label should be localize Day of week, Month, Day and Year without Time.\n    function getAriaLabel() {\n      let ariaLabel = dateFormatter.format(date);\n      const isTodayLabel = isToday ? \"Today, \" : \"\";\n      const isSelctedLabel = isSelected ? \" selected\" : \"\";\n      ariaLabel = `${isTodayLabel}${ariaLabel}${isSelctedLabel}`;\n\n      // When a cell is focused and this is a range calendar, add a prompt to help\n      // screenreader users know that they are in a range selection mode.\n      if (options.isRangeCalendar && isFocused && !isDisabled) {\n        let rangeSelectionPrompt = \"\";\n\n        // If selection has started add \"click to finish selecting range\"\n        if (anchorDate) {\n          rangeSelectionPrompt = \"click to finish selecting range\";\n          // Otherwise, add \"click to start selecting range\" prompt\n        } else {\n          rangeSelectionPrompt = \"click to start selecting range\";\n        }\n\n        // Append to aria-label\n        if (rangeSelectionPrompt) {\n          ariaLabel = `${ariaLabel} (${rangeSelectionPrompt})`;\n        }\n      }\n\n      return ariaLabel;\n    }\n\n    return {\n      children: useDateFormatter({ day: \"numeric\" }).format(date),\n      \"aria-label\": getAriaLabel(),\n      tabIndex: !disabled ? (isSameDay(date, focusedDate) ? 0 : -1) : undefined,\n      ref: useForkRef(ref, htmlRef),\n      onClick: callAllHandlers(htmlOnClick, onClick),\n      onFocus: callAllHandlers(htmlOnFocus, onFocus),\n      ...htmlProps,\n    };\n  },\n});\n\nexport const CalendarCellButton = createComponent({\n  as: \"span\",\n  memo: true,\n  useHook: useCalendarCellButton,\n});\n\nexport type CalendarCellButtonOptions = ButtonOptions &\n  Partial<Pick<RangeCalendarStateReturn, \"anchorDate\">> &\n  Pick<\n    CalendarStateReturn,\n    | \"focusedDate\"\n    | \"selectDate\"\n    | \"setFocusedDate\"\n    | \"isDisabled\"\n    | \"month\"\n    | \"dateValue\"\n    | \"isFocused\"\n    | \"isRangeCalendar\"\n    | \"isInvalidDateRange\"\n  > & {\n    date: Date;\n  };\n\nexport type CalendarCellButtonHTMLProps = ButtonHTMLProps;\n\nexport type CalendarCellButtonProps = CalendarCellButtonOptions &\n  CalendarCellButtonHTMLProps;\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nexport {SSRProvider, useSSRSafeId, useIsSSR} from './SSRProvider';\nexport type {SSRProviderProps} from './SSRProvider';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// We must avoid a circular dependency with @react-aria/utils, and this useLayoutEffect is\n// guarded by a check that it only runs on the client side.\n// eslint-disable-next-line rulesdir/useLayoutEffectRule\nimport React, {ReactNode, useContext, useLayoutEffect, useMemo, useState} from 'react';\n\n// To support SSR, the auto incrementing id counter is stored in a context. This allows\n// it to be reset on every request to ensure the client and server are consistent.\n// There is also a prefix string that is used to support async loading components\n// Each async boundary must be wrapped in an SSR provider, which appends to the prefix\n// and resets the current id counter. This ensures that async loaded components have\n// consistent ids regardless of the loading order.\ninterface SSRContextValue {\n  prefix: string,\n  current: number\n}\n\n// Default context value to use in case there is no SSRProvider. This is fine for\n// client-only apps. In order to support multiple copies of React Aria potentially\n// being on the page at once, the prefix is set to a random number. SSRProvider\n// will reset this to zero for consistency between server and client, so in the\n// SSR case multiple copies of React Aria is not supported.\nconst defaultContext: SSRContextValue = {\n  prefix: String(Math.round(Math.random() * 10000000000)),\n  current: 0\n};\n\nconst SSRContext = React.createContext<SSRContextValue>(defaultContext);\n\nexport interface SSRProviderProps {\n  /** Your application here. */\n  children: ReactNode\n}\n\n/**\n * When using SSR with React Aria, applications must be wrapped in an SSRProvider.\n * This ensures that auto generated ids are consistent between the client and server.\n */\nexport function SSRProvider(props: SSRProviderProps): JSX.Element {\n  let cur = useContext(SSRContext);\n  let value: SSRContextValue = useMemo(() => ({\n    // If this is the first SSRProvider, start with an empty string prefix, otherwise\n    // append and increment the counter.\n    prefix: cur === defaultContext ? '' : `${cur.prefix}-${++cur.current}`,\n    current: 0\n  }), [cur]);\n\n  return (\n    <SSRContext.Provider value={value}>\n      {props.children}\n    </SSRContext.Provider>\n  );\n}\n\nlet canUseDOM = Boolean(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\n/** @private */\nexport function useSSRSafeId(defaultId?: string): string {\n  let ctx = useContext(SSRContext);\n\n  // If we are rendering in a non-DOM environment, and there's no SSRProvider,\n  // provide a warning to hint to the developer to add one.\n  if (ctx === defaultContext && !canUseDOM) {\n    console.warn('When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.');\n  }\n\n  return useMemo(() => defaultId || `react-aria${ctx.prefix}-${++ctx.current}`, [defaultId]);\n}\n\n/**\n * Returns whether the component is currently being server side rendered or\n * hydrated on the client. Can be used to delay browser-specific rendering\n * until after hydration.\n */\nexport function useIsSSR(): boolean {\n  let cur = useContext(SSRContext);\n  let isInSSRContext = cur !== defaultContext;\n  let [isSSR, setIsSSR] = useState(isInSSRContext);\n\n  // If on the client, and the component was initially server rendered,\n  // then schedule a layout effect to update the component after hydration.\n  if (typeof window !== 'undefined' && isInSSRContext) {\n    // This if statement technically breaks the rules of hooks, but is safe\n    // because the condition never changes after mounting.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(() => {\n      setIsSSR(false);\n    }, []);\n  }\n\n  return isSSR;\n}\n", "/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport type {Variables, LocalizedString} from './LocalizedStringFormatter';\nexport type {LocalizedStrings} from './LocalizedStringDictionary';\nexport {LocalizedStringDictionary} from './LocalizedStringDictionary';\nexport {LocalizedStringFormatter} from './LocalizedStringFormatter';\n", "/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport type {LocalizedString} from './LocalizedStringFormatter';\n\nexport type LocalizedStrings<K extends string, T extends LocalizedString> = {\n  [lang: string]: Record<K, T>\n};\n\n/**\n * Stores a mapping of localized strings. Can be used to find the\n * closest available string for a given locale.\n */\nexport class LocalizedStringDictionary<K extends string = string, T extends LocalizedString = string> {\n  private strings: LocalizedStrings<K, T>;\n  private defaultLocale: string;\n\n  constructor(messages: LocalizedStrings<K, T>, defaultLocale: string = 'en-US') {\n    // Clone messages so we don't modify the original object.\n    this.strings = {...messages};\n    this.defaultLocale = defaultLocale;\n  }\n\n  /** Returns a localized string for the given key and locale. */\n  getStringForLocale(key: K, locale: string): T {\n    let strings = this.strings[locale];\n    if (!strings) {\n      strings = getStringsForLocale(locale, this.strings, this.defaultLocale);\n      this.strings[locale] = strings;\n    }\n\n    let string = strings[key];\n    if (!string) {\n      throw new Error(`Could not find intl message ${key} in ${locale} locale`);\n    }\n\n    return string;\n  }\n}\n\nfunction getStringsForLocale<K extends string, T extends LocalizedString>(locale: string, strings: LocalizedStrings<K, T>, defaultLocale = 'en-US') {\n  // If there is an exact match, use it.\n  if (strings[locale]) {\n    return strings[locale];\n  }\n\n  // Attempt to find the closest match by language.\n  // For example, if the locale is fr-CA (French Canadian), but there is only\n  // an fr-FR (France) set of strings, use that.\n  // This could be replaced with Intl.LocaleMatcher once it is supported.\n  // https://github.com/tc39/proposal-intl-localematcher\n  let language = getLanguage(locale);\n  if (strings[language]) {\n    return strings[language];\n  }\n\n  for (let key in strings) {\n    if (key.startsWith(language + '-')) {\n      return strings[key];\n    }\n  }\n\n  // Nothing close, use english.\n  return strings[defaultLocale];\n}\n\nfunction getLanguage(locale: string) {\n  // @ts-ignore\n  if (Intl.Locale) {\n    // @ts-ignore\n    return new Intl.Locale(locale).language;\n  }\n\n  return locale.split('-')[0];\n}\n", "/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport type {LocalizedStringDictionary} from './LocalizedStringDictionary';\n\nexport type Variables = Record<string, string | number | boolean> | undefined;\nexport type LocalizedString = string | ((args: Variables, formatter?: LocalizedStringFormatter<any, any>) => string);\ntype InternalString = string | (() => string);\n\nconst pluralRulesCache = new Map<string, Intl.PluralRules>();\nconst numberFormatCache = new Map<string, Intl.NumberFormat>();\n\n/**\n * Formats localized strings from a LocalizedStringDictionary. Supports interpolating variables,\n * selecting the correct pluralization, and formatting numbers for the locale.\n */\nexport class LocalizedStringFormatter<K extends string = string, T extends LocalizedString = string> {\n  private locale: string;\n  private strings: LocalizedStringDictionary<K, T>;\n\n  constructor(locale: string, strings: LocalizedStringDictionary<K, T>) {\n    this.locale = locale;\n    this.strings = strings;\n  }\n\n  /** Formats a localized string for the given key with the provided variables. */\n  format(key: K, variables?: Variables): string {\n    let message = this.strings.getStringForLocale(key, this.locale);\n    return typeof message === 'function' ? message(variables, this) : message;\n  }\n\n  protected plural(count: number, options: Record<string, InternalString>, type: Intl.PluralRuleType = 'cardinal') {\n    let opt = options['=' + count];\n    if (opt) {\n      return typeof opt === 'function' ? opt() : opt;\n    }\n\n    let key = this.locale + ':' + type;\n    let pluralRules = pluralRulesCache.get(key);\n    if (!pluralRules) {\n      pluralRules = new Intl.PluralRules(this.locale, {type});\n      pluralRulesCache.set(key, pluralRules);\n    }\n\n    let selected = pluralRules.select(count);\n    opt = options[selected] || options.other;\n    return typeof opt === 'function' ? opt() : opt;\n  }\n\n  protected number(value: number) {\n    let numberFormat = numberFormatCache.get(this.locale);\n    if (!numberFormat) {\n      numberFormat = new Intl.NumberFormat(this.locale);\n      numberFormatCache.set(this.locale, numberFormat);\n    }\n    return numberFormat.format(value);\n  }\n\n  protected select(options: Record<string, InternalString>, value: string) {\n    let opt = options[value] || options.other;\n    return typeof opt === 'function' ? opt() : opt;\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport type {\n  AnyCalendarDate,\n  AnyTime,\n  AnyDateTime,\n  Calendar,\n  DateDuration,\n  TimeDuration,\n  DateTimeDuration,\n  DateFields,\n  TimeFields,\n  DateField,\n  TimeField,\n  Disambiguation,\n  CycleOptions,\n  CycleTimeOptions\n} from './types';\n\nexport {CalendarDate, CalendarDateTime, Time, ZonedDateTime} from './CalendarDate';\nexport {GregorianCalendar} from './calendars/GregorianCalendar';\nexport {JapaneseCalendar} from './calendars/JapaneseCalendar';\nexport {BuddhistCalendar} from './calendars/BuddhistCalendar';\nexport {TaiwanCalendar} from './calendars/TaiwanCalendar';\nexport {PersianCalendar} from './calendars/PersianCalendar';\nexport {IndianCalendar} from './calendars/IndianCalendar';\nexport {IslamicCivilCalendar, IslamicTabularCalendar, IslamicUmalquraCalendar} from './calendars/IslamicCalendar';\nexport {HebrewCalendar} from './calendars/HebrewCalendar';\nexport {EthiopicCalendar, EthiopicAmeteAlemCalendar, CopticCalendar} from './calendars/EthiopicCalendar';\nexport {createCalendar} from './createCalendar';\nexport {toCalendarDate, toCalendarDateTime, toTime, toCalendar, toZoned, toTimeZone, toLocalTimeZone} from './conversion';\nexport {\n  isSameDay,\n  isSameMonth,\n  isSameYear,\n  isEqualDay,\n  isEqualMonth,\n  isEqualYear,\n  isToday,\n  getDayOfWeek,\n  now,\n  today,\n  getHoursInDay,\n  getLocalTimeZone,\n  startOfMonth,\n  startOfWeek,\n  startOfYear,\n  endOfMonth,\n  endOfWeek,\n  endOfYear,\n  getMinimumMonthInYear,\n  getMinimumDayInMonth,\n  getWeeksInMonth,\n  minDate,\n  maxDate,\n  isWeekend,\n  isWeekday\n} from './queries';\nexport {\n  parseDate,\n  parseDateTime,\n  parseTime,\n  parseAbsolute,\n  parseAbsoluteToLocal,\n  parseZonedDateTime\n} from './string';\nexport {DateFormatter} from './DateFormatter';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {add, addTime, addZoned, constrain, constrainTime, cycleDate, cycleTime, cycleZoned, set, setTime, setZoned, subtract, subtractTime, subtractZoned} from './manipulation';\nimport {AnyCalendarDate, AnyTime, Calendar, CycleOptions, CycleTimeOptions, DateDuration, DateField, DateFields, DateTimeDuration, Disambiguation, TimeDuration, TimeField, TimeFields} from './types';\nimport {compareDate, compareTime} from './queries';\nimport {dateTimeToString, dateToString, timeToString, zonedDateTimeToString} from './string';\nimport {GregorianCalendar} from './calendars/GregorianCalendar';\nimport {toCalendarDateTime, toDate, toZoned, zonedToDate} from './conversion';\n\nfunction shiftArgs(args: any[]) {\n  let calendar: Calendar = typeof args[0] === 'object'\n    ? args.shift()\n    : new GregorianCalendar();\n\n  let era: string;\n  if (typeof args[0] === 'string') {\n    era = args.shift();\n  } else {\n    let eras = calendar.getEras();\n    era = eras[eras.length - 1];\n  }\n\n  let year = args.shift();\n  let month = args.shift();\n  let day = args.shift();\n\n  return [calendar, era, year, month, day];\n}\n\n/** A CalendarDate represents a date without any time components in a specific calendar system. */\nexport class CalendarDate {\n  // This prevents TypeScript from allowing other types with the same fields to match.\n  // i.e. a ZonedDateTime should not be be passable to a parameter that expects CalendarDate.\n  // If that behavior is desired, use the AnyCalendarDate interface instead.\n  #type;\n  /** The calendar system associated with this date, e.g. Gregorian. */\n  public readonly calendar: Calendar;\n  /** The calendar era for this date, e.g. \"BC\" or \"AD\". */\n  public readonly era: string;\n  /** The year of this date within the era. */\n  public readonly year: number;\n  /**\n   * The month number within the year. Note that some calendar systems such as Hebrew\n   * may have a variable number of months per year. Therefore, month numbers may not\n   * always correspond to the same month names in different years.\n   */\n  public readonly month: number;\n  /** The day number within the month. */\n  public readonly day: number;\n\n  constructor(year: number, month: number, day: number);\n  constructor(era: string, year: number, month: number, day: number);\n  constructor(calendar: Calendar, year: number, month: number, day: number);\n  constructor(calendar: Calendar, era: string, year: number, month: number, day: number);\n  constructor(...args: any[]) {\n    let [calendar, era, year, month, day] = shiftArgs(args);\n    this.calendar = calendar;\n    this.era = era;\n    this.year = year;\n    this.month = month;\n    this.day = day;\n\n    constrain(this);\n  }\n\n  /** Returns a copy of this date. */\n  copy(): CalendarDate {\n    if (this.era) {\n      return new CalendarDate(this.calendar, this.era, this.year, this.month, this.day);\n    } else {\n      return new CalendarDate(this.calendar, this.year, this.month, this.day);\n    }\n  }\n\n  /** Returns a new `CalendarDate` with the given duration added to it. */\n  add(duration: DateDuration): CalendarDate {\n    return add(this, duration);\n  }\n\n  /** Returns a new `CalendarDate` with the given duration subtracted from it. */\n  subtract(duration: DateDuration): CalendarDate {\n    return subtract(this, duration);\n  }\n\n  /** Returns a new `CalendarDate` with the given fields set to the provided values. Other fields will be constrained accordingly. */\n  set(fields: DateFields): CalendarDate {\n    return set(this, fields);\n  }\n\n  /**\n   * Returns a new `CalendarDate` with the given field adjusted by a specified amount.\n   * When the resulting value reaches the limits of the field, it wraps around.\n   */\n  cycle(field: DateField, amount: number, options?: CycleOptions): CalendarDate {\n    return cycleDate(this, field, amount, options);\n  }\n\n  /** Converts the date to a native JavaScript Date object, with the time set to midnight in the given time zone. */\n  toDate(timeZone: string): Date {\n    return toDate(this, timeZone);\n  }\n\n  /** Converts the date to an ISO 8601 formatted string. */\n  toString(): string {\n    return dateToString(this);\n  }\n\n  /** Compares this date with another. A negative result indicates that this date is before the given one, and a positive date indicates that it is after. */\n  compare(b: AnyCalendarDate): number {\n    return compareDate(this, b);\n  }\n}\n\n/** A Time represents a clock time without any date components. */\nexport class Time {\n  // This prevents TypeScript from allowing other types with the same fields to match.\n  #type;\n  /** The hour, numbered from 0 to 23. */\n  public readonly hour: number;\n  /** The minute in the hour. */\n  public readonly minute: number;\n  /** The second in the minute. */\n  public readonly second: number;\n  /** The millisecond in the second. */\n  public readonly millisecond: number;\n\n  constructor(\n    hour: number = 0,\n    minute: number = 0,\n    second: number = 0,\n    millisecond: number = 0\n  ) {\n    this.hour = hour;\n    this.minute = minute;\n    this.second = second;\n    this.millisecond = millisecond;\n    constrainTime(this);\n  }\n\n  /** Returns a copy of this time. */\n  copy(): Time {\n    return new Time(this.hour, this.minute, this.second, this.millisecond);\n  }\n\n  /** Returns a new `Time` with the given duration added to it. */\n  add(duration: TimeDuration) {\n    return addTime(this, duration);\n  }\n\n  /** Returns a new `Time` with the given duration subtracted from it. */\n  subtract(duration: TimeDuration) {\n    return subtractTime(this, duration);\n  }\n\n  /** Returns a new `Time` with the given fields set to the provided values. Other fields will be constrained accordingly. */\n  set(fields: TimeFields) {\n    return setTime(this, fields);\n  }\n\n  /**\n   * Returns a new `Time` with the given field adjusted by a specified amount.\n   * When the resulting value reaches the limits of the field, it wraps around.\n   */\n  cycle(field: TimeField, amount: number, options?: CycleTimeOptions) {\n    return cycleTime(this, field, amount, options);\n  }\n\n  /** Converts the time to an ISO 8601 formatted string. */\n  toString() {\n    return timeToString(this);\n  }\n\n  /** Compares this time with another. A negative result indicates that this time is before the given one, and a positive time indicates that it is after. */\n  compare(b: AnyTime) {\n    return compareTime(this, b);\n  }\n}\n\n/** A CalendarDateTime represents a date and time without a time zone, in a specific calendar system. */\nexport class CalendarDateTime {\n  // This prevents TypeScript from allowing other types with the same fields to match.\n  #type;\n  /** The calendar system associated with this date, e.g. Gregorian. */\n  public readonly calendar: Calendar;\n  /** The calendar era for this date, e.g. \"BC\" or \"AD\". */\n  public readonly era: string;\n  /** The year of this date within the era. */\n  public readonly year: number;\n  /**\n   * The month number within the year. Note that some calendar systems such as Hebrew\n   * may have a variable number of months per year. Therefore, month numbers may not\n   * always correspond to the same month names in different years.\n   */\n  public readonly month: number;\n  /** The day number within the month. */\n  public readonly day: number;\n  /** The hour in the day, numbered from 0 to 23. */\n  public readonly hour: number;\n  /** The minute in the hour. */\n  public readonly minute: number;\n  /** The second in the minute. */\n  public readonly second: number;\n  /** The millisecond in the second. */\n  public readonly millisecond: number;\n\n  constructor(year: number, month: number, day: number, hour?: number, minute?: number, second?: number, millisecond?: number);\n  constructor(era: string, year: number, month: number, day: number, hour?: number, minute?: number, second?: number, millisecond?: number);\n  constructor(calendar: Calendar, year: number, month: number, day: number, hour?: number, minute?: number, second?: number, millisecond?: number);\n  constructor(calendar: Calendar, era: string, year: number, month: number, day: number, hour?: number, minute?: number, second?: number, millisecond?: number);\n  constructor(...args: any[]) {\n    let [calendar, era, year, month, day] = shiftArgs(args);\n    this.calendar = calendar;\n    this.era = era;\n    this.year = year;\n    this.month = month;\n    this.day = day;\n    this.hour = args.shift() || 0;\n    this.minute = args.shift() || 0;\n    this.second = args.shift() || 0;\n    this.millisecond = args.shift() || 0;\n\n    constrain(this);\n  }\n\n  /** Returns a copy of this date. */\n  copy(): CalendarDateTime {\n    if (this.era) {\n      return new CalendarDateTime(this.calendar, this.era, this.year, this.month, this.day, this.hour, this.minute, this.second, this.millisecond);\n    } else {\n      return new CalendarDateTime(this.calendar, this.year, this.month, this.day, this.hour, this.minute, this.second, this.millisecond);\n    }\n  }\n\n  /** Returns a new `CalendarDateTime` with the given duration added to it. */\n  add(duration: DateTimeDuration): CalendarDateTime {\n    return add(this, duration);\n  }\n\n  /** Returns a new `CalendarDateTime` with the given duration subtracted from it. */\n  subtract(duration: DateTimeDuration): CalendarDateTime {\n    return subtract(this, duration);\n  }\n\n  /** Returns a new `CalendarDateTime` with the given fields set to the provided values. Other fields will be constrained accordingly. */\n  set(fields: DateFields & TimeFields): CalendarDateTime {\n    return set(setTime(this, fields), fields);\n  }\n\n  /**\n   * Returns a new `CalendarDateTime` with the given field adjusted by a specified amount.\n   * When the resulting value reaches the limits of the field, it wraps around.\n   */\n  cycle(field: DateField | TimeField, amount: number, options?: CycleTimeOptions): CalendarDateTime {\n    switch (field) {\n      case 'era':\n      case 'year':\n      case 'month':\n      case 'day':\n        return cycleDate(this, field, amount, options);\n      default:\n        return cycleTime(this, field, amount, options);\n    }\n  }\n\n  /** Converts the date to a native JavaScript Date object in the given time zone. */\n  toDate(timeZone: string, disambiguation?: Disambiguation): Date {\n    return toDate(this, timeZone, disambiguation);\n  }\n\n  /** Converts the date to an ISO 8601 formatted string. */\n  toString(): string {\n    return dateTimeToString(this);\n  }\n\n  /** Compares this date with another. A negative result indicates that this date is before the given one, and a positive date indicates that it is after. */\n  compare(b: CalendarDate | CalendarDateTime | ZonedDateTime): number {\n    let res = compareDate(this, b);\n    if (res === 0) {\n      return compareTime(this, toCalendarDateTime(b));\n    }\n\n    return res;\n  }\n}\n\n/** A ZonedDateTime represents a date and time in a specific time zone and calendar system. */\nexport class ZonedDateTime {\n  // This prevents TypeScript from allowing other types with the same fields to match.\n  #type;\n  /** The calendar system associated with this date, e.g. Gregorian. */\n  public readonly calendar: Calendar;\n  /** The calendar era for this date, e.g. \"BC\" or \"AD\". */\n  public readonly era: string;\n  /** The year of this date within the era. */\n  public readonly year: number;\n  /**\n   * The month number within the year. Note that some calendar systems such as Hebrew\n   * may have a variable number of months per year. Therefore, month numbers may not\n   * always correspond to the same month names in different years.\n   */\n  public readonly month: number;\n  /** The day number within the month. */\n  public readonly day: number;\n  /** The hour in the day, numbered from 0 to 23. */\n  public readonly hour: number;\n  /** The minute in the hour. */\n  public readonly minute: number;\n  /** The second in the minute. */\n  public readonly second: number;\n  /** The millisecond in the second. */\n  public readonly millisecond: number;\n  /** The IANA time zone identifier that this date and time is represented in. */\n  public readonly timeZone: string;\n  /** The UTC offset for this time, in seconds. */\n  public readonly offset: number;\n\n  constructor(year: number, month: number, day: number, timeZone: string, offset: number, hour?: number, minute?: number, second?: number, millisecond?: number);\n  constructor(era: string, year: number, month: number, day: number, timeZone: string, offset: number, hour?: number, minute?: number, second?: number, millisecond?: number);\n  constructor(calendar: Calendar, year: number, month: number, day: number, timeZone: string, offset: number, hour?: number, minute?: number, second?: number, millisecond?: number);\n  constructor(calendar: Calendar, era: string, year: number, month: number, day: number, timeZone: string, offset: number, hour?: number, minute?: number, second?: number, millisecond?: number);\n  constructor(...args: any[]) {\n    let [calendar, era, year, month, day] = shiftArgs(args);\n    let timeZone = args.shift();\n    let offset = args.shift();\n    this.calendar = calendar;\n    this.era = era;\n    this.year = year;\n    this.month = month;\n    this.day = day;\n    this.timeZone = timeZone;\n    this.offset = offset;\n    this.hour = args.shift() || 0;\n    this.minute = args.shift() || 0;\n    this.second = args.shift() || 0;\n    this.millisecond = args.shift() || 0;\n\n    constrain(this);\n  }\n\n  /** Returns a copy of this date. */\n  copy(): ZonedDateTime {\n    if (this.era) {\n      return new ZonedDateTime(this.calendar, this.era, this.year, this.month, this.day, this.timeZone, this.offset, this.hour, this.minute, this.second, this.millisecond);\n    } else {\n      return new ZonedDateTime(this.calendar, this.year, this.month, this.day, this.timeZone, this.offset, this.hour, this.minute, this.second, this.millisecond);\n    }\n  }\n\n  /** Returns a new `ZonedDateTime` with the given duration added to it. */\n  add(duration: DateTimeDuration) {\n    return addZoned(this, duration);\n  }\n\n  /** Returns a new `ZonedDateTime` with the given duration subtracted from it. */\n  subtract(duration: DateTimeDuration) {\n    return subtractZoned(this, duration);\n  }\n\n  /** Returns a new `ZonedDateTime` with the given fields set to the provided values. Other fields will be constrained accordingly. */\n  set(fields: DateFields & TimeFields, disambiguation?: Disambiguation) {\n    return setZoned(this, fields, disambiguation);\n  }\n\n  /**\n   * Returns a new `ZonedDateTime` with the given field adjusted by a specified amount.\n   * When the resulting value reaches the limits of the field, it wraps around.\n   */\n  cycle(field: DateField | TimeField, amount: number, options?: CycleTimeOptions) {\n    return cycleZoned(this, field, amount, options);\n  }\n\n  /** Converts the date to a native JavaScript Date object. */\n  toDate() {\n    return zonedToDate(this);\n  }\n\n   /** Converts the date to an ISO 8601 formatted string, including the UTC offset and time zone identifier. */\n  toString() {\n    return zonedDateTimeToString(this);\n  }\n\n   /** Converts the date to an ISO 8601 formatted string in UTC. */\n  toAbsoluteString() {\n    return this.toDate().toISOString();\n  }\n\n  /** Compares this date with another. A negative result indicates that this date is before the given one, and a positive date indicates that it is after. */\n  compare(b: CalendarDate | CalendarDateTime | ZonedDateTime) {\n    // TODO: Is this a bad idea??\n    return this.toDate().getTime() - toZoned(b, this.timeZone).toDate().getTime();\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AnyCalendarDate, AnyDateTime, AnyTime, CycleOptions, CycleTimeOptions, DateDuration, DateField, DateFields, DateTimeDuration, Disambiguation, TimeDuration, TimeField, TimeFields} from './types';\nimport {CalendarDate, CalendarDateTime, Time, ZonedDateTime} from './CalendarDate';\nimport {epochFromDate, fromAbsolute, toAbsolute, toCalendar, toCalendarDateTime} from './conversion';\nimport {GregorianCalendar} from './calendars/GregorianCalendar';\nimport {Mutable} from './utils';\n\nconst ONE_HOUR = 3600000;\n\nexport function add(date: CalendarDateTime, duration: DateTimeDuration): CalendarDateTime;\nexport function add(date: CalendarDate, duration: DateDuration): CalendarDate;\nexport function add(date: CalendarDate | CalendarDateTime, duration: DateTimeDuration): CalendarDate | CalendarDateTime;\nexport function add(date: CalendarDate | CalendarDateTime, duration: DateTimeDuration) {\n  let mutableDate: Mutable<AnyCalendarDate | AnyDateTime> = date.copy();\n  let days = 'hour' in mutableDate ? addTimeFields(mutableDate, duration) : 0;\n\n  addYears(mutableDate, duration.years || 0);\n  if (mutableDate.calendar.balanceYearMonth) {\n    mutableDate.calendar.balanceYearMonth(mutableDate, date);\n  }\n\n  mutableDate.month += duration.months || 0;\n\n  balanceYearMonth(mutableDate);\n  constrainMonthDay(mutableDate);\n\n  mutableDate.day += (duration.weeks || 0) * 7;\n  mutableDate.day += duration.days || 0;\n  mutableDate.day += days;\n\n  balanceDay(mutableDate);\n\n  if (mutableDate.calendar.balanceDate) {\n    mutableDate.calendar.balanceDate(mutableDate);\n  }\n\n  // Constrain in case adding ended up with a date outside the valid range for the calendar system.\n  // The behavior here is slightly different than when constraining in the `set` function in that\n  // we adjust smaller fields to their minimum/maximum values rather than constraining each field\n  // individually. This matches the general behavior of `add` vs `set` regarding how fields are balanced.\n  if (mutableDate.year < 1) {\n    mutableDate.year = 1;\n    mutableDate.month = 1;\n    mutableDate.day = 1;\n  }\n\n  let maxYear = mutableDate.calendar.getYearsInEra(mutableDate);\n  if (mutableDate.year > maxYear) {\n    let isInverseEra = mutableDate.calendar.isInverseEra?.(mutableDate);\n    mutableDate.year = maxYear;\n    mutableDate.month = isInverseEra ? 1 : mutableDate.calendar.getMonthsInYear(mutableDate);\n    mutableDate.day = isInverseEra ? 1 : mutableDate.calendar.getDaysInMonth(mutableDate);\n  }\n\n  if (mutableDate.month < 1) {\n    mutableDate.month = 1;\n    mutableDate.day = 1;\n  }\n\n  let maxMonth = mutableDate.calendar.getMonthsInYear(mutableDate);\n  if (mutableDate.month > maxMonth) {\n    mutableDate.month = maxMonth;\n    mutableDate.day = mutableDate.calendar.getDaysInMonth(mutableDate);\n  }\n\n  mutableDate.day = Math.max(1, Math.min(mutableDate.calendar.getDaysInMonth(mutableDate), mutableDate.day));\n  return mutableDate;\n}\n\nfunction addYears(date: Mutable<AnyCalendarDate>, years: number) {\n  if (date.calendar.isInverseEra?.(date)) {\n    years = -years;\n  }\n\n  date.year += years;\n}\n\nfunction balanceYearMonth(date: Mutable<AnyCalendarDate>) {\n  while (date.month < 1) {\n    addYears(date, -1);\n    date.month += date.calendar.getMonthsInYear(date);\n  }\n\n  let monthsInYear = 0;\n  while (date.month > (monthsInYear = date.calendar.getMonthsInYear(date))) {\n    date.month -= monthsInYear;\n    addYears(date, 1);\n  }\n}\n\nfunction balanceDay(date: Mutable<AnyCalendarDate>) {\n  while (date.day < 1) {\n    date.month--;\n    balanceYearMonth(date);\n    date.day += date.calendar.getDaysInMonth(date);\n  }\n\n  while (date.day > date.calendar.getDaysInMonth(date)) {\n    date.day -= date.calendar.getDaysInMonth(date);\n    date.month++;\n    balanceYearMonth(date);\n  }\n}\n\nfunction constrainMonthDay(date: Mutable<AnyCalendarDate>) {\n  date.month = Math.max(1, Math.min(date.calendar.getMonthsInYear(date), date.month));\n  date.day = Math.max(1, Math.min(date.calendar.getDaysInMonth(date), date.day));\n}\n\nexport function constrain(date: Mutable<AnyCalendarDate>) {\n  if (date.calendar.constrainDate) {\n    date.calendar.constrainDate(date);\n  }\n\n  date.year = Math.max(1, Math.min(date.calendar.getYearsInEra(date), date.year));\n  constrainMonthDay(date);\n}\n\nexport function invertDuration(duration: DateTimeDuration): DateTimeDuration {\n  let inverseDuration = {};\n  for (let key in duration) {\n    if (typeof duration[key] === 'number') {\n      inverseDuration[key] = -duration[key];\n    }\n  }\n\n  return inverseDuration;\n}\n\nexport function subtract(date: CalendarDateTime, duration: DateTimeDuration): CalendarDateTime;\nexport function subtract(date: CalendarDate, duration: DateDuration): CalendarDate;\nexport function subtract(date: CalendarDate | CalendarDateTime, duration: DateTimeDuration): CalendarDate | CalendarDateTime {\n  return add(date, invertDuration(duration));\n}\n\nexport function set(date: CalendarDateTime, fields: DateFields): CalendarDateTime;\nexport function set(date: CalendarDate, fields: DateFields): CalendarDate;\nexport function set(date: CalendarDate | CalendarDateTime, fields: DateFields) {\n  let mutableDate: Mutable<AnyCalendarDate> = date.copy();\n\n  if (fields.era != null) {\n    mutableDate.era = fields.era;\n  }\n\n  if (fields.year != null) {\n    mutableDate.year = fields.year;\n  }\n\n  if (fields.month != null) {\n    mutableDate.month = fields.month;\n  }\n\n  if (fields.day != null) {\n    mutableDate.day = fields.day;\n  }\n\n  constrain(mutableDate);\n  return mutableDate;\n}\n\nexport function setTime(value: CalendarDateTime, fields: TimeFields): CalendarDateTime;\nexport function setTime(value: Time, fields: TimeFields): Time;\nexport function setTime(value: Time | CalendarDateTime, fields: TimeFields) {\n  let mutableValue: Mutable<Time | CalendarDateTime> = value.copy();\n\n  if (fields.hour != null) {\n    mutableValue.hour = fields.hour;\n  }\n\n  if (fields.minute != null) {\n    mutableValue.minute = fields.minute;\n  }\n\n  if (fields.second != null) {\n    mutableValue.second = fields.second;\n  }\n\n  if (fields.millisecond != null) {\n    mutableValue.millisecond = fields.millisecond;\n  }\n\n  constrainTime(mutableValue);\n  return mutableValue;\n}\n\nfunction balanceTime(time: Mutable<AnyTime>): number {\n  time.second += Math.floor(time.millisecond / 1000);\n  time.millisecond = nonNegativeMod(time.millisecond, 1000);\n\n  time.minute += Math.floor(time.second / 60);\n  time.second = nonNegativeMod(time.second, 60);\n\n  time.hour += Math.floor(time.minute / 60);\n  time.minute = nonNegativeMod(time.minute, 60);\n\n  let days = Math.floor(time.hour / 24);\n  time.hour = nonNegativeMod(time.hour, 24);\n\n  return days;\n}\n\nexport function constrainTime(time: Mutable<AnyTime>) {\n  time.millisecond = Math.max(0, Math.min(time.millisecond, 1000));\n  time.second = Math.max(0, Math.min(time.second, 59));\n  time.minute = Math.max(0, Math.min(time.minute, 59));\n  time.hour = Math.max(0, Math.min(time.hour, 23));\n}\n\nfunction nonNegativeMod(a: number, b: number) {\n  let result = a % b;\n  if (result < 0) {\n    result += b;\n  }\n  return result;\n}\n\nfunction addTimeFields(time: Mutable<AnyTime>, duration: TimeDuration): number {\n  time.hour += duration.hours || 0;\n  time.minute += duration.minutes || 0;\n  time.second += duration.seconds || 0;\n  time.millisecond += duration.milliseconds || 0;\n  return balanceTime(time);\n}\n\nexport function addTime(time: Time, duration: TimeDuration): Time {\n  let res = time.copy();\n  addTimeFields(res, duration);\n  return res;\n}\n\nexport function subtractTime(time: Time, duration: TimeDuration): Time {\n  return addTime(time, invertDuration(duration));\n}\n\nexport function cycleDate(value: CalendarDateTime, field: DateField, amount: number, options?: CycleOptions): CalendarDateTime;\nexport function cycleDate(value: CalendarDate, field: DateField, amount: number, options?: CycleOptions): CalendarDate;\nexport function cycleDate(value: CalendarDate | CalendarDateTime, field: DateField, amount: number, options?: CycleOptions) {\n  let mutable: Mutable<CalendarDate | CalendarDateTime> = value.copy();\n\n  switch (field) {\n    case 'era': {\n      let eras = value.calendar.getEras();\n      let eraIndex = eras.indexOf(value.era);\n      if (eraIndex < 0) {\n        throw new Error('Invalid era: ' + value.era);\n      }\n      eraIndex = cycleValue(eraIndex, amount, 0, eras.length - 1, options?.round);\n      mutable.era = eras[eraIndex];\n\n      // Constrain the year and other fields within the era, so the era doesn't change when we balance below.\n      constrain(mutable);\n      break;\n    }\n    case 'year': {\n      if (mutable.calendar.isInverseEra?.(mutable)) {\n        amount = -amount;\n      }\n\n      // The year field should not cycle within the era as that can cause weird behavior affecting other fields.\n      // We need to also allow values < 1 so that decrementing goes to the previous era. If we get -Infinity back\n      // we know we wrapped around after reaching 9999 (the maximum), so set the year back to 1.\n      mutable.year = cycleValue(value.year, amount, -Infinity, 9999, options?.round);\n      if (mutable.year === -Infinity) {\n        mutable.year = 1;\n      }\n\n      if (mutable.calendar.balanceYearMonth) {\n        mutable.calendar.balanceYearMonth(mutable, value);\n      }\n      break;\n    }\n    case 'month':\n      mutable.month = cycleValue(value.month, amount, 1, value.calendar.getMonthsInYear(value), options?.round);\n      break;\n    case 'day':\n      mutable.day = cycleValue(value.day, amount, 1, value.calendar.getDaysInMonth(value), options?.round);\n      break;\n    default:\n      throw new Error('Unsupported field ' + field);\n  }\n\n  if (value.calendar.balanceDate) {\n    value.calendar.balanceDate(mutable);\n  }\n\n  constrain(mutable);\n  return mutable;\n}\n\nexport function cycleTime(value: CalendarDateTime, field: TimeField, amount: number, options?: CycleTimeOptions): CalendarDateTime;\nexport function cycleTime(value: Time, field: TimeField, amount: number, options?: CycleTimeOptions): Time;\nexport function cycleTime(value: Time | CalendarDateTime, field: TimeField, amount: number, options?: CycleTimeOptions) {\n  let mutable: Mutable<Time | CalendarDateTime> = value.copy();\n\n  switch (field) {\n    case 'hour': {\n      let hours = value.hour;\n      let min = 0;\n      let max = 23;\n      if (options?.hourCycle === 12) {\n        let isPM = hours >= 12;\n        min = isPM ? 12 : 0;\n        max = isPM ? 23 : 11;\n      }\n      mutable.hour = cycleValue(hours, amount, min, max, options?.round);\n      break;\n    }\n    case 'minute':\n      mutable.minute = cycleValue(value.minute, amount, 0, 59, options?.round);\n      break;\n    case 'second':\n      mutable.second = cycleValue(value.second, amount, 0, 59, options?.round);\n      break;\n    case 'millisecond':\n      mutable.millisecond = cycleValue(value.millisecond, amount, 0, 999, options?.round);\n      break;\n    default:\n      throw new Error('Unsupported field ' + field);\n  }\n\n  return mutable;\n}\n\nfunction cycleValue(value: number, amount: number, min: number, max: number, round = false) {\n  if (round) {\n    value += Math.sign(amount);\n\n    if (value < min) {\n      value = max;\n    }\n\n    let div = Math.abs(amount);\n    if (amount > 0) {\n      value = Math.ceil(value / div) * div;\n    } else {\n      value = Math.floor(value / div) * div;\n    }\n\n    if (value > max) {\n      value = min;\n    }\n  } else {\n    value += amount;\n    if (value < min) {\n      value = max - (min - value - 1);\n    } else if (value > max) {\n      value = min + (value - max - 1);\n    }\n  }\n\n  return value;\n}\n\nexport function addZoned(dateTime: ZonedDateTime, duration: DateTimeDuration): ZonedDateTime {\n  let ms: number;\n  if ((duration.years != null && duration.years !== 0) || (duration.months != null && duration.months !== 0) || (duration.days != null && duration.days !== 0)) {\n    let res = add(toCalendarDateTime(dateTime), {\n      years: duration.years,\n      months: duration.months,\n      days: duration.days\n    });\n\n    // Changing the date may change the timezone offset, so we need to recompute\n    // using the 'compatible' disambiguation.\n    ms = toAbsolute(res, dateTime.timeZone);\n  } else {\n    // Otherwise, preserve the offset of the original date.\n    ms = epochFromDate(dateTime) - dateTime.offset;\n  }\n\n  // Perform time manipulation in milliseconds rather than on the original time fields to account for DST.\n  // For example, adding one hour during a DST transition may result in the hour field staying the same or\n  // skipping an hour. This results in the offset field changing value instead of the specified field.\n  ms += duration.milliseconds || 0;\n  ms += (duration.seconds || 0) * 1000;\n  ms += (duration.minutes || 0) * 60 * 1000;\n  ms += (duration.hours || 0) * 60 * 60 * 1000;\n\n  let res = fromAbsolute(ms, dateTime.timeZone);\n  return toCalendar(res, dateTime.calendar);\n}\n\nexport function subtractZoned(dateTime: ZonedDateTime, duration: DateTimeDuration): ZonedDateTime {\n  return addZoned(dateTime, invertDuration(duration));\n}\n\nexport function cycleZoned(dateTime: ZonedDateTime, field: DateField | TimeField, amount: number, options?: CycleTimeOptions): ZonedDateTime {\n  // For date fields, we want the time to remain consistent and the UTC offset to potentially change to account for DST changes.\n  // For time fields, we want the time to change by the amount given. This may result in the hour field staying the same, but the UTC\n  // offset changing in the case of a backward DST transition, or skipping an hour in the case of a forward DST transition.\n  switch (field) {\n    case 'hour': {\n      let min = 0;\n      let max = 23;\n      if (options?.hourCycle === 12) {\n        let isPM = dateTime.hour >= 12;\n        min = isPM ? 12 : 0;\n        max = isPM ? 23 : 11;\n      }\n\n      // The minimum and maximum hour may be affected by daylight saving time.\n      // For example, it might jump forward at midnight, and skip 1am.\n      // Or it might end at midnight and repeat the 11pm hour. To handle this, we get\n      // the possible absolute times for the min and max, and find the maximum range\n      // that is within the current day.\n      let plainDateTime = toCalendarDateTime(dateTime);\n      let minDate = toCalendar(setTime(plainDateTime, {hour: min}), new GregorianCalendar());\n      let minAbsolute = [toAbsolute(minDate, dateTime.timeZone, 'earlier'), toAbsolute(minDate, dateTime.timeZone, 'later')]\n        .filter(ms => fromAbsolute(ms, dateTime.timeZone).day === minDate.day)[0];\n\n      let maxDate = toCalendar(setTime(plainDateTime, {hour: max}), new GregorianCalendar());\n      let maxAbsolute = [toAbsolute(maxDate, dateTime.timeZone, 'earlier'), toAbsolute(maxDate, dateTime.timeZone, 'later')]\n        .filter(ms => fromAbsolute(ms, dateTime.timeZone).day === maxDate.day).pop();\n\n      // Since hours may repeat, we need to operate on the absolute time in milliseconds.\n      // This is done in hours from the Unix epoch so that cycleValue works correctly,\n      // and then converted back to milliseconds.\n      let ms = epochFromDate(dateTime) - dateTime.offset;\n      let hours = Math.floor(ms / ONE_HOUR);\n      let remainder = ms % ONE_HOUR;\n      ms = cycleValue(\n        hours,\n        amount,\n        Math.floor(minAbsolute / ONE_HOUR),\n        Math.floor(maxAbsolute / ONE_HOUR),\n        options?.round\n      ) * ONE_HOUR + remainder;\n\n      // Now compute the new timezone offset, and convert the absolute time back to local time.\n      return toCalendar(fromAbsolute(ms, dateTime.timeZone), dateTime.calendar);\n    }\n    case 'minute':\n    case 'second':\n    case 'millisecond':\n      // @ts-ignore\n      return cycleTime(dateTime, field, amount, options);\n    case 'era':\n    case 'year':\n    case 'month':\n    case 'day': {\n      let res = cycleDate(toCalendarDateTime(dateTime), field, amount, options);\n      let ms = toAbsolute(res, dateTime.timeZone);\n      return toCalendar(fromAbsolute(ms, dateTime.timeZone), dateTime.calendar);\n    }\n    default:\n      throw new Error('Unsupported field ' + field);\n  }\n}\n\nexport function setZoned(dateTime: ZonedDateTime, fields: DateFields & TimeFields, disambiguation?: Disambiguation): ZonedDateTime {\n  // Set the date/time fields, and recompute the UTC offset to account for DST changes.\n  // We also need to validate by converting back to a local time in case hours are skipped during forward DST transitions.\n  let plainDateTime = toCalendarDateTime(dateTime);\n  let res = setTime(set(plainDateTime, fields), fields);\n\n  // If the resulting plain date time values are equal, return the original time.\n  // We don't want to change the offset when setting the time to the same value.\n  if (res.compare(plainDateTime) === 0) {\n    return dateTime;\n  }\n\n  let ms = toAbsolute(res, dateTime.timeZone, disambiguation);\n  return toCalendar(fromAbsolute(ms, dateTime.timeZone), dateTime.calendar);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from the TC39 Temporal proposal.\n// Original licensing can be found in the NOTICE file in the root directory of this source tree.\n\nimport {AnyCalendarDate, AnyDateTime, AnyTime, Calendar, DateFields, Disambiguation, TimeFields} from './types';\nimport {CalendarDate, CalendarDateTime, Time, ZonedDateTime} from './CalendarDate';\nimport {constrain} from './manipulation';\nimport {getExtendedYear, GregorianCalendar} from './calendars/GregorianCalendar';\nimport {getLocalTimeZone} from './queries';\nimport {Mutable} from './utils';\n\nexport function epochFromDate(date: AnyDateTime) {\n  date = toCalendar(date, new GregorianCalendar());\n  let year = getExtendedYear(date.era, date.year);\n  return epochFromParts(year, date.month, date.day, date.hour, date.minute, date.second, date.millisecond);\n}\n\nfunction epochFromParts(year: number, month: number, day: number, hour: number, minute: number, second: number, millisecond: number) {\n  // Note: Date.UTC() interprets one and two-digit years as being in the\n  // 20th century, so don't use it\n  let date = new Date();\n  date.setUTCHours(hour, minute, second, millisecond);\n  date.setUTCFullYear(year, month - 1, day);\n  return date.getTime();\n}\n\nexport function getTimeZoneOffset(ms: number, timeZone: string) {\n  // Fast path for UTC.\n  if (timeZone === 'UTC') {\n    return 0;\n  }\n\n  // Fast path: for local timezone, use native Date.\n  if (timeZone === getLocalTimeZone()) {\n    return new Date(ms).getTimezoneOffset() * -60 * 1000;\n  }\n\n  let {year, month, day, hour, minute, second} = getTimeZoneParts(ms, timeZone);\n  let utc = epochFromParts(year, month, day, hour, minute, second, 0);\n  return utc - Math.floor(ms / 1000) * 1000;\n}\n\nconst formattersByTimeZone = new Map<string, Intl.DateTimeFormat>();\n\nfunction getTimeZoneParts(ms: number, timeZone: string) {\n  let formatter = formattersByTimeZone.get(timeZone);\n  if (!formatter) {\n    formatter = new Intl.DateTimeFormat('en-US', {\n      timeZone,\n      hour12: false,\n      era: 'short',\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric'\n    });\n\n    formattersByTimeZone.set(timeZone, formatter);\n  }\n\n  let parts = formatter.formatToParts(new Date(ms));\n  let namedParts: {[name: string]: string} = {};\n  for (let part of parts) {\n    if (part.type !== 'literal') {\n      namedParts[part.type] = part.value;\n    }\n  }\n\n\n  return {\n    // Firefox returns B instead of BC... https://bugzilla.mozilla.org/show_bug.cgi?id=1752253\n    year: namedParts.era === 'BC' || namedParts.era === 'B' ? -namedParts.year + 1 : +namedParts.year,\n    month: +namedParts.month,\n    day: +namedParts.day,\n    hour: namedParts.hour === '24' ? 0 : +namedParts.hour, // bugs.chromium.org/p/chromium/issues/detail?id=1045791\n    minute: +namedParts.minute,\n    second: +namedParts.second\n  };\n}\n\nconst DAYMILLIS = 86400000;\n\nexport function possibleAbsolutes(date: CalendarDateTime, timeZone: string): number[] {\n  let ms = epochFromDate(date);\n  let earlier = ms - getTimeZoneOffset(ms - DAYMILLIS, timeZone);\n  let later = ms - getTimeZoneOffset(ms + DAYMILLIS, timeZone);\n  return getValidWallTimes(date, timeZone, earlier, later);\n}\n\nfunction getValidWallTimes(date: CalendarDateTime, timeZone: string, earlier: number, later: number): number[] {\n  let found = earlier === later ? [earlier] : [earlier, later];\n  return found.filter(absolute => isValidWallTime(date, timeZone, absolute));\n}\n\nfunction isValidWallTime(date: CalendarDateTime, timeZone: string, absolute: number) {\n  let parts = getTimeZoneParts(absolute, timeZone);\n  return date.year === parts.year\n    && date.month === parts.month\n    && date.day === parts.day\n    && date.hour === parts.hour\n    && date.minute === parts.minute\n    && date.second === parts.second;\n}\n\nexport function toAbsolute(date: CalendarDate | CalendarDateTime, timeZone: string, disambiguation: Disambiguation = 'compatible'): number {\n  let dateTime = toCalendarDateTime(date);\n\n  // Fast path: if the time zone is UTC, use native Date.\n  if (timeZone === 'UTC') {\n    return epochFromDate(dateTime);\n  }\n\n  // Fast path: if the time zone is the local timezone and disambiguation is compatible, use native Date.\n  if (timeZone === getLocalTimeZone() && disambiguation === 'compatible') {\n    dateTime = toCalendar(dateTime, new GregorianCalendar());\n\n    // Don't use Date constructor here because two-digit years are interpreted in the 20th century.\n    let date = new Date();\n    let year = getExtendedYear(dateTime.era, dateTime.year);\n    date.setFullYear(year, dateTime.month - 1, dateTime.day);\n    date.setHours(dateTime.hour, dateTime.minute, dateTime.second, dateTime.millisecond);\n    return date.getTime();\n  }\n\n  let ms = epochFromDate(dateTime);\n  let offsetBefore = getTimeZoneOffset(ms - DAYMILLIS, timeZone);\n  let offsetAfter = getTimeZoneOffset(ms + DAYMILLIS, timeZone);\n  let valid = getValidWallTimes(dateTime, timeZone, ms - offsetBefore, ms - offsetAfter);\n\n  if (valid.length === 1) {\n    return valid[0];\n  }\n\n  if (valid.length > 1) {\n    switch (disambiguation) {\n      // 'compatible' means 'earlier' for \"fall back\" transitions\n      case 'compatible':\n      case 'earlier':\n        return valid[0];\n      case 'later':\n        return valid[valid.length - 1];\n      case 'reject':\n        throw new RangeError('Multiple possible absolute times found');\n    }\n  }\n\n  switch (disambiguation) {\n    case 'earlier':\n      return Math.min(ms - offsetBefore, ms - offsetAfter);\n    // 'compatible' means 'later' for \"spring forward\" transitions\n    case 'compatible':\n    case 'later':\n      return Math.max(ms - offsetBefore, ms - offsetAfter);\n    case 'reject':\n      throw new RangeError('No such absolute time found');\n  }\n}\n\nexport function toDate(dateTime: CalendarDate | CalendarDateTime, timeZone: string, disambiguation: Disambiguation = 'compatible'): Date {\n  return new Date(toAbsolute(dateTime, timeZone, disambiguation));\n}\n\nexport function fromAbsolute(ms: number, timeZone: string): ZonedDateTime {\n  let offset = getTimeZoneOffset(ms, timeZone);\n  let date = new Date(ms + offset);\n  let year = date.getUTCFullYear();\n  let month = date.getUTCMonth() + 1;\n  let day = date.getUTCDate();\n  let hour = date.getUTCHours();\n  let minute = date.getUTCMinutes();\n  let second = date.getUTCSeconds();\n  let millisecond = date.getUTCMilliseconds();\n\n  return new ZonedDateTime(year, month, day, timeZone, offset, hour, minute, second, millisecond);\n}\n\nexport function fromDate(date: Date, timeZone: string): ZonedDateTime {\n  return fromAbsolute(date.getTime(), timeZone);\n}\n\nexport function fromDateToLocal(date: Date): ZonedDateTime {\n  return fromDate(date, getLocalTimeZone());\n}\n\n/** Converts a value with date components such as a `CalendarDateTime` or `ZonedDateTime` into a `CalendarDate`. */\nexport function toCalendarDate(dateTime: AnyCalendarDate): CalendarDate {\n  return new CalendarDate(dateTime.calendar, dateTime.era, dateTime.year, dateTime.month, dateTime.day);\n}\n\nexport function toDateFields(date: AnyCalendarDate): DateFields {\n  return {\n    era: date.era,\n    year: date.year,\n    month: date.month,\n    day: date.day\n  };\n}\n\nexport function toTimeFields(date: AnyTime): TimeFields {\n  return {\n    hour: date.hour,\n    minute: date.minute,\n    second: date.second,\n    millisecond: date.millisecond\n  };\n}\n\n/**\n * Converts a date value to a `CalendarDateTime`. An optional `Time` value can be passed to set the time\n * of the resulting value, otherwise it will default to midnight.\n */\nexport function toCalendarDateTime(date: CalendarDate | CalendarDateTime | ZonedDateTime, time?: AnyTime): CalendarDateTime {\n  let hour = 0, minute = 0, second = 0, millisecond = 0;\n  if ('timeZone' in date) {\n    ({hour, minute, second, millisecond} = date);\n  } else if ('hour' in date && !time) {\n    return date;\n  }\n\n  if (time) {\n    ({hour, minute, second, millisecond} = time);\n  }\n\n  return new CalendarDateTime(\n    date.calendar,\n    date.era,\n    date.year,\n    date.month,\n    date.day,\n    hour,\n    minute,\n    second,\n    millisecond\n  );\n}\n\n/** Extracts the time components from a value containing a date and time. */\nexport function toTime(dateTime: CalendarDateTime | ZonedDateTime): Time {\n  return new Time(dateTime.hour, dateTime.minute, dateTime.second, dateTime.millisecond);\n}\n\n/** Converts a date from one calendar system to another. */\nexport function toCalendar<T extends AnyCalendarDate>(date: T, calendar: Calendar): T {\n  if (date.calendar.identifier === calendar.identifier) {\n    return date;\n  }\n\n  let calendarDate = calendar.fromJulianDay(date.calendar.toJulianDay(date));\n  let copy: Mutable<T> = date.copy();\n  copy.calendar = calendar;\n  copy.era = calendarDate.era;\n  copy.year = calendarDate.year;\n  copy.month = calendarDate.month;\n  copy.day = calendarDate.day;\n  constrain(copy);\n  return copy;\n}\n\n/**\n * Converts a date value to a `ZonedDateTime` in the provided time zone. The `disambiguation` option can be set\n * to control how values that fall on daylight saving time changes are interpreted.\n */\nexport function toZoned(date: CalendarDate | CalendarDateTime | ZonedDateTime, timeZone: string, disambiguation?: Disambiguation): ZonedDateTime {\n  if (date instanceof ZonedDateTime) {\n    if (date.timeZone === timeZone) {\n      return date;\n    }\n\n    return toTimeZone(date, timeZone);\n  }\n\n  let ms = toAbsolute(date, timeZone, disambiguation);\n  return fromAbsolute(ms, timeZone);\n}\n\nexport function zonedToDate(date: ZonedDateTime) {\n  let ms = epochFromDate(date) - date.offset;\n  return new Date(ms);\n}\n\n/** Converts a `ZonedDateTime` from one time zone to another. */\nexport function toTimeZone(date: ZonedDateTime, timeZone: string): ZonedDateTime {\n  let ms = epochFromDate(date) - date.offset;\n  return toCalendar(fromAbsolute(ms, timeZone), date.calendar);\n}\n\n/** Converts the given `ZonedDateTime` into the user's local time zone. */\nexport function toLocalTimeZone(date: ZonedDateTime): ZonedDateTime {\n  return toTimeZone(date, getLocalTimeZone());\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from ICU.\n// Original licensing can be found in the NOTICE file in the root directory of this source tree.\n\nimport {AnyCalendarDate, Calendar} from '../types';\nimport {CalendarDate} from '../CalendarDate';\nimport {mod, Mutable} from '../utils';\n\nconst EPOCH = 1721426; // 001/01/03 Julian C.E.\nexport function gregorianToJulianDay(era: string, year: number, month: number, day: number): number {\n  year = getExtendedYear(era, year);\n\n  let y1 = year - 1;\n  let monthOffset = -2;\n  if (month <= 2) {\n    monthOffset = 0;\n  } else if (isLeapYear(year)) {\n    monthOffset = -1;\n  }\n\n  return (\n    EPOCH -\n    1 +\n    365 * y1 +\n    Math.floor(y1 / 4) -\n    Math.floor(y1 / 100) +\n    Math.floor(y1 / 400) +\n    Math.floor((367 * month - 362) / 12 + monthOffset + day)\n  );\n}\n\nexport function isLeapYear(year: number): boolean {\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\nexport function getExtendedYear(era: string, year: number): number {\n  return era === 'BC' ? 1 - year : year;\n}\n\nexport function fromExtendedYear(year: number): [string, number] {\n  let era = 'AD';\n  if (year <= 0) {\n    era = 'BC';\n    year = 1 - year;\n  }\n\n  return [era, year];\n}\n\nconst daysInMonth = {\n  standard: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n  leapyear: [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n};\n\n/**\n * The Gregorian calendar is the most commonly used calendar system in the world. It supports two eras: BC, and AD.\n * Years always contain 12 months, and 365 or 366 days depending on whether it is a leap year.\n */\nexport class GregorianCalendar implements Calendar {\n  identifier = 'gregory';\n\n  fromJulianDay(jd: number): CalendarDate {\n    let jd0 = jd;\n    let depoch = jd0 - EPOCH;\n    let quadricent = Math.floor(depoch / 146097);\n    let dqc = mod(depoch, 146097);\n    let cent = Math.floor(dqc / 36524);\n    let dcent = mod(dqc, 36524);\n    let quad = Math.floor(dcent / 1461);\n    let dquad = mod(dcent, 1461);\n    let yindex = Math.floor(dquad / 365);\n\n    let extendedYear = quadricent * 400 + cent * 100 + quad * 4 + yindex + (cent !== 4 && yindex !== 4 ? 1 : 0);\n    let [era, year] = fromExtendedYear(extendedYear);\n    let yearDay = jd0 - gregorianToJulianDay(era, year, 1, 1);\n    let leapAdj = 2;\n    if (jd0 < gregorianToJulianDay(era, year, 3, 1)) {\n      leapAdj = 0;\n    } else if (isLeapYear(year)) {\n      leapAdj = 1;\n    }\n    let month = Math.floor(((yearDay + leapAdj) * 12 + 373) / 367);\n    let day = jd0 - gregorianToJulianDay(era, year, month, 1) + 1;\n\n    return new CalendarDate(era, year, month, day);\n  }\n\n  toJulianDay(date: AnyCalendarDate): number {\n    return gregorianToJulianDay(date.era, date.year, date.month, date.day);\n  }\n\n  getDaysInMonth(date: AnyCalendarDate): number {\n    return daysInMonth[isLeapYear(date.year) ? 'leapyear' : 'standard'][date.month - 1];\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getMonthsInYear(date: AnyCalendarDate): number {\n    return 12;\n  }\n\n  getDaysInYear(date: AnyCalendarDate): number {\n    return isLeapYear(date.year) ? 366 : 365;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getYearsInEra(date: AnyCalendarDate): number {\n    return 9999;\n  }\n\n  getEras() {\n    return ['BC', 'AD'];\n  }\n\n  isInverseEra(date: AnyCalendarDate): boolean {\n    return date.era === 'BC';\n  }\n\n  balanceDate(date: Mutable<AnyCalendarDate>) {\n    if (date.year <= 0) {\n      date.era = date.era === 'BC' ? 'AD' : 'BC';\n      date.year = 1 - date.year;\n    }\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {CalendarDate, CalendarDateTime} from './CalendarDate';\n\nexport type Mutable<T> = {\n  -readonly[P in keyof T]: T[P]\n};\n\nexport function mod(amount: number, numerator: number): number {\n  return amount - numerator * Math.floor(amount / numerator);\n}\n\nexport function copy(date: CalendarDate): Mutable<CalendarDate> {\n  if (date.era) {\n    return new CalendarDate(date.calendar, date.era, date.year, date.month, date.day);\n  } else {\n    return new CalendarDate(date.calendar, date.year, date.month, date.day);\n  }\n}\n\nexport function copyDateTime(date: CalendarDateTime): Mutable<CalendarDateTime> {\n  if (date.era) {\n    return new CalendarDateTime(date.calendar, date.era, date.year, date.month, date.day, date.hour, date.minute, date.second, date.millisecond);\n  } else {\n    return new CalendarDateTime(date.calendar, date.year, date.month, date.day, date.hour, date.minute, date.second);\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AnyCalendarDate, AnyTime} from './types';\nimport {CalendarDate, CalendarDateTime, ZonedDateTime} from './CalendarDate';\nimport {fromAbsolute, toAbsolute, toCalendar, toCalendarDate} from './conversion';\nimport {weekStartData} from './weekStartData';\n\ntype DateValue = CalendarDate | CalendarDateTime | ZonedDateTime;\n\n/** Returns whether the given dates occur on the same day, regardless of the time or calendar system. */\nexport function isSameDay(a: DateValue, b: DateValue): boolean {\n  b = toCalendar(b, a.calendar);\n  return a.era === b.era && a.year === b.year && a.month === b.month && a.day === b.day;\n}\n\n/** Returns whether the given dates occur in the same month, using the calendar system of the first date. */\nexport function isSameMonth(a: DateValue, b: DateValue): boolean {\n  b = toCalendar(b, a.calendar);\n  // In the Japanese calendar, months can span multiple eras/years, so only compare the first of the month.\n  a = startOfMonth(a);\n  b = startOfMonth(b);\n  return a.era === b.era && a.year === b.year && a.month === b.month;\n}\n\n/** Returns whether the given dates occur in the same year, using the calendar system of the first date. */\nexport function isSameYear(a: DateValue, b: DateValue): boolean {\n  b = toCalendar(b, a.calendar);\n  a = startOfYear(a);\n  b = startOfYear(b);\n  return a.era === b.era && a.year === b.year;\n}\n\n/** Returns whether the given dates occur on the same day, and are of the same calendar system. */\nexport function isEqualDay(a: DateValue, b: DateValue): boolean {\n  return a.calendar.identifier === b.calendar.identifier && a.era === b.era && a.year === b.year && a.month === b.month && a.day === b.day;\n}\n\n/** Returns whether the given dates occur in the same month, and are of the same calendar system. */\nexport function isEqualMonth(a: DateValue, b: DateValue): boolean {\n  a = startOfMonth(a);\n  b = startOfMonth(b);\n  return a.calendar.identifier === b.calendar.identifier && a.era === b.era && a.year === b.year && a.month === b.month;\n}\n\n/** Returns whether the given dates occur in the same year, and are of the same calendar system. */\nexport function isEqualYear(a: DateValue, b: DateValue): boolean {\n  a = startOfYear(a);\n  b = startOfYear(b);\n  return a.calendar.identifier === b.calendar.identifier && a.era === b.era && a.year === b.year;\n}\n\n/** Returns whether the date is today in the given time zone. */\nexport function isToday(date: DateValue, timeZone: string): boolean {\n  return isSameDay(date, today(timeZone));\n}\n\n/**\n * Returns the day of week for the given date and locale. Days are numbered from zero to six,\n * where zero is the first day of the week in the given locale. For example, in the United States,\n * the first day of the week is Sunday, but in France it is Monday.\n */\nexport function getDayOfWeek(date: DateValue, locale: string): number {\n  let julian = date.calendar.toJulianDay(date);\n\n  // If julian is negative, then julian % 7 will be negative, so we adjust\n  // accordingly.  Julian day 0 is Monday.\n  let dayOfWeek = Math.ceil(julian + 1 - getWeekStart(locale)) % 7;\n  if (dayOfWeek < 0) {\n    dayOfWeek += 7;\n  }\n\n  return dayOfWeek;\n}\n\n/** Returns the current time in the given time zone. */\nexport function now(timeZone: string): ZonedDateTime {\n  return fromAbsolute(Date.now(), timeZone);\n}\n\n/** Returns today's date in the given time zone. */\nexport function today(timeZone: string): CalendarDate {\n  return toCalendarDate(now(timeZone));\n}\n\nexport function compareDate(a: AnyCalendarDate, b: AnyCalendarDate): number {\n  return a.calendar.toJulianDay(a) - b.calendar.toJulianDay(b);\n}\n\nexport function compareTime(a: AnyTime, b: AnyTime): number {\n  return timeToMs(a) - timeToMs(b);\n}\n\nfunction timeToMs(a: AnyTime): number {\n  return a.hour * 60 * 60 * 1000 + a.minute * 60 * 1000 + a.second * 1000 + a.millisecond;\n}\n\n/**\n * Returns the number of hours in the given date and time zone.\n * Usually this is 24, but it could be 23 or 25 if the date is on a daylight saving transition.\n */\nexport function getHoursInDay(a: CalendarDate, timeZone: string): number {\n  let ms = toAbsolute(a, timeZone);\n  let tomorrow = a.add({days: 1});\n  let tomorrowMs = toAbsolute(tomorrow, timeZone);\n  return (tomorrowMs - ms) / 3600000;\n}\n\nlet localTimeZone = null;\n\n/** Returns the time zone identifier for the current user. */\nexport function getLocalTimeZone(): string {\n  // TODO: invalidate this somehow?\n  if (localTimeZone == null) {\n    localTimeZone = new Intl.DateTimeFormat().resolvedOptions().timeZone;\n  }\n\n  return localTimeZone;\n}\n\n/** Returns the first date of the month for the given date. */\nexport function startOfMonth(date: ZonedDateTime): ZonedDateTime;\nexport function startOfMonth(date: CalendarDateTime): CalendarDateTime;\nexport function startOfMonth(date: CalendarDate): CalendarDate;\nexport function startOfMonth(date: DateValue): DateValue;\nexport function startOfMonth(date: DateValue): DateValue {\n  // Use `subtract` instead of `set` so we don't get constrained in an era.\n  return date.subtract({days: date.day - 1});\n}\n\n/** Returns the last date of the month for the given date. */\nexport function endOfMonth(date: ZonedDateTime): ZonedDateTime;\nexport function endOfMonth(date: CalendarDateTime): CalendarDateTime;\nexport function endOfMonth(date: CalendarDate): CalendarDate;\nexport function endOfMonth(date: DateValue): DateValue;\nexport function endOfMonth(date: DateValue): DateValue {\n  return date.add({days: date.calendar.getDaysInMonth(date) - date.day});\n}\n\n/** Returns the first day of the year for the given date. */\nexport function startOfYear(date: ZonedDateTime): ZonedDateTime;\nexport function startOfYear(date: CalendarDateTime): CalendarDateTime;\nexport function startOfYear(date: CalendarDate): CalendarDate;\nexport function startOfYear(date: DateValue): DateValue;\nexport function startOfYear(date: DateValue): DateValue {\n  return startOfMonth(date.subtract({months: date.month - 1}));\n}\n\n/** Returns the last day of the year for the given date. */\nexport function endOfYear(date: ZonedDateTime): ZonedDateTime;\nexport function endOfYear(date: CalendarDateTime): CalendarDateTime;\nexport function endOfYear(date: CalendarDate): CalendarDate;\nexport function endOfYear(date: DateValue): DateValue;\nexport function endOfYear(date: DateValue): DateValue {\n  return endOfMonth(date.add({months: date.calendar.getMonthsInYear(date) - date.month}));\n}\n\nexport function getMinimumMonthInYear(date: AnyCalendarDate) {\n  if (date.calendar.getMinimumMonthInYear) {\n    return date.calendar.getMinimumMonthInYear(date);\n  }\n\n  return 1;\n}\n\nexport function getMinimumDayInMonth(date: AnyCalendarDate) {\n  if (date.calendar.getMinimumDayInMonth) {\n    return date.calendar.getMinimumDayInMonth(date);\n  }\n\n  return 1;\n}\n\n/** Returns the first date of the week for the given date and locale. */\nexport function startOfWeek(date: ZonedDateTime, locale: string): ZonedDateTime;\nexport function startOfWeek(date: CalendarDateTime, locale: string): CalendarDateTime;\nexport function startOfWeek(date: CalendarDate, locale: string): CalendarDate;\nexport function startOfWeek(date: DateValue, locale: string): DateValue;\nexport function startOfWeek(date: DateValue, locale: string): DateValue {\n  let dayOfWeek = getDayOfWeek(date, locale);\n  return date.subtract({days: dayOfWeek});\n}\n\n/** Returns the last date of the week for the given date and locale. */\nexport function endOfWeek(date: ZonedDateTime, locale: string): ZonedDateTime;\nexport function endOfWeek(date: CalendarDateTime, locale: string): CalendarDateTime;\nexport function endOfWeek(date: CalendarDate, locale: string): CalendarDate;\nexport function endOfWeek(date: DateValue, locale: string): DateValue {\n  return startOfWeek(date, locale).add({days: 6});\n}\n\nconst cachedRegions = new Map<string, string>();\n\nfunction getRegion(locale: string) {\n  // If the Intl.Locale API is available, use it to get the region for the locale.\n  // @ts-ignore\n  if (Intl.Locale) {\n    // Constructing an Intl.Locale is expensive, so cache the result.\n    let region = cachedRegions.get(locale);\n    if (!region) {\n      // @ts-ignore\n      region = new Intl.Locale(locale).maximize().region;\n      cachedRegions.set(locale, region);\n    }\n    return region;\n  }\n\n  // If not, just try splitting the string.\n  // If the second part of the locale string is 'u',\n  // then this is a unicode extension, so ignore it.\n  // Otherwise, it should be the region.\n  let part = locale.split('-')[1];\n  return part === 'u' ? null : part;\n}\n\nfunction getWeekStart(locale: string) {\n  // TODO: use Intl.Locale for this once browsers support the weekInfo property\n  // https://github.com/tc39/proposal-intl-locale-info\n  let region = getRegion(locale);\n  return weekStartData[region] || 0;\n}\n\n/** Returns the number of weeks in the given month and locale. */\nexport function getWeeksInMonth(date: DateValue, locale: string): number {\n  let days = date.calendar.getDaysInMonth(date);\n  return Math.ceil((getDayOfWeek(startOfMonth(date), locale) + days) / 7);\n}\n\n/** Returns the lesser of the two provider dates. */\nexport function minDate<A extends DateValue, B extends DateValue>(a: A, b: B): A | B {\n  if (a && b) {\n    return a.compare(b) <= 0 ? a : b;\n  }\n\n  return a || b;\n}\n\n/** Returns the greater of the two provider dates. */\nexport function maxDate<A extends DateValue, B extends DateValue>(a: A, b: B): A | B {\n  if (a && b) {\n    return a.compare(b) >= 0 ? a : b;\n  }\n\n  return a || b;\n}\n\nconst WEEKEND_DATA = {\n  AF: [4, 5],\n  AE: [5, 6],\n  BH: [5, 6],\n  DZ: [5, 6],\n  EG: [5, 6],\n  IL: [5, 6],\n  IQ: [5, 6],\n  IR: [5, 5],\n  JO: [5, 6],\n  KW: [5, 6],\n  LY: [5, 6],\n  OM: [5, 6],\n  QA: [5, 6],\n  SA: [5, 6],\n  SD: [5, 6],\n  SY: [5, 6],\n  YE: [5, 6]\n};\n\n/** Returns whether the given date is on a weekend in the given locale. */\nexport function isWeekend(date: DateValue, locale: string): boolean {\n  let julian = date.calendar.toJulianDay(date);\n\n  // If julian is negative, then julian % 7 will be negative, so we adjust\n  // accordingly.  Julian day 0 is Monday.\n  let dayOfWeek = Math.ceil(julian + 1) % 7;\n  if (dayOfWeek < 0) {\n    dayOfWeek += 7;\n  }\n\n  let region = getRegion(locale);\n  // Use Intl.Locale for this once weekInfo is supported.\n  // https://github.com/tc39/proposal-intl-locale-info\n  let [start, end] = WEEKEND_DATA[region] || [6, 0];\n  return dayOfWeek === start || dayOfWeek === end;\n}\n\n/** Returns whether the given date is on a weekday in the given locale. */\nexport function isWeekday(date: DateValue, locale: string): boolean {\n  return !isWeekend(date, locale);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Data from https://github.com/unicode-cldr/cldr-core/blob/master/supplemental/weekData.json\n// Locales starting on Sunday have been removed for compression.\nexport const weekStartData = {\n  '001': 1,\n  AD: 1,\n  AE: 6,\n  AF: 6,\n  AI: 1,\n  AL: 1,\n  AM: 1,\n  AN: 1,\n  AT: 1,\n  AX: 1,\n  AZ: 1,\n  BA: 1,\n  BE: 1,\n  BG: 1,\n  BH: 6,\n  BM: 1,\n  BN: 1,\n  BY: 1,\n  CH: 1,\n  CL: 1,\n  CM: 1,\n  CR: 1,\n  CY: 1,\n  CZ: 1,\n  DE: 1,\n  DJ: 6,\n  DK: 1,\n  DZ: 6,\n  EC: 1,\n  EE: 1,\n  EG: 6,\n  ES: 1,\n  FI: 1,\n  FJ: 1,\n  FO: 1,\n  FR: 1,\n  GB: 1,\n  GE: 1,\n  GF: 1,\n  GP: 1,\n  GR: 1,\n  HR: 1,\n  HU: 1,\n  IE: 1,\n  IQ: 6,\n  IR: 6,\n  IS: 1,\n  IT: 1,\n  JO: 6,\n  KG: 1,\n  KW: 6,\n  KZ: 1,\n  LB: 1,\n  LI: 1,\n  LK: 1,\n  LT: 1,\n  LU: 1,\n  LV: 1,\n  LY: 6,\n  MC: 1,\n  MD: 1,\n  ME: 1,\n  MK: 1,\n  MN: 1,\n  MQ: 1,\n  MV: 5,\n  MY: 1,\n  NL: 1,\n  NO: 1,\n  NZ: 1,\n  OM: 6,\n  PL: 1,\n  QA: 6,\n  RE: 1,\n  RO: 1,\n  RS: 1,\n  RU: 1,\n  SD: 6,\n  SE: 1,\n  SI: 1,\n  SK: 1,\n  SM: 1,\n  SY: 6,\n  TJ: 1,\n  TM: 1,\n  TR: 1,\n  UA: 1,\n  UY: 1,\n  UZ: 1,\n  VA: 1,\n  VN: 1,\n  XK: 1\n};\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AnyDateTime, Disambiguation} from './types';\nimport {CalendarDate, CalendarDateTime, Time, ZonedDateTime} from './CalendarDate';\nimport {epochFromDate, fromAbsolute, possibleAbsolutes, toAbsolute, toCalendar, toCalendarDateTime, toTimeZone} from './conversion';\nimport {getLocalTimeZone} from './queries';\nimport {GregorianCalendar} from './calendars/GregorianCalendar';\nimport {Mutable} from './utils';\n\nconst TIME_RE = /^(\\d{2})(?::(\\d{2}))?(?::(\\d{2}))?(\\.\\d+)?$/;\nconst DATE_RE = /^(\\d{4})-(\\d{2})-(\\d{2})$/;\nconst DATE_TIME_RE = /^(\\d{4})-(\\d{2})-(\\d{2})(?:T(\\d{2}))?(?::(\\d{2}))?(?::(\\d{2}))?(\\.\\d+)?$/;\nconst ZONED_DATE_TIME_RE = /^(\\d{4})-(\\d{2})-(\\d{2})(?:T(\\d{2}))?(?::(\\d{2}))?(?::(\\d{2}))?(\\.\\d+)?(?:([+-]\\d{2})(?::(\\d{2}))?)?\\[(.*?)\\]$/;\nconst ABSOLUTE_RE = /^(\\d{4})-(\\d{2})-(\\d{2})(?:T(\\d{2}))?(?::(\\d{2}))?(?::(\\d{2}))?(\\.\\d+)?(?:(?:([+-]\\d{2})(?::(\\d{2}))?)|Z)$/;\n\n/** Parses an ISO 8601 time string. */\nexport function parseTime(value: string): Time {\n  let m = value.match(TIME_RE);\n  if (!m) {\n    throw new Error('Invalid ISO 8601 time string: ' + value);\n  }\n\n  return new Time(\n    parseNumber(m[1], 0, 23),\n    m[2] ? parseNumber(m[2], 0, 59) : 0,\n    m[3] ? parseNumber(m[3], 0, 59) : 0,\n    m[4] ? parseNumber(m[4], 0, Infinity) * 1000 : 0\n  );\n}\n\n/** Parses an ISO 8601 date string, with no time components. */\nexport function parseDate(value: string): CalendarDate {\n  let m = value.match(DATE_RE);\n  if (!m) {\n    throw new Error('Invalid ISO 8601 date string: ' + value);\n  }\n\n  let date: Mutable<CalendarDate> = new CalendarDate(\n    parseNumber(m[1], 0, 9999),\n    parseNumber(m[2], 1, 12),\n    1\n  );\n\n  date.day = parseNumber(m[3], 0, date.calendar.getDaysInMonth(date));\n  return date as CalendarDate;\n}\n\n/** Parses an ISO 8601 date and time string, with no time zone. */\nexport function parseDateTime(value: string): CalendarDateTime {\n  let m = value.match(DATE_TIME_RE);\n  if (!m) {\n    throw new Error('Invalid ISO 8601 date time string: ' + value);\n  }\n\n  let date: Mutable<CalendarDateTime> = new CalendarDateTime(\n    parseNumber(m[1], 1, 9999),\n    parseNumber(m[2], 1, 12),\n    1,\n    m[4] ? parseNumber(m[4], 0, 23) : 0,\n    m[5] ? parseNumber(m[5], 0, 59) : 0,\n    m[6] ? parseNumber(m[6], 0, 59) : 0,\n    m[7] ? parseNumber(m[7], 0, Infinity) * 1000 : 0\n  );\n\n  date.day = parseNumber(m[3], 0, date.calendar.getDaysInMonth(date));\n  return date as CalendarDateTime;\n}\n\n/**\n * Parses an ISO 8601 date and time string with a time zone extension and optional UTC offset\n * (e.g. \"2021-11-07T00:45[America/Los_Angeles]\" or \"2021-11-07T00:45-07:00[America/Los_Angeles]\").\n * Ambiguous times due to daylight saving time transitions are resolved according to the `disambiguation`\n * parameter.\n */\nexport function parseZonedDateTime(value: string, disambiguation?: Disambiguation): ZonedDateTime {\n  let m = value.match(ZONED_DATE_TIME_RE);\n  if (!m) {\n    throw new Error('Invalid ISO 8601 date time string: ' + value);\n  }\n\n  let date: Mutable<ZonedDateTime> = new ZonedDateTime(\n    parseNumber(m[1], 1, 9999),\n    parseNumber(m[2], 1, 12),\n    1,\n    m[10],\n    0,\n    m[4] ? parseNumber(m[4], 0, 23) : 0,\n    m[5] ? parseNumber(m[5], 0, 59) : 0,\n    m[6] ? parseNumber(m[6], 0, 59) : 0,\n    m[7] ? parseNumber(m[7], 0, Infinity) * 1000 : 0\n  );\n\n  date.day = parseNumber(m[3], 0, date.calendar.getDaysInMonth(date));\n\n  let plainDateTime = toCalendarDateTime(date as ZonedDateTime);\n\n  let ms: number;\n  if (m[8]) {\n    date.offset = parseNumber(m[8], -23, 23) * 60 * 60 * 1000 + parseNumber(m[9] ?? '0', 0, 59) * 60 * 1000;\n    ms = epochFromDate(date as ZonedDateTime) - date.offset;\n\n    // Validate offset against parsed date.\n    let absolutes = possibleAbsolutes(plainDateTime, date.timeZone);\n    if (!absolutes.includes(ms)) {\n      throw new Error(`Offset ${offsetToString(date.offset)} is invalid for ${dateTimeToString(date)} in ${date.timeZone}`);\n    }\n  } else {\n    // Convert to absolute and back to fix invalid times due to DST.\n    ms = toAbsolute(toCalendarDateTime(plainDateTime), date.timeZone, disambiguation);\n  }\n\n  return fromAbsolute(ms, date.timeZone);\n}\n\n/**\n * Parses an ISO 8601 date and time string with a UTC offset (e.g. \"2021-11-07T07:45:00Z\"\n * or \"2021-11-07T07:45:00-07:00\"). The result is converted to the provided time zone.\n */\nexport function parseAbsolute(value: string, timeZone: string): ZonedDateTime {\n  let m = value.match(ABSOLUTE_RE);\n  if (!m) {\n    throw new Error('Invalid ISO 8601 date time string: ' + value);\n  }\n\n  let date: Mutable<ZonedDateTime> = new ZonedDateTime(\n    parseNumber(m[1], 1, 9999),\n    parseNumber(m[2], 1, 12),\n    1,\n    timeZone,\n    0,\n    m[4] ? parseNumber(m[4], 0, 23) : 0,\n    m[5] ? parseNumber(m[5], 0, 59) : 0,\n    m[6] ? parseNumber(m[6], 0, 59) : 0,\n    m[7] ? parseNumber(m[7], 0, Infinity) * 1000 : 0\n  );\n\n  date.day = parseNumber(m[3], 0, date.calendar.getDaysInMonth(date));\n\n  if (m[8]) {\n    date.offset = parseNumber(m[8], -23, 23) * 60 * 60 * 1000 + parseNumber(m[9] ?? '0', 0, 59) * 60 * 1000;\n  }\n\n  return toTimeZone(date as ZonedDateTime, timeZone);\n}\n\n/**\n * Parses an ISO 8601 date and time string with a UTC offset (e.g. \"2021-11-07T07:45:00Z\"\n * or \"2021-11-07T07:45:00-07:00\"). The result is converted to the user's local time zone.\n */\nexport function parseAbsoluteToLocal(value: string): ZonedDateTime {\n  return parseAbsolute(value, getLocalTimeZone());\n}\n\nfunction parseNumber(value: string, min: number, max: number) {\n  let val = Number(value);\n  if (val < min || val > max) {\n    throw new RangeError(`Value out of range: ${min} <= ${val} <= ${max}`);\n  }\n\n  return val;\n}\n\nexport function timeToString(time: Time): string {\n  return `${String(time.hour).padStart(2, '0')}:${String(time.minute).padStart(2, '0')}:${String(time.second).padStart(2, '0')}${time.millisecond ? String(time.millisecond / 1000).slice(1) : ''}`;\n}\n\nexport function dateToString(date: CalendarDate): string {\n  let gregorianDate = toCalendar(date, new GregorianCalendar());\n  return `${String(gregorianDate.year).padStart(4, '0')}-${String(gregorianDate.month).padStart(2, '0')}-${String(gregorianDate.day).padStart(2, '0')}`;\n}\n\nexport function dateTimeToString(date: AnyDateTime): string {\n  // @ts-ignore\n  return `${dateToString(date)}T${timeToString(date)}`;\n}\n\nfunction offsetToString(offset: number) {\n  let sign = Math.sign(offset) < 0 ? '-' : '+';\n  offset = Math.abs(offset);\n  let offsetHours = Math.floor(offset / (60 * 60 * 1000));\n  let offsetMinutes = (offset % (60 * 60 * 1000)) / (60 * 1000);\n  return `${sign}${String(offsetHours).padStart(2, '0')}:${String(offsetMinutes).padStart(2, '0')}`;\n}\n\nexport function zonedDateTimeToString(date: ZonedDateTime): string {\n  return `${dateTimeToString(date)}${offsetToString(date.offset)}[${date.timeZone}]`;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from the TC39 Temporal proposal.\n// Original licensing can be found in the NOTICE file in the root directory of this source tree.\n\nimport {AnyCalendarDate} from '../types';\nimport {CalendarDate} from '../CalendarDate';\nimport {GregorianCalendar} from './GregorianCalendar';\nimport {Mutable} from '../utils';\n\nconst ERA_START_DATES = [[1868, 9, 8], [1912, 7, 30], [1926, 12, 25], [1989, 1, 8], [2019, 5, 1]];\nconst ERA_END_DATES = [[1912, 7, 29], [1926, 12, 24], [1989, 1, 7], [2019, 4, 30]];\nconst ERA_ADDENDS = [1867, 1911, 1925, 1988, 2018];\nconst ERA_NAMES = ['meiji', 'taisho', 'showa', 'heisei', 'reiwa'];\n\nfunction findEraFromGregorianDate(date: AnyCalendarDate) {\n  const idx = ERA_START_DATES.findIndex(([year, month, day]) => {\n    if (date.year < year) {\n      return true;\n    }\n\n    if (date.year === year && date.month < month) {\n      return true;\n    }\n\n    if (date.year === year && date.month === month && date.day < day) {\n      return true;\n    }\n\n    return false;\n  });\n\n  if (idx === -1) {\n    return ERA_START_DATES.length - 1;\n  }\n\n  if (idx === 0) {\n    return 0;\n  }\n\n  return idx - 1;\n}\n\nfunction toGregorian(date: AnyCalendarDate) {\n  let eraAddend = ERA_ADDENDS[ERA_NAMES.indexOf(date.era)];\n  if (!eraAddend) {\n    throw new Error('Unknown era: ' + date.era);\n  }\n\n  return new CalendarDate(\n    date.year + eraAddend,\n    date.month,\n    date.day\n  );\n}\n\n/**\n * The Japanese calendar is based on the Gregorian calendar, but with eras for the reign of each Japanese emperor.\n * Whenever a new emperor ascends to the throne, a new era begins and the year starts again from 1.\n * Note that eras before 1868 (Gregorian) are not currently supported by this implementation.\n */\nexport class JapaneseCalendar extends GregorianCalendar {\n  identifier = 'japanese';\n\n  fromJulianDay(jd: number): CalendarDate {\n    let date = super.fromJulianDay(jd);\n    let era = findEraFromGregorianDate(date);\n\n    return new CalendarDate(\n      this,\n      ERA_NAMES[era],\n      date.year - ERA_ADDENDS[era],\n      date.month,\n      date.day\n    );\n  }\n\n  toJulianDay(date: AnyCalendarDate) {\n    return super.toJulianDay(toGregorian(date));\n  }\n\n  balanceDate(date: Mutable<AnyCalendarDate>) {\n    let gregorianDate = toGregorian(date);\n    let era = findEraFromGregorianDate(gregorianDate);\n\n    if (ERA_NAMES[era] !== date.era) {\n      date.era = ERA_NAMES[era];\n      date.year = gregorianDate.year - ERA_ADDENDS[era];\n    }\n\n    // Constrain in case we went before the first supported era.\n    this.constrainDate(date);\n  }\n\n  constrainDate(date: Mutable<AnyCalendarDate>) {\n    let idx = ERA_NAMES.indexOf(date.era);\n    let end = ERA_END_DATES[idx];\n    if (end != null) {\n      let [endYear, endMonth, endDay] = end;\n\n      // Constrain the year to the maximum possible value in the era.\n      // Then constrain the month and day fields within that.\n      let maxYear = endYear - ERA_ADDENDS[idx];\n      date.year = Math.max(1, Math.min(maxYear, date.year));\n      if (date.year === maxYear) {\n        date.month = Math.min(endMonth, date.month);\n\n        if (date.month === endMonth) {\n          date.day = Math.min(endDay, date.day);\n        }\n      }\n    }\n\n    if (date.year === 1 && idx >= 0) {\n      let [, startMonth, startDay] = ERA_START_DATES[idx];\n      date.month = Math.max(startMonth, date.month);\n\n      if (date.month === startMonth) {\n        date.day = Math.max(startDay, date.day);\n      }\n    }\n  }\n\n  getEras() {\n    return ERA_NAMES;\n  }\n\n  getYearsInEra(date: AnyCalendarDate): number {\n    // Get the number of years in the era, taking into account the date's month and day fields.\n    let era = ERA_NAMES.indexOf(date.era);\n    let cur = ERA_START_DATES[era];\n    let next = ERA_START_DATES[era + 1];\n    if (next == null) {\n      // 9999 gregorian is the maximum year allowed.\n      return 9999 - cur[0] + 1;\n    }\n\n    let years = next[0] - cur[0];\n\n    if (date.month < next[1] || (date.month === next[1] && date.day < next[2])) {\n      years++;\n    }\n\n    return years;\n  }\n\n  getDaysInMonth(date: AnyCalendarDate): number {\n    return super.getDaysInMonth(toGregorian(date));\n  }\n\n  getMinimumMonthInYear(date: AnyCalendarDate): number {\n    let start = getMinimums(date);\n    return start ? start[1] : 1;\n  }\n\n  getMinimumDayInMonth(date: AnyCalendarDate): number {\n    let start = getMinimums(date);\n    return start && date.month === start[1] ? start[2] : 1;\n  }\n}\n\nfunction getMinimums(date: AnyCalendarDate) {\n  if (date.year === 1) {\n    let idx = ERA_NAMES.indexOf(date.era);\n    return ERA_START_DATES[idx];\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from ICU.\n// Original licensing can be found in the NOTICE file in the root directory of this source tree.\n\nimport {AnyCalendarDate} from '../types';\nimport {CalendarDate} from '../CalendarDate';\nimport {fromExtendedYear, getExtendedYear, GregorianCalendar} from './GregorianCalendar';\n\nconst BUDDHIST_ERA_START = -543;\n\n/**\n * The Buddhist calendar is the same as the Gregorian calendar, but counts years\n * starting from the birth of Buddha in 543 BC (Gregorian). It supports only one\n * era, identified as 'BE'.\n */\nexport class BuddhistCalendar extends GregorianCalendar {\n  identifier = 'buddhist';\n\n  fromJulianDay(jd: number): CalendarDate {\n    let gregorianDate = super.fromJulianDay(jd);\n    let year = getExtendedYear(gregorianDate.era, gregorianDate.year);\n    return new CalendarDate(\n      this,\n      year - BUDDHIST_ERA_START,\n      gregorianDate.month,\n      gregorianDate.day\n    );\n  }\n\n  toJulianDay(date: AnyCalendarDate) {\n    return super.toJulianDay(toGregorian(date));\n  }\n\n  getEras() {\n    return ['BE'];\n  }\n\n  getDaysInMonth(date: AnyCalendarDate): number {\n    return super.getDaysInMonth(toGregorian(date));\n  }\n\n  balanceDate() {}\n}\n\nfunction toGregorian(date: AnyCalendarDate) {\n  let [era, year] = fromExtendedYear(date.year + BUDDHIST_ERA_START);\n  return new CalendarDate(\n    era,\n    year,\n    date.month,\n    date.day\n  );\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from ICU.\n// Original licensing can be found in the NOTICE file in the root directory of this source tree.\n\nimport {AnyCalendarDate} from '../types';\nimport {CalendarDate} from '../CalendarDate';\nimport {fromExtendedYear, getExtendedYear, GregorianCalendar} from './GregorianCalendar';\nimport {Mutable} from '../utils';\n\nconst TAIWAN_ERA_START = 1911;\n\nfunction gregorianYear(date: AnyCalendarDate) {\n  return date.era === 'minguo'\n    ? date.year + TAIWAN_ERA_START\n    : 1 - date.year + TAIWAN_ERA_START;\n}\n\nfunction gregorianToTaiwan(year: number): [string, number] {\n  let y = year - TAIWAN_ERA_START;\n  if (y > 0) {\n    return ['minguo', y];\n  } else {\n    return ['before_minguo', 1 - y];\n  }\n}\n\n/**\n * The Taiwanese calendar is the same as the Gregorian calendar, but years\n * are numbered starting from 1912 (Gregorian). Two eras are supported:\n * 'before_minguo' and 'minguo'.\n */\nexport class TaiwanCalendar extends GregorianCalendar {\n  identifier = 'roc'; // Republic of China\n\n  fromJulianDay(jd: number): CalendarDate {\n    let date = super.fromJulianDay(jd);\n    let extendedYear = getExtendedYear(date.era, date.year);\n    let [era, year] = gregorianToTaiwan(extendedYear);\n    return new CalendarDate(this, era, year, date.month, date.day);\n  }\n\n  toJulianDay(date: AnyCalendarDate) {\n    return super.toJulianDay(toGregorian(date));\n  }\n\n  getEras() {\n    return ['before_minguo', 'minguo'];\n  }\n\n  balanceDate(date: Mutable<AnyCalendarDate>) {\n    let [era, year] = gregorianToTaiwan(gregorianYear(date));\n    date.era = era;\n    date.year = year;\n  }\n\n  isInverseEra(date: AnyCalendarDate): boolean {\n    return date.era === 'before_minguo';\n  }\n\n  getDaysInMonth(date: AnyCalendarDate): number {\n    return super.getDaysInMonth(toGregorian(date));\n  }\n\n  getYearsInEra(date: AnyCalendarDate): number {\n    return date.era === 'before_minguo' ? 9999 : 9999 - TAIWAN_ERA_START;\n  }\n}\n\nfunction toGregorian(date: AnyCalendarDate) {\n  let [era, year] = fromExtendedYear(gregorianYear(date));\n  return new CalendarDate(\n    era,\n    year,\n    date.month,\n    date.day\n  );\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from ICU.\n// Original licensing can be found in the NOTICE file in the root directory of this source tree.\n\nimport {AnyCalendarDate, Calendar} from '../types';\nimport {CalendarDate} from '../CalendarDate';\nimport {mod} from '../utils';\n\nconst PERSIAN_EPOCH = 1948321; // 622/03/19 Julian C.E.\n\nfunction isLeapYear(year: number): boolean {\n  let y0 = year > 0 ? year - 474 : year - 473;\n  let y1 = mod(y0, 2820) + 474;\n\n  return mod((y1 + 38) * 31, 128) < 31;\n}\n\nfunction persianToJulianDay(year: number, month: number, day: number): number {\n  let y0 = year > 0 ? year - 474 : year - 473;\n  let y1 = mod(y0, 2820) + 474;\n  let offset = month <= 7 ? 31 * (month - 1) : 30 * (month - 1) + 6;\n\n  return (\n    PERSIAN_EPOCH -\n    1 +\n    1029983 * Math.floor(y0 / 2820) +\n    365 * (y1 - 1) +\n    Math.floor((31 * y1 - 5) / 128) +\n    offset +\n    day\n  );\n}\n\n/**\n * The Persian calendar is the main calendar used in Iran and Afghanistan. It has 12 months\n * in each year, the first 6 of which have 31 days, and the next 5 have 30 days. The 12th month\n * has either 29 or 30 days depending on whether it is a leap year. The Persian year starts\n * around the March equinox.\n */\nexport class PersianCalendar implements Calendar {\n  identifier = 'persian';\n\n  fromJulianDay(jd: number): CalendarDate {\n    let d0 = jd - persianToJulianDay(475, 1, 1);\n    let n2820 = Math.floor(d0 / 1029983);\n    let d1 = mod(d0, 1029983);\n    let y2820 = d1 === 1029982 ? 2820 : Math.floor((128 * d1 + 46878) / 46751);\n    let year = 474 + 2820 * n2820 + y2820;\n    if (year <= 0) {\n      year--;\n    }\n\n    let yDay = jd - persianToJulianDay(year, 1, 1) + 1;\n    let month = yDay <= 186 ? Math.ceil(yDay / 31) : Math.ceil((yDay - 6) / 31);\n    let day = jd - persianToJulianDay(year, month, 1) + 1;\n\n    return new CalendarDate(this, year, month, day);\n  }\n\n  toJulianDay(date: AnyCalendarDate): number {\n    return persianToJulianDay(date.year, date.month, date.day);\n  }\n\n  getMonthsInYear(): number {\n    return 12;\n  }\n\n  getDaysInMonth(date: AnyCalendarDate): number {\n    if (date.month <= 6) {\n      return 31;\n    }\n\n    if (date.month <= 11) {\n      return 30;\n    }\n\n    return isLeapYear(date.year) ? 30 : 29;\n  }\n\n  getEras() {\n    return ['AP'];\n  }\n\n  getYearsInEra(): number {\n    // 9378-10-10 persian is 9999-12-31 gregorian.\n    // Round down to 9377 to set the maximum full year.\n    return 9377;\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from ICU.\n// Original licensing can be found in the NOTICE file in the root directory of this source tree.\n\nimport {AnyCalendarDate} from '../types';\nimport {CalendarDate} from '../CalendarDate';\nimport {fromExtendedYear, GregorianCalendar, gregorianToJulianDay, isLeapYear} from './GregorianCalendar';\n\n// Starts in 78 AD,\nconst INDIAN_ERA_START = 78;\n\n// The Indian year starts 80 days later than the Gregorian year.\nconst INDIAN_YEAR_START = 80;\n\n/**\n * The Indian National Calendar is similar to the Gregorian calendar, but with\n * years numbered since the Saka era in 78 AD (Gregorian). There are 12 months\n * in each year, with either 30 or 31 days. Only one era identifier is supported: 'saka'.\n */\nexport class IndianCalendar extends GregorianCalendar {\n  identifier = 'indian';\n\n  fromJulianDay(jd: number): CalendarDate {\n    // Gregorian date for Julian day\n    let date = super.fromJulianDay(jd);\n\n    // Year in Saka era\n    let indianYear = date.year - INDIAN_ERA_START;\n\n    // Day number in Gregorian year (starting from 0)\n    let yDay = jd - gregorianToJulianDay(date.era, date.year, 1, 1);\n\n    let leapMonth: number;\n    if (yDay < INDIAN_YEAR_START) {\n      //  Day is at the end of the preceding Saka year\n      indianYear--;\n\n      // Days in leapMonth this year, previous Gregorian year\n      leapMonth = isLeapYear(date.year - 1) ? 31 : 30;\n      yDay += leapMonth + (31 * 5) + (30 * 3) + 10;\n    } else {\n      // Days in leapMonth this year\n      leapMonth = isLeapYear(date.year) ? 31 : 30;\n      yDay -= INDIAN_YEAR_START;\n    }\n\n    let indianMonth: number;\n    let indianDay: number;\n    if (yDay < leapMonth) {\n      indianMonth = 1;\n      indianDay = yDay + 1;\n    } else {\n      let mDay = yDay - leapMonth;\n      if (mDay < (31 * 5)) {\n        indianMonth = Math.floor(mDay / 31) + 2;\n        indianDay = (mDay % 31) + 1;\n      } else {\n        mDay -= 31 * 5;\n        indianMonth = Math.floor(mDay / 30) + 7;\n        indianDay = (mDay % 30) + 1;\n      }\n    }\n\n    return new CalendarDate(this, indianYear, indianMonth, indianDay);\n  }\n\n  toJulianDay(date: AnyCalendarDate) {\n    let extendedYear = date.year + INDIAN_ERA_START;\n    let [era, year] = fromExtendedYear(extendedYear);\n\n    let leapMonth: number;\n    let jd: number;\n    if (isLeapYear(year)) {\n      leapMonth = 31;\n      jd = gregorianToJulianDay(era, year, 3, 21);\n    } else {\n      leapMonth = 30;\n      jd = gregorianToJulianDay(era, year, 3, 22);\n    }\n\n    if (date.month === 1) {\n      return jd + date.day - 1;\n    }\n\n    jd += leapMonth + Math.min(date.month - 2, 5) * 31;\n\n    if (date.month >= 8) {\n      jd += (date.month - 7) * 30;\n    }\n\n    jd += date.day - 1;\n    return jd;\n  }\n\n  getDaysInMonth(date: AnyCalendarDate): number {\n    if (date.month === 1 && isLeapYear(date.year + INDIAN_ERA_START)) {\n      return 31;\n    }\n\n    if (date.month >= 2 && date.month <= 6) {\n      return 31;\n    }\n\n    return 30;\n  }\n\n  getYearsInEra(): number {\n    // 9999-12-31 gregorian is 9920-10-10 indian.\n    // Round down to 9919 for the last full year.\n    return 9919;\n  }\n\n  getEras() {\n    return ['saka'];\n  }\n\n  balanceDate() {}\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from ICU.\n// Original licensing can be found in the NOTICE file in the root directory of this source tree.\n\nimport {AnyCalendarDate, Calendar} from '../types';\nimport {CalendarDate} from '../CalendarDate';\n\nconst CIVIL_EPOC = 1948440; // CE 622 July 16 Friday (Julian calendar) / CE 622 July 19 (Gregorian calendar)\nconst ASTRONOMICAL_EPOC = 1948439; // CE 622 July 15 Thursday (Julian calendar)\nconst UMALQURA_YEAR_START = 1300;\nconst UMALQURA_YEAR_END = 1600;\nconst UMALQURA_START_DAYS = 460322;\n\nfunction islamicToJulianDay(epoch: number, year: number, month: number, day: number): number {\n  return day +\n    Math.ceil(29.5 * (month - 1)) +\n    (year - 1) * 354 +\n    Math.floor((3 + 11 * year) / 30) +\n    epoch - 1;\n}\n\nfunction julianDayToIslamic(calendar: Calendar, epoch: number, jd: number) {\n  let year = Math.floor((30 * (jd - epoch) + 10646) / 10631);\n  let month = Math.min(12, Math.ceil((jd - (29 + islamicToJulianDay(epoch, year, 1, 1))) / 29.5) + 1);\n  let day = jd - islamicToJulianDay(epoch, year, month, 1) + 1;\n\n  return new CalendarDate(calendar, year, month, day);\n}\n\nfunction isLeapYear(year: number): boolean {\n  return (14 + 11 * year) % 30 < 11;\n}\n\n/**\n * The Islamic calendar, also known as the \"Hijri\" calendar, is used throughout much of the Arab world.\n * The civil variant uses simple arithmetic rules rather than astronomical calculations to approximate\n * the traditional calendar, which is based on sighting of the crescent moon. It uses Friday, July 16 622 CE (Julian) as the epoch.\n * Each year has 12 months, with either 354 or 355 days depending on whether it is a leap year.\n * Learn more about the available Islamic calendars [here](https://cldr.unicode.org/development/development-process/design-proposals/islamic-calendar-types).\n */\nexport class IslamicCivilCalendar implements Calendar {\n  identifier = 'islamic-civil';\n\n  fromJulianDay(jd: number): CalendarDate {\n    return julianDayToIslamic(this, CIVIL_EPOC, jd);\n  }\n\n  toJulianDay(date: AnyCalendarDate) {\n    return islamicToJulianDay(CIVIL_EPOC, date.year, date.month, date.day);\n  }\n\n  getDaysInMonth(date: AnyCalendarDate): number {\n    let length = 29 + date.month % 2;\n    if (date.month === 12 && isLeapYear(date.year)) {\n      length++;\n    }\n\n    return length;\n  }\n\n  getMonthsInYear(): number {\n    return 12;\n  }\n\n  getDaysInYear(date: AnyCalendarDate): number {\n    return isLeapYear(date.year) ? 355 : 354;\n  }\n\n  getYearsInEra(): number {\n    // 9999 gregorian\n    return 9665;\n  }\n\n  getEras() {\n    return ['AH'];\n  }\n}\n\n/**\n * The Islamic calendar, also known as the \"Hijri\" calendar, is used throughout much of the Arab world.\n * The tabular variant uses simple arithmetic rules rather than astronomical calculations to approximate\n * the traditional calendar, which is based on sighting of the crescent moon. It uses Thursday, July 15 622 CE (Julian) as the epoch.\n * Each year has 12 months, with either 354 or 355 days depending on whether it is a leap year.\n * Learn more about the available Islamic calendars [here](https://cldr.unicode.org/development/development-process/design-proposals/islamic-calendar-types).\n */\nexport class IslamicTabularCalendar extends IslamicCivilCalendar {\n  identifier = 'islamic-tbla';\n\n  fromJulianDay(jd: number): CalendarDate {\n    return julianDayToIslamic(this, ASTRONOMICAL_EPOC, jd);\n  }\n\n  toJulianDay(date: AnyCalendarDate) {\n    return islamicToJulianDay(ASTRONOMICAL_EPOC, date.year, date.month, date.day);\n  }\n}\n\n// Generated by scripts/generate-umalqura.js\nconst UMALQURA_DATA = 'qgpUDckO1AbqBmwDrQpVBakGkgepC9QF2gpcBS0NlQZKB1QLagutBa4ETwoXBYsGpQbVCtYCWwmdBE0KJg2VDawFtgm6AlsKKwWVCsoG6Qr0AnYJtgJWCcoKpAvSC9kF3AJtCU0FpQpSC6ULtAW2CVcFlwJLBaMGUgdlC2oFqworBZUMSg2lDcoF1gpXCasESwmlClILagt1BXYCtwhbBFUFqQW0BdoJ3QRuAjYJqgpUDbIN1QXaAlsJqwRVCkkLZAtxC7QFtQpVCiUNkg7JDtQG6QprCasEkwpJDaQNsg25CroEWworBZUKKgtVC1wFvQQ9Ah0JlQpKC1oLbQW2AjsJmwRVBqkGVAdqC2wFrQpVBSkLkgupC9QF2gpaBasKlQVJB2QHqgu1BbYCVgpNDiULUgtqC60FrgIvCZcESwalBqwG1gpdBZ0ETQoWDZUNqgW1BdoCWwmtBJUFygbkBuoK9QS2AlYJqgpUC9IL2QXqAm0JrQSVCkoLpQuyBbUJ1gSXCkcFkwZJB1ULagVrCisFiwpGDaMNygXWCtsEawJLCaUKUgtpC3UFdgG3CFsCKwVlBbQF2gntBG0BtgimClINqQ3UBdoKWwmrBFMGKQdiB6kLsgW1ClUFJQuSDckO0gbpCmsFqwRVCikNVA2qDbUJugQ7CpsETQqqCtUK2gJdCV4ELgqaDFUNsga5BroEXQotBZUKUguoC7QLuQXaAloJSgukDdEO6AZqC20FNQWVBkoNqA3UDdoGWwWdAisGFQtKC5ULqgWuCi4JjwwnBZUGqgbWCl0FnQI=';\nlet UMALQURA_MONTHLENGTH: Uint16Array;\nlet UMALQURA_YEAR_START_TABLE: Uint32Array;\n\nfunction umalquraYearStart(year: number): number {\n  return UMALQURA_START_DAYS + UMALQURA_YEAR_START_TABLE[year - UMALQURA_YEAR_START];\n}\n\nfunction umalquraMonthLength(year: number, month: number): number {\n  let idx = (year - UMALQURA_YEAR_START);\n  let mask = (0x01 << (11 - (month - 1)));\n  if ((UMALQURA_MONTHLENGTH[idx] & mask) === 0) {\n    return 29;\n  } else {\n    return 30;\n  }\n}\n\nfunction umalquraMonthStart(year: number, month: number): number {\n  let day = umalquraYearStart(year);\n  for (let i = 1; i < month; i++) {\n    day += umalquraMonthLength(year, i);\n  }\n  return day;\n}\n\nfunction umalquraYearLength(year: number): number {\n  return UMALQURA_YEAR_START_TABLE[year + 1 - UMALQURA_YEAR_START] - UMALQURA_YEAR_START_TABLE[year - UMALQURA_YEAR_START];\n}\n\n/**\n * The Islamic calendar, also known as the \"Hijri\" calendar, is used throughout much of the Arab world.\n * The Umalqura variant is primarily used in Saudi Arabia. It is a lunar calendar, based on astronomical\n * calculations that predict the sighting of a crescent moon. Month and year lengths vary between years\n * depending on these calculations.\n * Learn more about the available Islamic calendars [here](https://cldr.unicode.org/development/development-process/design-proposals/islamic-calendar-types).\n */\nexport class IslamicUmalquraCalendar extends IslamicCivilCalendar {\n  identifier = 'islamic-umalqura';\n\n  constructor() {\n    super();\n    if (!UMALQURA_MONTHLENGTH) {\n      UMALQURA_MONTHLENGTH = new Uint16Array(Uint8Array.from(atob(UMALQURA_DATA), c => c.charCodeAt(0)).buffer);\n    }\n\n    if (!UMALQURA_YEAR_START_TABLE) {\n      UMALQURA_YEAR_START_TABLE = new Uint32Array(UMALQURA_YEAR_END - UMALQURA_YEAR_START + 1);\n\n      let yearStart = 0;\n      for (let year = UMALQURA_YEAR_START; year <= UMALQURA_YEAR_END; year++) {\n        UMALQURA_YEAR_START_TABLE[year - UMALQURA_YEAR_START] = yearStart;\n        for (let i = 1; i <= 12; i++) {\n          yearStart += umalquraMonthLength(year, i);\n        }\n      }\n    }\n  }\n\n  fromJulianDay(jd: number): CalendarDate {\n    let days = jd - CIVIL_EPOC;\n    let startDays = umalquraYearStart(UMALQURA_YEAR_START);\n    let endDays = umalquraYearStart(UMALQURA_YEAR_END);\n    if (days < startDays || days > endDays) {\n      return super.fromJulianDay(jd);\n    } else {\n      let y = UMALQURA_YEAR_START - 1;\n      let m = 1;\n      let d = 1;\n      while (d > 0) {\n        y++;\n        d = days - umalquraYearStart(y) + 1;\n        let yearLength = umalquraYearLength(y);\n        if (d === yearLength) {\n          m = 12;\n          break;\n        } else if (d < yearLength) {\n          let monthLength = umalquraMonthLength(y, m);\n          m = 1;\n          while (d > monthLength) {\n            d -= monthLength;\n            m++;\n            monthLength = umalquraMonthLength(y, m);\n          }\n          break;\n        }\n      }\n\n      return new CalendarDate(this, y, m, (days - umalquraMonthStart(y, m) + 1));\n    }\n  }\n\n  toJulianDay(date: AnyCalendarDate): number {\n    if (date.year < UMALQURA_YEAR_START || date.year > UMALQURA_YEAR_END) {\n      return super.toJulianDay(date);\n    }\n\n    return CIVIL_EPOC + umalquraMonthStart(date.year, date.month) + (date.day - 1);\n  }\n\n  getDaysInMonth(date: AnyCalendarDate): number {\n    if (date.year < UMALQURA_YEAR_START || date.year > UMALQURA_YEAR_END) {\n      return super.getDaysInMonth(date);\n    }\n\n    return umalquraMonthLength(date.year, date.month);\n  }\n\n  getDaysInYear(date: AnyCalendarDate): number {\n    if (date.year < UMALQURA_YEAR_START || date.year > UMALQURA_YEAR_END) {\n      return super.getDaysInYear(date);\n    }\n\n    return umalquraYearLength(date.year);\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from ICU.\n// Original licensing can be found in the NOTICE file in the root directory of this source tree.\n\nimport {AnyCalendarDate, Calendar} from '../types';\nimport {CalendarDate} from '../CalendarDate';\nimport {mod, Mutable} from '../utils';\n\nconst HEBREW_EPOCH = 347997;\n\n// Hebrew date calculations are performed in terms of days, hours, and\n// \"parts\" (or halakim), which are 1/1080 of an hour, or 3 1/3 seconds.\nconst HOUR_PARTS = 1080;\nconst DAY_PARTS  = 24 * HOUR_PARTS;\n\n// An approximate value for the length of a lunar month.\n// It is used to calculate the approximate year and month of a given\n// absolute date.\nconst MONTH_DAYS = 29;\nconst MONTH_FRACT = 12 * HOUR_PARTS + 793;\nconst MONTH_PARTS = MONTH_DAYS * DAY_PARTS + MONTH_FRACT;\n\nfunction isLeapYear(year: number) {\n  return mod(year * 7 + 1, 19) < 7;\n}\n\n// Test for delay of start of new year and to avoid\n// Sunday, Wednesday, and Friday as start of the new year.\nfunction hebrewDelay1(year: number) {\n  let months = Math.floor((235 * year - 234) / 19);\n  let parts = 12084 + 13753 * months;\n  let day = months * 29 + Math.floor(parts / 25920);\n\n  if (mod(3 * (day + 1), 7) < 3) {\n    day += 1;\n  }\n\n  return day;\n}\n\n// Check for delay in start of new year due to length of adjacent years\nfunction hebrewDelay2(year: number) {\n  let last = hebrewDelay1(year - 1);\n  let present = hebrewDelay1(year);\n  let next = hebrewDelay1(year + 1);\n\n  if (next - present === 356) {\n    return 2;\n  }\n\n  if (present - last === 382) {\n    return 1;\n  }\n\n  return 0;\n}\n\nfunction startOfYear(year: number) {\n  return hebrewDelay1(year) + hebrewDelay2(year);\n}\n\nfunction getDaysInYear(year: number) {\n  return startOfYear(year + 1) - startOfYear(year);\n}\n\nfunction getYearType(year: number) {\n  let yearLength = getDaysInYear(year);\n\n  if (yearLength > 380) {\n    yearLength -= 30; // Subtract length of leap month.\n  }\n\n  switch (yearLength) {\n    case 353:\n      return 0; // deficient\n    case 354:\n      return 1; // normal\n    case 355:\n      return 2; // complete\n  }\n}\n\nfunction getDaysInMonth(year: number, month: number): number {\n  // Normalize month numbers from 1 - 13, even on non-leap years\n  if (month >= 6 && !isLeapYear(year)) {\n    month++;\n  }\n\n  // First of all, dispose of fixed-length 29 day months\n  if (month === 4 || month === 7 || month === 9 || month === 11 || month === 13) {\n    return 29;\n  }\n\n  let yearType = getYearType(year);\n\n  // If it's Heshvan, days depend on length of year\n  if (month === 2) {\n    return yearType === 2 ? 30 : 29;\n  }\n\n  // Similarly, Kislev varies with the length of year\n  if (month === 3) {\n    return yearType === 0 ? 29 : 30;\n  }\n\n  // Adar I only exists in leap years\n  if (month === 6) {\n    return isLeapYear(year) ? 30 : 0;\n  }\n\n  return 30;\n}\n\n/**\n * The Hebrew calendar is used in Israel and around the world by the Jewish faith.\n * Years include either 12 or 13 months depending on whether it is a leap year.\n * In leap years, an extra month is inserted at month 6.\n */\nexport class HebrewCalendar implements Calendar {\n  identifier = 'hebrew';\n\n  fromJulianDay(jd: number): CalendarDate {\n    let d = jd - HEBREW_EPOCH;\n    let m = (d * DAY_PARTS) / MONTH_PARTS;           // Months (approx)\n    let year = Math.floor((19 * m + 234) / 235) + 1; // Years (approx)\n    let ys = startOfYear(year);                      // 1st day of year\n    let dayOfYear = Math.floor(d - ys);\n\n    // Because of the postponement rules, it's possible to guess wrong.  Fix it.\n    while (dayOfYear < 1) {\n      year--;\n      ys = startOfYear(year);\n      dayOfYear = Math.floor(d - ys);\n    }\n\n    // Now figure out which month we're in, and the date within that month\n    let month = 1;\n    let monthStart = 0;\n    while (monthStart < dayOfYear) {\n      monthStart += getDaysInMonth(year, month);\n      month++;\n    }\n\n    month--;\n    monthStart -= getDaysInMonth(year, month);\n\n    let day = dayOfYear - monthStart;\n    return new CalendarDate(this, year, month, day);\n  }\n\n  toJulianDay(date: AnyCalendarDate) {\n    let jd = startOfYear(date.year);\n    for (let month = 1; month < date.month; month++) {\n      jd += getDaysInMonth(date.year, month);\n    }\n\n    return jd + date.day + HEBREW_EPOCH;\n  }\n\n  getDaysInMonth(date: AnyCalendarDate): number {\n    return getDaysInMonth(date.year, date.month);\n  }\n\n  getMonthsInYear(date: AnyCalendarDate): number {\n    return isLeapYear(date.year) ? 13 : 12;\n  }\n\n  getDaysInYear(date: AnyCalendarDate): number {\n    return getDaysInYear(date.year);\n  }\n\n  getYearsInEra(): number {\n    // 6239 gregorian\n    return 9999;\n  }\n\n  getEras() {\n    return ['AM'];\n  }\n\n  balanceYearMonth(date: Mutable<AnyCalendarDate>, previousDate: AnyCalendarDate) {\n    // Keep date in the same month when switching between leap years and non leap years\n    if (previousDate.year !== date.year) {\n      if (isLeapYear(previousDate.year) && !isLeapYear(date.year) && previousDate.month > 6) {\n        date.month--;\n      } else if (!isLeapYear(previousDate.year) && isLeapYear(date.year) && previousDate.month > 6) {\n        date.month++;\n      }\n    }\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from ICU.\n// Original licensing can be found in the NOTICE file in the root directory of this source tree.\n\nimport {AnyCalendarDate, Calendar} from '../types';\nimport {CalendarDate} from '../CalendarDate';\nimport {Mutable} from '../utils';\n\nconst ETHIOPIC_EPOCH = 1723856;\nconst COPTIC_EPOCH = 1824665;\n\n// The delta between Amete Alem 1 and Amete Mihret 1\n// AA 5501 = AM 1\nconst AMETE_MIHRET_DELTA = 5500;\n\nfunction ceToJulianDay(epoch: number, year: number, month: number, day: number): number {\n  return (\n    epoch                   // difference from Julian epoch to 1,1,1\n    + 365 * year            // number of days from years\n    + Math.floor(year / 4)  // extra day of leap year\n    + 30 * (month - 1)      // number of days from months (1 based)\n    + day - 1               // number of days for present month (1 based)\n  );\n}\n\nfunction julianDayToCE(epoch: number, jd: number) {\n  let year = Math.floor((4 * (jd - epoch)) / 1461);\n  let month = 1 + Math.floor((jd - ceToJulianDay(epoch, year, 1, 1)) / 30);\n  let day = jd + 1 - ceToJulianDay(epoch, year, month, 1);\n  return [year, month, day];\n}\n\nfunction getLeapDay(year: number) {\n  return Math.floor((year % 4) / 3);\n}\n\nfunction getDaysInMonth(year: number, month: number) {\n  // The Ethiopian and Coptic calendars have 13 months, 12 of 30 days each and\n  // an intercalary month at the end of the year of 5 or 6 days, depending whether\n  // the year is a leap year or not. The Leap Year follows the same rules as the\n  // Julian Calendar so that the extra month always has six days in the year before\n  // a Julian Leap Year.\n  if (month % 13 !== 0) {\n    // not intercalary month\n    return 30;\n  } else {\n    // intercalary month 5 days + possible leap day\n    return getLeapDay(year) + 5;\n  }\n}\n\n/**\n * The Ethiopic calendar system is the official calendar used in Ethiopia.\n * It includes 12 months of 30 days each, plus 5 or 6 intercalary days depending\n * on whether it is a leap year. Two eras are supported: 'AA' and 'AM'.\n */\nexport class EthiopicCalendar implements Calendar {\n  identifier = 'ethiopic';\n\n  fromJulianDay(jd: number): CalendarDate {\n    let [year, month, day] = julianDayToCE(ETHIOPIC_EPOCH, jd);\n    let era = 'AM';\n    if (year <= 0) {\n      era = 'AA';\n      year += AMETE_MIHRET_DELTA;\n    }\n\n    return new CalendarDate(this, era, year, month, day);\n  }\n\n  toJulianDay(date: AnyCalendarDate) {\n    let year = date.year;\n    if (date.era === 'AA') {\n      year -= AMETE_MIHRET_DELTA;\n    }\n\n    return ceToJulianDay(ETHIOPIC_EPOCH, year, date.month, date.day);\n  }\n\n  getDaysInMonth(date: AnyCalendarDate): number {\n    return getDaysInMonth(date.year, date.month);\n  }\n\n  getMonthsInYear(): number {\n    return 13;\n  }\n\n  getDaysInYear(date: AnyCalendarDate): number {\n    return 365 + getLeapDay(date.year);\n  }\n\n  getYearsInEra(date: AnyCalendarDate): number {\n    // 9999-12-31 gregorian is 9992-20-02 ethiopic.\n    // Round down to 9991 for the last full year.\n    // AA 9999-01-01 ethiopic is 4506-09-30 gregorian.\n    return date.era === 'AA' ? 9999 : 9991;\n  }\n\n  getEras() {\n    return ['AA', 'AM'];\n  }\n}\n\n/**\n * The Ethiopic (Amete Alem) calendar is the same as the modern Ethiopic calendar,\n * except years were measured from a different epoch. Only one era is supported: 'AA'.\n */\nexport class EthiopicAmeteAlemCalendar extends EthiopicCalendar {\n  identifier = 'ethioaa'; // also known as 'ethiopic-amete-alem' in ICU\n\n  fromJulianDay(jd: number): CalendarDate {\n    let [year, month, day] = julianDayToCE(ETHIOPIC_EPOCH, jd);\n    year += AMETE_MIHRET_DELTA;\n    return new CalendarDate(this, 'AA', year, month, day);\n  }\n\n  getEras() {\n    return ['AA'];\n  }\n\n  getYearsInEra(): number {\n    // 9999-13-04 ethioaa is the maximum date, which is equivalent to 4506-09-29 gregorian.\n    return 9999;\n  }\n}\n\n/**\n * The Coptic calendar is similar to the Ethiopic calendar.\n * It includes 12 months of 30 days each, plus 5 or 6 intercalary days depending\n * on whether it is a leap year. Two eras are supported: 'BCE' and 'CE'.\n */\nexport class CopticCalendar extends EthiopicCalendar {\n  identifier = 'coptic';\n\n  fromJulianDay(jd: number): CalendarDate {\n    let [year, month, day] = julianDayToCE(COPTIC_EPOCH, jd);\n    let era = 'CE';\n    if (year <= 0) {\n      era = 'BCE';\n      year = 1 - year;\n    }\n\n    return new CalendarDate(this, era, year, month, day);\n  }\n\n  toJulianDay(date: AnyCalendarDate) {\n    let year = date.year;\n    if (date.era === 'BCE') {\n      year = 1 - year;\n    }\n\n    return ceToJulianDay(COPTIC_EPOCH, year, date.month, date.day);\n  }\n\n  getDaysInMonth(date: AnyCalendarDate): number {\n    let year = date.year;\n    if (date.era === 'BCE') {\n      year = 1 - year;\n    }\n\n    return getDaysInMonth(year, date.month);\n  }\n\n  isInverseEra(date: AnyCalendarDate): boolean {\n    return date.era === 'BCE';\n  }\n\n  balanceDate(date: Mutable<AnyCalendarDate>) {\n    if (date.year <= 0) {\n      date.era = date.era === 'BCE' ? 'CE' : 'BCE';\n      date.year = 1 - date.year;\n    }\n  }\n\n  getEras() {\n    return ['BCE', 'CE'];\n  }\n\n  getYearsInEra(date: AnyCalendarDate): number {\n    // 9999-12-30 gregorian is 9716-02-20 coptic.\n    // Round down to 9715 for the last full year.\n    // BCE 9999-01-01 coptic is BC 9716-06-15 gregorian.\n    return date.era === 'BCE' ? 9999 : 9715;\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {BuddhistCalendar} from './calendars/BuddhistCalendar';\nimport {Calendar} from './types';\nimport {CopticCalendar, EthiopicAmeteAlemCalendar, EthiopicCalendar} from './calendars/EthiopicCalendar';\nimport {GregorianCalendar} from './calendars/GregorianCalendar';\nimport {HebrewCalendar} from './calendars/HebrewCalendar';\nimport {IndianCalendar} from './calendars/IndianCalendar';\nimport {IslamicCivilCalendar, IslamicTabularCalendar, IslamicUmalquraCalendar} from './calendars/IslamicCalendar';\nimport {JapaneseCalendar} from './calendars/JapaneseCalendar';\nimport {PersianCalendar} from './calendars/PersianCalendar';\nimport {TaiwanCalendar} from './calendars/TaiwanCalendar';\n\n/** Creates a `Calendar` instance from a Unicode calendar identifier string. */\nexport function createCalendar(name: string): Calendar {\n  switch (name) {\n    case 'buddhist':\n      return new BuddhistCalendar();\n    case 'ethiopic':\n      return new EthiopicCalendar();\n    case 'ethioaa':\n      return new EthiopicAmeteAlemCalendar();\n    case 'coptic':\n      return new CopticCalendar();\n    case 'hebrew':\n      return new HebrewCalendar();\n    case 'indian':\n      return new IndianCalendar();\n    case 'islamic-civil':\n      return new IslamicCivilCalendar();\n    case 'islamic-tbla':\n      return new IslamicTabularCalendar();\n    case 'islamic-umalqura':\n      return new IslamicUmalquraCalendar();\n    case 'japanese':\n      return new JapaneseCalendar();\n    case 'persian':\n      return new PersianCalendar();\n    case 'roc':\n      return new TaiwanCalendar();\n    case 'gregory':\n    default:\n      return new GregorianCalendar();\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nlet formatterCache = new Map<string, Intl.DateTimeFormat>();\n\ninterface ResolvedDateTimeFormatOptions extends Intl.ResolvedDateTimeFormatOptions {\n  hourCycle?: Intl.DateTimeFormatOptions['hourCycle']\n}\n\ninterface DateRangeFormatPart extends Intl.DateTimeFormatPart {\n  source: 'startRange' | 'endRange' | 'shared'\n}\n\n/** A wrapper around Intl.DateTimeFormat that fixes various browser bugs, and polyfills new features. */\nexport class DateFormatter implements Intl.DateTimeFormat {\n  private formatter: Intl.DateTimeFormat;\n  private options: Intl.DateTimeFormatOptions;\n  private resolvedHourCycle: Intl.DateTimeFormatOptions['hourCycle'];\n\n  constructor(locale: string, options: Intl.DateTimeFormatOptions = {}) {\n    this.formatter = getCachedDateFormatter(locale, options);\n    this.options = options;\n  }\n\n  /** Formats a date as a string according to the locale and format options passed to the constructor. */\n  format(value: Date): string {\n    return this.formatter.format(value);\n  }\n\n  /** Formats a date to an array of parts such as separators, numbers, punctuation, and more. */\n  formatToParts(value: Date): Intl.DateTimeFormatPart[] {\n    return this.formatter.formatToParts(value);\n  }\n\n  /** Formats a date range as a string. */\n  formatRange(start: Date, end: Date): string {\n    // @ts-ignore\n    if (typeof this.formatter.formatRange === 'function') {\n      // @ts-ignore\n      return this.formatter.formatRange(start, end);\n    }\n\n    if (end < start) {\n      throw new RangeError('End date must be >= start date');\n    }\n\n    // Very basic fallback for old browsers.\n    return `${this.formatter.format(start)}  ${this.formatter.format(end)}`;\n  }\n\n  /** Formats a date range as an array of parts. */\n  formatRangeToParts(start: Date, end: Date): DateRangeFormatPart[] {\n    // @ts-ignore\n    if (typeof this.formatter.formatRangeToParts === 'function') {\n      // @ts-ignore\n      return this.formatter.formatRangeToParts(start, end);\n    }\n\n    if (end < start) {\n      throw new RangeError('End date must be >= start date');\n    }\n\n    let startParts = this.formatter.formatToParts(start);\n    let endParts = this.formatter.formatToParts(end);\n    return [\n      ...startParts.map(p => ({...p, source: 'startRange'} as DateRangeFormatPart)),\n      {type: 'literal', value: '  ', source: 'shared'},\n      ...endParts.map(p => ({...p, source: 'endRange'} as DateRangeFormatPart))\n    ];\n  }\n\n  /** Returns the resolved formatting options based on the values passed to the constructor. */\n  resolvedOptions(): ResolvedDateTimeFormatOptions {\n    let resolvedOptions = this.formatter.resolvedOptions() as ResolvedDateTimeFormatOptions;\n    if (hasBuggyResolvedHourCycle()) {\n      if (!this.resolvedHourCycle) {\n        this.resolvedHourCycle = getResolvedHourCycle(resolvedOptions.locale, this.options);\n      }\n      resolvedOptions.hourCycle = this.resolvedHourCycle;\n      resolvedOptions.hour12 = this.resolvedHourCycle === 'h11' || this.resolvedHourCycle === 'h12';\n    }\n\n    // Safari uses a different name for the Ethiopic (Amete Alem) calendar.\n    // https://bugs.webkit.org/show_bug.cgi?id=241564\n    if (resolvedOptions.calendar === 'ethiopic-amete-alem') {\n      resolvedOptions.calendar = 'ethioaa';\n    }\n\n    return resolvedOptions;\n  }\n}\n\n// There are multiple bugs involving the hour12 and hourCycle options in various browser engines.\n//   - Chrome [1] (and the ECMA 402 spec [2]) resolve hour12: false in English and other locales to h24 (24:00 - 23:59)\n//     rather than h23 (00:00 - 23:59). Same can happen with hour12: true in French, which Chrome resolves to h11 (00:00 - 11:59)\n//     rather than h12 (12:00 - 11:59).\n//   - WebKit returns an incorrect hourCycle resolved option in the French locale due to incorrect parsing of 'h' literal\n//     in the resolved pattern. It also formats incorrectly when specifying the hourCycle option for the same reason. [3]\n// [1] https://bugs.chromium.org/p/chromium/issues/detail?id=1045791\n// [2] https://github.com/tc39/ecma402/issues/402\n// [3] https://bugs.webkit.org/show_bug.cgi?id=229313\n\n// https://github.com/unicode-org/cldr/blob/018b55eff7ceb389c7e3fc44e2f657eae3b10b38/common/supplemental/supplementalData.xml#L4774-L4802\nconst hour12Preferences = {\n  true: {\n    // Only Japanese uses the h11 style for 12 hour time. All others use h12.\n    ja: 'h11'\n  },\n  false: {\n    // All locales use h23 for 24 hour time. None use h24.\n  }\n};\n\nfunction getCachedDateFormatter(locale: string, options: Intl.DateTimeFormatOptions = {}): Intl.DateTimeFormat {\n  // Work around buggy hour12 behavior in Chrome / ECMA 402 spec by using hourCycle instead.\n  // Only apply the workaround if the issue is detected, because the hourCycle option is buggy in Safari.\n  if (typeof options.hour12 === 'boolean' && hasBuggyHour12Behavior()) {\n    options = {...options};\n    let pref = hour12Preferences[String(options.hour12)][locale.split('-')[0]];\n    let defaultHourCycle = options.hour12 ? 'h12' : 'h23';\n    options.hourCycle = pref ?? defaultHourCycle;\n    delete options.hour12;\n  }\n\n  let cacheKey = locale + (options ? Object.entries(options).sort((a, b) => a[0] < b[0] ? -1 : 1).join() : '');\n  if (formatterCache.has(cacheKey)) {\n    return formatterCache.get(cacheKey);\n  }\n\n  let numberFormatter = new Intl.DateTimeFormat(locale, options);\n  formatterCache.set(cacheKey, numberFormatter);\n  return numberFormatter;\n}\n\nlet _hasBuggyHour12Behavior: boolean = null;\nfunction hasBuggyHour12Behavior() {\n  if (_hasBuggyHour12Behavior == null) {\n    _hasBuggyHour12Behavior = new Intl.DateTimeFormat('en-US', {\n      hour: 'numeric',\n      hour12: false\n    }).format(new Date(2020, 2, 3, 0)) === '24';\n  }\n\n  return _hasBuggyHour12Behavior;\n}\n\nlet _hasBuggyResolvedHourCycle: boolean = null;\nfunction hasBuggyResolvedHourCycle() {\n  if (_hasBuggyResolvedHourCycle == null) {\n    _hasBuggyResolvedHourCycle = (new Intl.DateTimeFormat('fr', {\n      hour: 'numeric',\n      hour12: false\n    }).resolvedOptions() as ResolvedDateTimeFormatOptions).hourCycle === 'h12';\n  }\n\n  return _hasBuggyResolvedHourCycle;\n}\n\nfunction getResolvedHourCycle(locale: string, options: Intl.DateTimeFormatOptions) {\n  if (!options.timeStyle && !options.hour) {\n    return undefined;\n  }\n\n  // Work around buggy results in resolved hourCycle and hour12 options in WebKit.\n  // Format the minimum possible hour and maximum possible hour in a day and parse the results.\n  locale = locale.replace(/(-u-)?-nu-[a-zA-Z0-9]+/, '');\n  locale += (locale.includes('-u-') ? '' : '-u') + '-nu-latn';\n  let formatter = getCachedDateFormatter(locale, {\n    ...options,\n    timeZone: undefined // use local timezone\n  });\n\n  let min = parseInt(formatter.formatToParts(new Date(2020, 2, 3, 0)).find(p => p.type === 'hour').value, 10);\n  let max = parseInt(formatter.formatToParts(new Date(2020, 2, 3, 23)).find(p => p.type === 'hour').value, 10);\n\n  if (min === 0 && max === 23) {\n    return 'h23';\n  }\n\n  if (min === 24 && max === 23) {\n    return 'h24';\n  }\n\n  if (min === 0 && max === 11) {\n    return 'h11';\n  }\n\n  if (min === 12 && max === 11) {\n    return 'h12';\n  }\n\n  throw new Error('Unexpected hour cycle result');\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport type {NumberFormatOptions} from './NumberFormatter';\n\nexport {NumberFormatter} from './NumberFormatter';\nexport {NumberParser} from './NumberParser';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nlet formatterCache = new Map<string, Intl.NumberFormat>();\n\nlet supportsSignDisplay = false;\ntry {\n  // @ts-ignore\n  supportsSignDisplay = (new Intl.NumberFormat('de-DE', {signDisplay: 'exceptZero'})).resolvedOptions().signDisplay === 'exceptZero';\n  // eslint-disable-next-line no-empty\n} catch (e) {}\n\nlet supportsUnit = false;\ntry {\n  // @ts-ignore\n  supportsUnit = (new Intl.NumberFormat('de-DE', {style: 'unit', unit: 'degree'})).resolvedOptions().style === 'unit';\n  // eslint-disable-next-line no-empty\n} catch (e) {}\n\n// Polyfill for units since Safari doesn't support them yet. See https://bugs.webkit.org/show_bug.cgi?id=215438.\n// Currently only polyfilling the unit degree in narrow format for ColorSlider in our supported locales.\n// Values were determined by switching to each locale manually in Chrome.\nconst UNITS = {\n  degree: {\n    narrow: {\n      default: '',\n      'ja-JP': ' ',\n      'zh-TW': '',\n      'sl-SI': ' '\n      // Arabic?? But Safari already doesn't use Arabic digits so might be ok...\n      // https://bugs.webkit.org/show_bug.cgi?id=218139\n    }\n  }\n};\n\nexport interface NumberFormatOptions extends Intl.NumberFormatOptions {\n  /** Overrides default numbering system for the current locale. */\n  numberingSystem?: string\n}\n\ninterface NumberRangeFormatPart extends Intl.NumberFormatPart {\n  source: 'startRange' | 'endRange' | 'shared'\n}\n\n/**\n * A wrapper around Intl.NumberFormat providing additional options, polyfills, and caching for performance.\n */\nexport class NumberFormatter implements Intl.NumberFormat {\n  private numberFormatter: Intl.NumberFormat;\n  private options: NumberFormatOptions;\n\n  constructor(locale: string, options: NumberFormatOptions = {}) {\n    this.numberFormatter = getCachedNumberFormatter(locale, options);\n    this.options = options;\n  }\n\n  /** Formats a number value as a string, according to the locale and options provided to the constructor. */\n  format(value: number): string {\n    let res = '';\n    if (!supportsSignDisplay && this.options.signDisplay != null) {\n      res = numberFormatSignDisplayPolyfill(this.numberFormatter, this.options.signDisplay, value);\n    } else {\n      res = this.numberFormatter.format(value);\n    }\n\n    if (this.options.style === 'unit' && !supportsUnit) {\n      let {unit, unitDisplay = 'short', locale} = this.resolvedOptions();\n      let values = UNITS[unit]?.[unitDisplay];\n      res += values[locale] || values.default;\n    }\n\n    return res;\n  }\n\n  /** Formats a number to an array of parts such as separators, digits, punctuation, and more. */\n  formatToParts(value: number): Intl.NumberFormatPart[] {\n    // TODO: implement signDisplay for formatToParts\n    // @ts-ignore\n    return this.numberFormatter.formatToParts(value);\n  }\n\n  /** Formats a number range as a string. */\n  formatRange(start: number, end: number): string {\n    // @ts-ignore\n    if (typeof this.numberFormatter.formatRange === 'function') {\n      // @ts-ignore\n      return this.numberFormatter.formatRange(start, end);\n    }\n\n    if (end < start) {\n      throw new RangeError('End date must be >= start date');\n    }\n\n    // Very basic fallback for old browsers.\n    return `${this.format(start)}  ${this.format(end)}`;\n  }\n\n  /** Formats a number range as an array of parts. */\n  formatRangeToParts(start: number, end: number): NumberRangeFormatPart[] {\n    // @ts-ignore\n    if (typeof this.numberFormatter.formatRangeToParts === 'function') {\n      // @ts-ignore\n      return this.numberFormatter.formatRangeToParts(start, end);\n    }\n\n    if (end < start) {\n      throw new RangeError('End date must be >= start date');\n    }\n\n    let startParts = this.numberFormatter.formatToParts(start);\n    let endParts = this.numberFormatter.formatToParts(end);\n    return [\n      ...startParts.map(p => ({...p, source: 'startRange'} as NumberRangeFormatPart)),\n      {type: 'literal', value: '  ', source: 'shared'},\n      ...endParts.map(p => ({...p, source: 'endRange'} as NumberRangeFormatPart))\n    ];\n  }\n\n  /** Returns the resolved formatting options based on the values passed to the constructor. */\n  resolvedOptions(): Intl.ResolvedNumberFormatOptions {\n    let options = this.numberFormatter.resolvedOptions();\n    if (!supportsSignDisplay && this.options.signDisplay != null) {\n      options = {...options, signDisplay: this.options.signDisplay};\n    }\n\n    if (!supportsUnit && this.options.style === 'unit') {\n      options = {...options, style: 'unit', unit: this.options.unit, unitDisplay: this.options.unitDisplay};\n    }\n\n    return options;\n  }\n}\n\nfunction getCachedNumberFormatter(locale: string, options: NumberFormatOptions = {}): Intl.NumberFormat {\n  let {numberingSystem} = options;\n  if (numberingSystem && locale.indexOf('-u-nu-') === -1) {\n    locale = `${locale}-u-nu-${numberingSystem}`;\n  }\n\n  if (options.style === 'unit' && !supportsUnit) {\n    let {unit, unitDisplay = 'short'} = options;\n    if (!unit) {\n      throw new Error('unit option must be provided with style: \"unit\"');\n    }\n    if (!UNITS[unit]?.[unitDisplay]) {\n      throw new Error(`Unsupported unit ${unit} with unitDisplay = ${unitDisplay}`);\n    }\n    options = {...options, style: 'decimal'};\n  }\n\n  let cacheKey = locale + (options ? Object.entries(options).sort((a, b) => a[0] < b[0] ? -1 : 1).join() : '');\n  if (formatterCache.has(cacheKey)) {\n    return formatterCache.get(cacheKey);\n  }\n\n  let numberFormatter = new Intl.NumberFormat(locale, options);\n  formatterCache.set(cacheKey, numberFormatter);\n  return numberFormatter;\n}\n\n/** @private - exported for tests */\nexport function numberFormatSignDisplayPolyfill(numberFormat: Intl.NumberFormat, signDisplay: string, num: number) {\n  if (signDisplay === 'auto') {\n    return numberFormat.format(num);\n  } else if (signDisplay === 'never') {\n    return numberFormat.format(Math.abs(num));\n  } else {\n    let needsPositiveSign = false;\n    if (signDisplay === 'always') {\n      needsPositiveSign = num > 0 || Object.is(num, 0);\n    } else if (signDisplay === 'exceptZero') {\n      if (Object.is(num, -0) || Object.is(num, 0)) {\n        num = Math.abs(num);\n      } else {\n        needsPositiveSign = num > 0;\n      }\n    }\n\n    if (needsPositiveSign) {\n      let negative = numberFormat.format(-num);\n      let noSign = numberFormat.format(num);\n      // ignore RTL/LTR marker character\n      let minus = negative.replace(noSign, '').replace(/\\u200e|\\u061C/, '');\n      if ([...minus].length !== 1) {\n        console.warn('@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case');\n      }\n      let positive = negative.replace(noSign, '!!!').replace(minus, '+').replace('!!!', noSign);\n      return positive;\n    } else {\n      return numberFormat.format(num);\n    }\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\ninterface Symbols {\n  minusSign: string,\n  plusSign: string,\n  decimal: string,\n  group: string,\n  literals: RegExp,\n  numeral: RegExp,\n  index: (v: string) => string\n}\n\nconst CURRENCY_SIGN_REGEX = new RegExp('^.*\\\\(.*\\\\).*$');\nconst NUMBERING_SYSTEMS = ['latn', 'arab', 'hanidec'];\n\n/**\n * A NumberParser can be used to perform locale-aware parsing of numbers from Unicode strings,\n * as well as validation of partial user input. It automatically detects the numbering system\n * used in the input, and supports parsing decimals, percentages, currency values, and units\n * according to the locale.\n */\nexport class NumberParser {\n  private locale: string;\n  private options: Intl.NumberFormatOptions;\n\n  constructor(locale: string, options: Intl.NumberFormatOptions = {}) {\n    this.locale = locale;\n    this.options = options;\n  }\n\n  /**\n   * Parses the given string to a number. Returns NaN if a valid number could not be parsed.\n   */\n  parse(value: string): number {\n    return getNumberParserImpl(this.locale, this.options, value).parse(value);\n  }\n\n  /**\n   * Returns whether the given string could potentially be a valid number. This should be used to\n   * validate user input as the user types. If a `minValue` or `maxValue` is provided, the validity\n   * of the minus/plus sign characters can be checked.\n   */\n  isValidPartialNumber(value: string, minValue?: number, maxValue?: number): boolean {\n    return getNumberParserImpl(this.locale, this.options, value).isValidPartialNumber(value, minValue, maxValue);\n  }\n\n  /**\n   * Returns a numbering system for which the given string is valid in the current locale.\n   * If no numbering system could be detected, the default numbering system for the current\n   * locale is returned.\n   */\n  getNumberingSystem(value: string): string {\n    return getNumberParserImpl(this.locale, this.options, value).options.numberingSystem;\n  }\n}\n\nconst numberParserCache = new Map<string, NumberParserImpl>();\nfunction getNumberParserImpl(locale: string, options: Intl.NumberFormatOptions, value: string) {\n  // First try the default numbering system for the provided locale\n  let defaultParser = getCachedNumberParser(locale, options);\n\n  // If that doesn't match, and the locale doesn't include a hard coded numbering system,\n  // try each of the other supported numbering systems until we find one that matches.\n  if (!locale.includes('-nu-') && !defaultParser.isValidPartialNumber(value)) {\n    for (let numberingSystem of NUMBERING_SYSTEMS) {\n      if (numberingSystem !== defaultParser.options.numberingSystem) {\n        let parser = getCachedNumberParser(locale + (locale.includes('-u-') ? '-nu-' : '-u-nu-') + numberingSystem, options);\n        if (parser.isValidPartialNumber(value)) {\n          return parser;\n        }\n      }\n    }\n  }\n\n  return defaultParser;\n}\n\nfunction getCachedNumberParser(locale: string, options: Intl.NumberFormatOptions) {\n  let cacheKey = locale + (options ? Object.entries(options).sort((a, b) => a[0] < b[0] ? -1 : 1).join() : '');\n  let parser = numberParserCache.get(cacheKey);\n  if (!parser) {\n    parser = new NumberParserImpl(locale, options);\n    numberParserCache.set(cacheKey, parser);\n  }\n\n  return parser;\n}\n\n// The actual number parser implementation. Instances of this class are cached\n// based on the locale, options, and detected numbering system.\nclass NumberParserImpl {\n  formatter: Intl.NumberFormat;\n  options: Intl.ResolvedNumberFormatOptions;\n  symbols: Symbols;\n\n  constructor(locale: string, options: Intl.NumberFormatOptions = {}) {\n    this.formatter = new Intl.NumberFormat(locale, options);\n    this.options = this.formatter.resolvedOptions();\n    this.symbols = getSymbols(this.formatter, this.options, options);\n  }\n\n  parse(value: string) {\n    // to parse the number, we need to remove anything that isn't actually part of the number, for example we want '-10.40' not '-10.40 USD'\n    let fullySanitizedValue = this.sanitize(value);\n\n    // Remove group characters, and replace decimal points and numerals with ASCII values.\n    fullySanitizedValue = replaceAll(fullySanitizedValue, this.symbols.group, '')\n      .replace(this.symbols.decimal, '.')\n      .replace(this.symbols.minusSign, '-')\n      .replace(this.symbols.numeral, this.symbols.index);\n\n    let newValue = fullySanitizedValue ? +fullySanitizedValue : NaN;\n    if (isNaN(newValue)) {\n      return NaN;\n    }\n\n    // accounting will always be stripped to a positive number, so if it's accounting and has a () around everything, then we need to make it negative again\n    if (this.options.currencySign === 'accounting' && CURRENCY_SIGN_REGEX.test(value)) {\n      newValue = -1 * newValue;\n    }\n\n    // when reading the number, if it's a percent, then it should be interpreted as being divided by 100\n    if (this.options.style === 'percent') {\n      newValue /= 100;\n      // after dividing to get the percent value, javascript may get .0210999999 instead of .0211, so fix the number of fraction digits\n      newValue = +newValue.toFixed((this.options.maximumFractionDigits ?? 0) + 2);\n    }\n\n    return newValue;\n  }\n\n  sanitize(value: string) {\n    // Remove literals and whitespace, which are allowed anywhere in the string\n    value = value.replace(this.symbols.literals, '');\n\n    // Replace the ASCII minus sign with the minus sign used in the current locale\n    // so that both are allowed in case the user's keyboard doesn't have the locale's minus sign.\n    value = value.replace('-', this.symbols.minusSign);\n\n    // In arab numeral system, their decimal character is 1643, but most keyboards don't type that\n    // instead they use the , (44) character or apparently the (1548) character.\n    if (this.options.numberingSystem === 'arab') {\n      value = value.replace(',', this.symbols.decimal);\n      value = value.replace(String.fromCharCode(1548), this.symbols.decimal);\n      value = replaceAll(value, '.', this.symbols.group);\n    }\n\n    // fr-FR group character is char code 8239, but that's not a key on the french keyboard,\n    // so allow 'period' as a group char and replace it with a space\n    if (this.options.locale === 'fr-FR') {\n      value = replaceAll(value, '.', String.fromCharCode(8239));\n    }\n\n    return value;\n  }\n\n  isValidPartialNumber(value: string, minValue: number = -Infinity, maxValue: number = Infinity): boolean {\n    value = this.sanitize(value);\n\n    // Remove minus or plus sign, which must be at the start of the string.\n    if (value.startsWith(this.symbols.minusSign) && minValue < 0) {\n      value = value.slice(this.symbols.minusSign.length);\n    } else if (this.symbols.plusSign && value.startsWith(this.symbols.plusSign) && maxValue > 0) {\n      value = value.slice(this.symbols.plusSign.length);\n    }\n\n    // Numbers cannot start with a group separator\n    if (value.startsWith(this.symbols.group)) {\n      return false;\n    }\n\n    // Remove numerals, groups, and decimals\n    value = replaceAll(value, this.symbols.group, '')\n      .replace(this.symbols.numeral, '')\n      .replace(this.symbols.decimal, '');\n\n    // The number is valid if there are no remaining characters\n    return value.length === 0;\n  }\n}\n\nconst nonLiteralParts = new Set(['decimal', 'fraction', 'integer', 'minusSign', 'plusSign', 'group']);\n\nfunction getSymbols(formatter: Intl.NumberFormat, intlOptions: Intl.ResolvedNumberFormatOptions, originalOptions: Intl.NumberFormatOptions): Symbols {\n  // Note: some locale's don't add a group symbol until there is a ten thousands place\n  let allParts = formatter.formatToParts(-10000.111);\n  let posAllParts = formatter.formatToParts(10000.111);\n  let singularParts = formatter.formatToParts(1);\n\n  let minusSign = allParts.find(p => p.type === 'minusSign')?.value ?? '-';\n  let plusSign = posAllParts.find(p => p.type === 'plusSign')?.value;\n\n  // Safari does not support the signDisplay option, but our number parser polyfills it.\n  // If no plus sign was returned, but the original options contained signDisplay, default to the '+' character.\n  // @ts-ignore\n  if (!plusSign && (originalOptions?.signDisplay === 'exceptZero' || originalOptions?.signDisplay === 'always')) {\n    plusSign = '+';\n  }\n\n  let decimal = allParts.find(p => p.type === 'decimal')?.value;\n  let group = allParts.find(p => p.type === 'group')?.value;\n\n  // this set is also for a regex, it's all literals that might be in the string we want to eventually parse that\n  // don't contribute to the numerical value\n  let pluralLiterals = allParts.filter(p => !nonLiteralParts.has(p.type)).map(p => escapeRegex(p.value));\n  let singularLiterals = singularParts.filter(p => !nonLiteralParts.has(p.type)).map(p => escapeRegex(p.value));\n  let sortedLiterals = [...new Set([...singularLiterals, ...pluralLiterals])].sort((a, b) => b.length - a.length);\n  let literals = sortedLiterals.length === 0 ? \n      new RegExp('[\\\\p{White_Space}]', 'gu') :\n      new RegExp(`${sortedLiterals.join('|')}|[\\\\p{White_Space}]`, 'gu');\n\n  // These are for replacing non-latn characters with the latn equivalent\n  let numerals = [...new Intl.NumberFormat(intlOptions.locale, {useGrouping: false}).format(9876543210)].reverse();\n  let indexes = new Map(numerals.map((d, i) => [d, i]));\n  let numeral = new RegExp(`[${numerals.join('')}]`, 'g');\n  let index = d => String(indexes.get(d));\n\n  return {minusSign, plusSign, decimal, group, literals, numeral, index};\n}\n\nfunction replaceAll(str: string, find: string, replace: string) {\n  // @ts-ignore\n  if (str.replaceAll) {\n    // @ts-ignore\n    return str.replaceAll(find, replace);\n  }\n\n  return str.split(find).join(replace);\n}\n\nfunction escapeRegex(string: string) {\n  return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport {I18nProvider, useLocale} from './context';\nexport {useMessageFormatter} from './useMessageFormatter';\nexport {useLocalizedStringFormatter} from './useLocalizedStringFormatter';\nexport {useListFormatter} from './useListFormatter';\nexport {useDateFormatter} from './useDateFormatter';\nexport {useNumberFormatter} from './useNumberFormatter';\nexport {useCollator} from './useCollator';\nexport {useFilter} from './useFilter';\n\nexport type {FormatMessage} from './useMessageFormatter';\nexport type {I18nProviderProps} from './context';\nexport type {Locale} from './useDefaultLocale';\nexport type {LocalizedStrings} from '@internationalized/message';\nexport type {DateFormatterOptions} from './useDateFormatter';\nexport type {DateFormatter} from '@internationalized/date';\nexport type {Filter} from './useFilter';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {isRTL} from './utils';\nimport {Locale, useDefaultLocale} from './useDefaultLocale';\nimport React, {ReactNode, useContext} from 'react';\n\nexport interface I18nProviderProps {\n  /** Contents that should have the locale applied. */\n  children: ReactNode,\n  /** The locale to apply to the children. */\n  locale?: string\n}\n\nconst I18nContext = React.createContext<Locale>(null);\n\n/**\n * Provides the locale for the application to all child components.\n */\nexport function I18nProvider(props: I18nProviderProps) {\n  let {locale, children} = props;\n  let defaultLocale = useDefaultLocale();\n\n  let value: Locale = locale ? {\n    locale,\n    direction: isRTL(locale) ? 'rtl' : 'ltr'\n  } : defaultLocale;\n\n  return (\n    <I18nContext.Provider value={value}>\n      {children}\n    </I18nContext.Provider>\n  );\n}\n\n/**\n * Returns the current locale and layout direction.\n */\nexport function useLocale(): Locale {\n  let defaultLocale = useDefaultLocale();\n  let context = useContext(I18nContext);\n  return context || defaultLocale;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// https://en.wikipedia.org/wiki/Right-to-left\nconst RTL_SCRIPTS = new Set(['Arab', 'Syrc', 'Samr', 'Mand', 'Thaa', 'Mend', 'Nkoo', 'Adlm', 'Rohg', 'Hebr']);\nconst RTL_LANGS = new Set(['ae', 'ar', 'arc', 'bcc', 'bqi', 'ckb', 'dv', 'fa', 'glk', 'he', 'ku', 'mzn', 'nqo', 'pnb', 'ps', 'sd', 'ug', 'ur', 'yi']);\n\n/**\n * Determines if a locale is read right to left using [Intl.Locale]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale}.\n */\nexport function isRTL(locale: string) {\n  // If the Intl.Locale API is available, use it to get the script for the locale.\n  // This is more accurate than guessing by language, since languages can be written in multiple scripts.\n  // @ts-ignore\n  if (Intl.Locale) {\n    // @ts-ignore\n    let script = new Intl.Locale(locale).maximize().script;\n    return RTL_SCRIPTS.has(script);\n  }\n\n  // If not, just guess by the language (first part of the locale)\n  let lang = locale.split('-')[0];\n  return RTL_LANGS.has(lang);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Direction} from '@react-types/shared';\nimport {isRTL} from './utils';\nimport {useEffect, useState} from 'react';\nimport {useIsSSR} from '@react-aria/ssr';\n\nexport interface Locale {\n  /** The [BCP47](https://www.ietf.org/rfc/bcp/bcp47.txt) language code for the locale. */\n  locale: string,\n  /** The writing direction for the locale. */\n  direction: Direction\n}\n\n/**\n * Gets the locale setting of the browser.\n */\nexport function getDefaultLocale(): Locale {\n  // @ts-ignore\n  let locale = (typeof navigator !== 'undefined' && (navigator.language || navigator.userLanguage)) || 'en-US';\n  try {\n    // @ts-ignore\n    Intl.DateTimeFormat.supportedLocalesOf([locale]);\n  } catch (_err) {\n    locale = 'en-US';\n  }\n  return {\n    locale,\n    direction: isRTL(locale) ? 'rtl' : 'ltr'\n  };\n}\n\nlet currentLocale = getDefaultLocale();\nlet listeners = new Set<(locale: Locale) => void>();\n\nfunction updateLocale() {\n  currentLocale = getDefaultLocale();\n  for (let listener of listeners) {\n    listener(currentLocale);\n  }\n}\n\n/**\n * Returns the current browser/system language, and updates when it changes.\n */\nexport function useDefaultLocale(): Locale {\n  let isSSR = useIsSSR();\n  let [defaultLocale, setDefaultLocale] = useState(currentLocale);\n\n  useEffect(() => {\n    if (listeners.size === 0) {\n      window.addEventListener('languagechange', updateLocale);\n    }\n\n    listeners.add(setDefaultLocale);\n\n    return () => {\n      listeners.delete(setDefaultLocale);\n      if (listeners.size === 0) {\n        window.removeEventListener('languagechange', updateLocale);\n      }\n    };\n  }, []);\n\n  // We cannot determine the browser's language on the server, so default to\n  // en-US. This will be updated after hydration on the client to the correct value.\n  if (isSSR) {\n    return {\n      locale: 'en-US',\n      direction: 'ltr'\n    };\n  }\n\n  return defaultLocale;\n}\n", "\"use strict\";", "/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {LocalizedString, LocalizedStringDictionary, LocalizedStringFormatter, LocalizedStrings} from '@internationalized/string';\nimport {useLocale} from './context';\nimport {useMemo} from 'react';\n\nconst cache = new WeakMap();\nfunction getCachedDictionary<K extends string, T extends LocalizedString>(strings: LocalizedStrings<K, T>): LocalizedStringDictionary<K, T> {\n  let dictionary = cache.get(strings);\n  if (!dictionary) {\n    dictionary = new LocalizedStringDictionary(strings);\n    cache.set(strings, dictionary);\n  }\n\n  return dictionary;\n}\n\n/**\n * Provides localized string formatting for the current locale. Supports interpolating variables,\n * selecting the correct pluralization, and formatting numbers. Automatically updates when the locale changes.\n * @param strings - A mapping of languages to localized strings by key.\n */\nexport function useLocalizedStringFormatter<K extends string = string, T extends LocalizedString = string>(strings: LocalizedStrings<K, T>): LocalizedStringFormatter<K, T> {\n  let {locale} = useLocale();\n  let dictionary = useMemo(() => getCachedDictionary(strings), [strings]);\n  return useMemo(() => new LocalizedStringFormatter(locale, dictionary), [locale, dictionary]);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useLocale} from './context';\nimport {useMemo} from 'react';\n\n/**\n * Provides localized list formatting for the current locale. Automatically updates when the locale changes,\n * and handles caching of the list formatter for performance.\n * @param options - Formatting options.\n */\n\n// Typescript version 4.7 supports Intl.ListFormat - TODO upgrade\n// @ts-ignore\nexport function useListFormatter(options: Intl.ListFormatOptions = {}): Intl.ListFormat {\n  let {locale} = useLocale();\n  // @ts-ignore\n  return useMemo(() => new Intl.ListFormat(locale, options), [locale, options]);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DateFormatter} from '@internationalized/date';\nimport {useLocale} from './context';\nimport {useMemo, useRef} from 'react';\n\nexport interface DateFormatterOptions extends Intl.DateTimeFormatOptions {\n  calendar?: string\n}\n\n/**\n * Provides localized date formatting for the current locale. Automatically updates when the locale changes,\n * and handles caching of the date formatter for performance.\n * @param options - Formatting options.\n */\nexport function useDateFormatter(options?: DateFormatterOptions): DateFormatter {\n  // Reuse last options object if it is shallowly equal, which allows the useMemo result to also be reused.\n  let lastOptions = useRef(null);\n  if (options && lastOptions.current && isEqual(options, lastOptions.current)) {\n    options = lastOptions.current;\n  }\n\n  lastOptions.current = options;\n\n  let {locale} = useLocale();\n  return useMemo(() => new DateFormatter(locale, options), [locale, options]);\n}\n\nfunction isEqual(a: DateFormatterOptions, b: DateFormatterOptions) {\n  if (a === b) {\n    return true;\n  }\n\n  let aKeys = Object.keys(a);\n  let bKeys = Object.keys(b);\n  if (aKeys.length !== bKeys.length) {\n    return false;\n  }\n\n  for (let key of aKeys) {\n    if (b[key] !== a[key]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {NumberFormatOptions, NumberFormatter} from '@internationalized/number';\nimport {useLocale} from './context';\nimport {useMemo} from 'react';\n\n/**\n * Provides localized number formatting for the current locale. Automatically updates when the locale changes,\n * and handles caching of the number formatter for performance.\n * @param options - Formatting options.\n */\nexport function useNumberFormatter(options: NumberFormatOptions = {}): Intl.NumberFormat {\n  let {locale} = useLocale();\n  return useMemo(() => new NumberFormatter(locale, options), [locale, options]);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useLocale} from './context';\n\nlet cache = new Map<string, Intl.Collator>();\n\n/**\n * Provides localized string collation for the current locale. Automatically updates when the locale changes,\n * and handles caching of the collator for performance.\n * @param options - Collator options.\n */\nexport function useCollator(options?: Intl.CollatorOptions): Intl.Collator {\n  let {locale} = useLocale();\n\n  let cacheKey = locale + (options ? Object.entries(options).sort((a, b) => a[0] < b[0] ? -1 : 1).join() : '');\n  if (cache.has(cacheKey)) {\n    return cache.get(cacheKey);\n  }\n\n  let formatter = new Intl.Collator(locale, options);\n  cache.set(cacheKey, formatter);\n  return formatter;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCollator} from './useCollator';\n\nexport interface Filter {\n  /** Returns whether a string starts with a given substring. */\n  startsWith(string: string, substring: string): boolean,\n  /** Returns whether a string ends with a given substring. */\n  endsWith(string: string, substring: string): boolean,\n  /** Returns whether a string contains a given substring. */\n  contains(string: string, substring: string): boolean\n}\n\n/**\n * Provides localized string search functionality that is useful for filtering or matching items\n * in a list. Options can be provided to adjust the sensitivity to case, diacritics, and other parameters.\n */\nexport function useFilter(options?: Intl.CollatorOptions): Filter {\n  let collator = useCollator({\n    usage: 'search',\n    ...options\n  });\n\n  // TODO(later): these methods don't currently support the ignorePunctuation option.\n\n  return {\n    startsWith(string, substring) {\n      if (substring.length === 0) {\n        return true;\n      }\n\n      // Normalize both strings so we can slice safely\n      // TODO: take into account the ignorePunctuation option as well...\n      string = string.normalize('NFC');\n      substring = substring.normalize('NFC');\n      return collator.compare(string.slice(0, substring.length), substring) === 0;\n    },\n    endsWith(string, substring) {\n      if (substring.length === 0) {\n        return true;\n      }\n\n      string = string.normalize('NFC');\n      substring = substring.normalize('NFC');\n      return collator.compare(string.slice(-substring.length), substring) === 0;\n    },\n    contains(string, substring) {\n      if (substring.length === 0) {\n        return true;\n      }\n\n      string = string.normalize('NFC');\n      substring = substring.normalize('NFC');\n\n      let scan = 0;\n      let sliceLen = substring.length;\n      for (; scan + sliceLen <= string.length; scan++) {\n        let slice = string.slice(scan, scan + sliceLen);\n        if (collator.compare(substring, slice) === 0) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  };\n}\n", "/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n", "/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n", "export var ErrorKind;\n(function (ErrorKind) {\n    /** Argument is unclosed (e.g. `{0`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_CLOSING_BRACE\"] = 1] = \"EXPECT_ARGUMENT_CLOSING_BRACE\";\n    /** Argument is empty (e.g. `{}`). */\n    ErrorKind[ErrorKind[\"EMPTY_ARGUMENT\"] = 2] = \"EMPTY_ARGUMENT\";\n    /** Argument is malformed (e.g. `{foo!}``) */\n    ErrorKind[ErrorKind[\"MALFORMED_ARGUMENT\"] = 3] = \"MALFORMED_ARGUMENT\";\n    /** Expect an argument type (e.g. `{foo,}`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_TYPE\"] = 4] = \"EXPECT_ARGUMENT_TYPE\";\n    /** Unsupported argument type (e.g. `{foo,foo}`) */\n    ErrorKind[ErrorKind[\"INVALID_ARGUMENT_TYPE\"] = 5] = \"INVALID_ARGUMENT_TYPE\";\n    /** Expect an argument style (e.g. `{foo, number, }`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_STYLE\"] = 6] = \"EXPECT_ARGUMENT_STYLE\";\n    /** The number skeleton is invalid. */\n    ErrorKind[ErrorKind[\"INVALID_NUMBER_SKELETON\"] = 7] = \"INVALID_NUMBER_SKELETON\";\n    /** The date time skeleton is invalid. */\n    ErrorKind[ErrorKind[\"INVALID_DATE_TIME_SKELETON\"] = 8] = \"INVALID_DATE_TIME_SKELETON\";\n    /** Exepct a number skeleton following the `::` (e.g. `{foo, number, ::}`) */\n    ErrorKind[ErrorKind[\"EXPECT_NUMBER_SKELETON\"] = 9] = \"EXPECT_NUMBER_SKELETON\";\n    /** Exepct a date time skeleton following the `::` (e.g. `{foo, date, ::}`) */\n    ErrorKind[ErrorKind[\"EXPECT_DATE_TIME_SKELETON\"] = 10] = \"EXPECT_DATE_TIME_SKELETON\";\n    /** Unmatched apostrophes in the argument style (e.g. `{foo, number, 'test`) */\n    ErrorKind[ErrorKind[\"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\"] = 11] = \"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\";\n    /** Missing select argument options (e.g. `{foo, select}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_OPTIONS\"] = 12] = \"EXPECT_SELECT_ARGUMENT_OPTIONS\";\n    /** Expecting an offset value in `plural` or `selectordinal` argument (e.g `{foo, plural, offset}`) */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 13] = \"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\";\n    /** Offset value in `plural` or `selectordinal` is invalid (e.g. `{foo, plural, offset: x}`) */\n    ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 14] = \"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\";\n    /** Expecting a selector in `select` argument (e.g `{foo, select}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR\"] = 15] = \"EXPECT_SELECT_ARGUMENT_SELECTOR\";\n    /** Expecting a selector in `plural` or `selectordinal` argument (e.g `{foo, plural}`) */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR\"] = 16] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR\";\n    /** Expecting a message fragment after the `select` selector (e.g. `{foo, select, apple}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\"] = 17] = \"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\";\n    /**\n     * Expecting a message fragment after the `plural` or `selectordinal` selector\n     * (e.g. `{foo, plural, one}`)\n     */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\"] = 18] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\";\n    /** Selector in `plural` or `selectordinal` is malformed (e.g. `{foo, plural, =x {#}}`) */\n    ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_SELECTOR\"] = 19] = \"INVALID_PLURAL_ARGUMENT_SELECTOR\";\n    /**\n     * Duplicate selectors in `plural` or `selectordinal` argument.\n     * (e.g. {foo, plural, one {#} one {#}})\n     */\n    ErrorKind[ErrorKind[\"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\"] = 20] = \"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\";\n    /** Duplicate selectors in `select` argument.\n     * (e.g. {foo, select, apple {apple} apple {apple}})\n     */\n    ErrorKind[ErrorKind[\"DUPLICATE_SELECT_ARGUMENT_SELECTOR\"] = 21] = \"DUPLICATE_SELECT_ARGUMENT_SELECTOR\";\n    /** Plural or select argument option must have `other` clause. */\n    ErrorKind[ErrorKind[\"MISSING_OTHER_CLAUSE\"] = 22] = \"MISSING_OTHER_CLAUSE\";\n    /** The tag is malformed. (e.g. `<bold!>foo</bold!>) */\n    ErrorKind[ErrorKind[\"INVALID_TAG\"] = 23] = \"INVALID_TAG\";\n    /** The tag name is invalid. (e.g. `<123>foo</123>`) */\n    ErrorKind[ErrorKind[\"INVALID_TAG_NAME\"] = 25] = \"INVALID_TAG_NAME\";\n    /** The closing tag does not match the opening tag. (e.g. `<bold>foo</italic>`) */\n    ErrorKind[ErrorKind[\"UNMATCHED_CLOSING_TAG\"] = 26] = \"UNMATCHED_CLOSING_TAG\";\n    /** The opening tag has unmatched closing tag. (e.g. `<bold>foo`) */\n    ErrorKind[ErrorKind[\"UNCLOSED_TAG\"] = 27] = \"UNCLOSED_TAG\";\n})(ErrorKind || (ErrorKind = {}));\n", "export var TYPE;\n(function (TYPE) {\n    /**\n     * Raw text\n     */\n    TYPE[TYPE[\"literal\"] = 0] = \"literal\";\n    /**\n     * Variable w/o any format, e.g `var` in `this is a {var}`\n     */\n    TYPE[TYPE[\"argument\"] = 1] = \"argument\";\n    /**\n     * Variable w/ number format\n     */\n    TYPE[TYPE[\"number\"] = 2] = \"number\";\n    /**\n     * Variable w/ date format\n     */\n    TYPE[TYPE[\"date\"] = 3] = \"date\";\n    /**\n     * Variable w/ time format\n     */\n    TYPE[TYPE[\"time\"] = 4] = \"time\";\n    /**\n     * Variable w/ select format\n     */\n    TYPE[TYPE[\"select\"] = 5] = \"select\";\n    /**\n     * Variable w/ plural format\n     */\n    TYPE[TYPE[\"plural\"] = 6] = \"plural\";\n    /**\n     * Only possible within plural argument.\n     * This is the `#` symbol that will be substituted with the count.\n     */\n    TYPE[TYPE[\"pound\"] = 7] = \"pound\";\n    /**\n     * XML-like tag\n     */\n    TYPE[TYPE[\"tag\"] = 8] = \"tag\";\n})(TYPE || (TYPE = {}));\nexport var SKELETON_TYPE;\n(function (SKELETON_TYPE) {\n    SKELETON_TYPE[SKELETON_TYPE[\"number\"] = 0] = \"number\";\n    SKELETON_TYPE[SKELETON_TYPE[\"dateTime\"] = 1] = \"dateTime\";\n})(SKELETON_TYPE || (SKELETON_TYPE = {}));\n/**\n * Type Guards\n */\nexport function isLiteralElement(el) {\n    return el.type === TYPE.literal;\n}\nexport function isArgumentElement(el) {\n    return el.type === TYPE.argument;\n}\nexport function isNumberElement(el) {\n    return el.type === TYPE.number;\n}\nexport function isDateElement(el) {\n    return el.type === TYPE.date;\n}\nexport function isTimeElement(el) {\n    return el.type === TYPE.time;\n}\nexport function isSelectElement(el) {\n    return el.type === TYPE.select;\n}\nexport function isPluralElement(el) {\n    return el.type === TYPE.plural;\n}\nexport function isPoundElement(el) {\n    return el.type === TYPE.pound;\n}\nexport function isTagElement(el) {\n    return el.type === TYPE.tag;\n}\nexport function isNumberSkeleton(el) {\n    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.number);\n}\nexport function isDateTimeSkeleton(el) {\n    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.dateTime);\n}\nexport function createLiteralElement(value) {\n    return {\n        type: TYPE.literal,\n        value: value,\n    };\n}\nexport function createNumberElement(value, style) {\n    return {\n        type: TYPE.number,\n        value: value,\n        style: style,\n    };\n}\n", "// @generated from regex-gen.ts\nexport var SPACE_SEPARATOR_REGEX = /[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/;\n", "/**\n * https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * Credit: https://github.com/caridy/intl-datetimeformat-pattern/blob/master/index.js\n * with some tweaks\n */\nvar DATE_TIME_REGEX = /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;\n/**\n * Parse Date time skeleton into Intl.DateTimeFormatOptions\n * Ref: https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * @public\n * @param skeleton skeleton string\n */\nexport function parseDateTimeSkeleton(skeleton) {\n    var result = {};\n    skeleton.replace(DATE_TIME_REGEX, function (match) {\n        var len = match.length;\n        switch (match[0]) {\n            // Era\n            case 'G':\n                result.era = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n                break;\n            // Year\n            case 'y':\n                result.year = len === 2 ? '2-digit' : 'numeric';\n                break;\n            case 'Y':\n            case 'u':\n            case 'U':\n            case 'r':\n                throw new RangeError('`Y/u/U/r` (year) patterns are not supported, use `y` instead');\n            // Quarter\n            case 'q':\n            case 'Q':\n                throw new RangeError('`q/Q` (quarter) patterns are not supported');\n            // Month\n            case 'M':\n            case 'L':\n                result.month = ['numeric', '2-digit', 'short', 'long', 'narrow'][len - 1];\n                break;\n            // Week\n            case 'w':\n            case 'W':\n                throw new RangeError('`w/W` (week) patterns are not supported');\n            case 'd':\n                result.day = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'D':\n            case 'F':\n            case 'g':\n                throw new RangeError('`D/F/g` (day) patterns are not supported, use `d` instead');\n            // Weekday\n            case 'E':\n                result.weekday = len === 4 ? 'short' : len === 5 ? 'narrow' : 'short';\n                break;\n            case 'e':\n                if (len < 4) {\n                    throw new RangeError('`e..eee` (weekday) patterns are not supported');\n                }\n                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n                break;\n            case 'c':\n                if (len < 4) {\n                    throw new RangeError('`c..ccc` (weekday) patterns are not supported');\n                }\n                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n                break;\n            // Period\n            case 'a': // AM, PM\n                result.hour12 = true;\n                break;\n            case 'b': // am, pm, noon, midnight\n            case 'B': // flexible day periods\n                throw new RangeError('`b/B` (period) patterns are not supported, use `a` instead');\n            // Hour\n            case 'h':\n                result.hourCycle = 'h12';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'H':\n                result.hourCycle = 'h23';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'K':\n                result.hourCycle = 'h11';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'k':\n                result.hourCycle = 'h24';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'j':\n            case 'J':\n            case 'C':\n                throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');\n            // Minute\n            case 'm':\n                result.minute = ['numeric', '2-digit'][len - 1];\n                break;\n            // Second\n            case 's':\n                result.second = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'S':\n            case 'A':\n                throw new RangeError('`S/A` (second) patterns are not supported, use `s` instead');\n            // Zone\n            case 'z': // 1..3, 4: specific non-location format\n                result.timeZoneName = len < 4 ? 'short' : 'long';\n                break;\n            case 'Z': // 1..3, 4, 5: The ISO8601 varios formats\n            case 'O': // 1, 4: miliseconds in day short, long\n            case 'v': // 1, 4: generic non-location format\n            case 'V': // 1, 2, 3, 4: time zone ID or city\n            case 'X': // 1, 2, 3, 4: The ISO8601 varios formats\n            case 'x': // 1, 2, 3, 4: The ISO8601 varios formats\n                throw new RangeError('`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead');\n        }\n        return '';\n    });\n    return result;\n}\n", "/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n", "// @generated from regex-gen.ts\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/i;\n", "import { __assign } from \"tslib\";\nimport { WHITE_SPACE_REGEX } from './regex.generated';\nexport function parseNumberSkeletonFromString(skeleton) {\n    if (skeleton.length === 0) {\n        throw new Error('Number skeleton cannot be empty');\n    }\n    // Parse the skeleton\n    var stringTokens = skeleton\n        .split(WHITE_SPACE_REGEX)\n        .filter(function (x) { return x.length > 0; });\n    var tokens = [];\n    for (var _i = 0, stringTokens_1 = stringTokens; _i < stringTokens_1.length; _i++) {\n        var stringToken = stringTokens_1[_i];\n        var stemAndOptions = stringToken.split('/');\n        if (stemAndOptions.length === 0) {\n            throw new Error('Invalid number skeleton');\n        }\n        var stem = stemAndOptions[0], options = stemAndOptions.slice(1);\n        for (var _a = 0, options_1 = options; _a < options_1.length; _a++) {\n            var option = options_1[_a];\n            if (option.length === 0) {\n                throw new Error('Invalid number skeleton');\n            }\n        }\n        tokens.push({ stem: stem, options: options });\n    }\n    return tokens;\n}\nfunction icuUnitToEcma(unit) {\n    return unit.replace(/^(.*?)-/, '');\n}\nvar FRACTION_PRECISION_REGEX = /^\\.(?:(0+)(\\*)?|(#+)|(0+)(#+))$/g;\nvar SIGNIFICANT_PRECISION_REGEX = /^(@+)?(\\+|#+)?[rs]?$/g;\nvar INTEGER_WIDTH_REGEX = /(\\*)(0+)|(#+)(0+)|(0+)/g;\nvar CONCISE_INTEGER_WIDTH_REGEX = /^(0+)$/;\nfunction parseSignificantPrecision(str) {\n    var result = {};\n    if (str[str.length - 1] === 'r') {\n        result.roundingPriority = 'morePrecision';\n    }\n    else if (str[str.length - 1] === 's') {\n        result.roundingPriority = 'lessPrecision';\n    }\n    str.replace(SIGNIFICANT_PRECISION_REGEX, function (_, g1, g2) {\n        // @@@ case\n        if (typeof g2 !== 'string') {\n            result.minimumSignificantDigits = g1.length;\n            result.maximumSignificantDigits = g1.length;\n        }\n        // @@@+ case\n        else if (g2 === '+') {\n            result.minimumSignificantDigits = g1.length;\n        }\n        // .### case\n        else if (g1[0] === '#') {\n            result.maximumSignificantDigits = g1.length;\n        }\n        // .@@## or .@@@ case\n        else {\n            result.minimumSignificantDigits = g1.length;\n            result.maximumSignificantDigits =\n                g1.length + (typeof g2 === 'string' ? g2.length : 0);\n        }\n        return '';\n    });\n    return result;\n}\nfunction parseSign(str) {\n    switch (str) {\n        case 'sign-auto':\n            return {\n                signDisplay: 'auto',\n            };\n        case 'sign-accounting':\n        case '()':\n            return {\n                currencySign: 'accounting',\n            };\n        case 'sign-always':\n        case '+!':\n            return {\n                signDisplay: 'always',\n            };\n        case 'sign-accounting-always':\n        case '()!':\n            return {\n                signDisplay: 'always',\n                currencySign: 'accounting',\n            };\n        case 'sign-except-zero':\n        case '+?':\n            return {\n                signDisplay: 'exceptZero',\n            };\n        case 'sign-accounting-except-zero':\n        case '()?':\n            return {\n                signDisplay: 'exceptZero',\n                currencySign: 'accounting',\n            };\n        case 'sign-never':\n        case '+_':\n            return {\n                signDisplay: 'never',\n            };\n    }\n}\nfunction parseConciseScientificAndEngineeringStem(stem) {\n    // Engineering\n    var result;\n    if (stem[0] === 'E' && stem[1] === 'E') {\n        result = {\n            notation: 'engineering',\n        };\n        stem = stem.slice(2);\n    }\n    else if (stem[0] === 'E') {\n        result = {\n            notation: 'scientific',\n        };\n        stem = stem.slice(1);\n    }\n    if (result) {\n        var signDisplay = stem.slice(0, 2);\n        if (signDisplay === '+!') {\n            result.signDisplay = 'always';\n            stem = stem.slice(2);\n        }\n        else if (signDisplay === '+?') {\n            result.signDisplay = 'exceptZero';\n            stem = stem.slice(2);\n        }\n        if (!CONCISE_INTEGER_WIDTH_REGEX.test(stem)) {\n            throw new Error('Malformed concise eng/scientific notation');\n        }\n        result.minimumIntegerDigits = stem.length;\n    }\n    return result;\n}\nfunction parseNotationOptions(opt) {\n    var result = {};\n    var signOpts = parseSign(opt);\n    if (signOpts) {\n        return signOpts;\n    }\n    return result;\n}\n/**\n * https://github.com/unicode-org/icu/blob/master/docs/userguide/format_parse/numbers/skeletons.md#skeleton-stems-and-options\n */\nexport function parseNumberSkeleton(tokens) {\n    var result = {};\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        switch (token.stem) {\n            case 'percent':\n            case '%':\n                result.style = 'percent';\n                continue;\n            case '%x100':\n                result.style = 'percent';\n                result.scale = 100;\n                continue;\n            case 'currency':\n                result.style = 'currency';\n                result.currency = token.options[0];\n                continue;\n            case 'group-off':\n            case ',_':\n                result.useGrouping = false;\n                continue;\n            case 'precision-integer':\n            case '.':\n                result.maximumFractionDigits = 0;\n                continue;\n            case 'measure-unit':\n            case 'unit':\n                result.style = 'unit';\n                result.unit = icuUnitToEcma(token.options[0]);\n                continue;\n            case 'compact-short':\n            case 'K':\n                result.notation = 'compact';\n                result.compactDisplay = 'short';\n                continue;\n            case 'compact-long':\n            case 'KK':\n                result.notation = 'compact';\n                result.compactDisplay = 'long';\n                continue;\n            case 'scientific':\n                result = __assign(__assign(__assign({}, result), { notation: 'scientific' }), token.options.reduce(function (all, opt) { return (__assign(__assign({}, all), parseNotationOptions(opt))); }, {}));\n                continue;\n            case 'engineering':\n                result = __assign(__assign(__assign({}, result), { notation: 'engineering' }), token.options.reduce(function (all, opt) { return (__assign(__assign({}, all), parseNotationOptions(opt))); }, {}));\n                continue;\n            case 'notation-simple':\n                result.notation = 'standard';\n                continue;\n            // https://github.com/unicode-org/icu/blob/master/icu4c/source/i18n/unicode/unumberformatter.h\n            case 'unit-width-narrow':\n                result.currencyDisplay = 'narrowSymbol';\n                result.unitDisplay = 'narrow';\n                continue;\n            case 'unit-width-short':\n                result.currencyDisplay = 'code';\n                result.unitDisplay = 'short';\n                continue;\n            case 'unit-width-full-name':\n                result.currencyDisplay = 'name';\n                result.unitDisplay = 'long';\n                continue;\n            case 'unit-width-iso-code':\n                result.currencyDisplay = 'symbol';\n                continue;\n            case 'scale':\n                result.scale = parseFloat(token.options[0]);\n                continue;\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n            case 'integer-width':\n                if (token.options.length > 1) {\n                    throw new RangeError('integer-width stems only accept a single optional option');\n                }\n                token.options[0].replace(INTEGER_WIDTH_REGEX, function (_, g1, g2, g3, g4, g5) {\n                    if (g1) {\n                        result.minimumIntegerDigits = g2.length;\n                    }\n                    else if (g3 && g4) {\n                        throw new Error('We currently do not support maximum integer digits');\n                    }\n                    else if (g5) {\n                        throw new Error('We currently do not support exact integer digits');\n                    }\n                    return '';\n                });\n                continue;\n        }\n        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n        if (CONCISE_INTEGER_WIDTH_REGEX.test(token.stem)) {\n            result.minimumIntegerDigits = token.stem.length;\n            continue;\n        }\n        if (FRACTION_PRECISION_REGEX.test(token.stem)) {\n            // Precision\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#fraction-precision\n            // precision-integer case\n            if (token.options.length > 1) {\n                throw new RangeError('Fraction-precision stems only accept a single optional option');\n            }\n            token.stem.replace(FRACTION_PRECISION_REGEX, function (_, g1, g2, g3, g4, g5) {\n                // .000* case (before ICU67 it was .000+)\n                if (g2 === '*') {\n                    result.minimumFractionDigits = g1.length;\n                }\n                // .### case\n                else if (g3 && g3[0] === '#') {\n                    result.maximumFractionDigits = g3.length;\n                }\n                // .00## case\n                else if (g4 && g5) {\n                    result.minimumFractionDigits = g4.length;\n                    result.maximumFractionDigits = g4.length + g5.length;\n                }\n                else {\n                    result.minimumFractionDigits = g1.length;\n                    result.maximumFractionDigits = g1.length;\n                }\n                return '';\n            });\n            var opt = token.options[0];\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#trailing-zero-display\n            if (opt === 'w') {\n                result = __assign(__assign({}, result), { trailingZeroDisplay: 'stripIfInteger' });\n            }\n            else if (opt) {\n                result = __assign(__assign({}, result), parseSignificantPrecision(opt));\n            }\n            continue;\n        }\n        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#significant-digits-precision\n        if (SIGNIFICANT_PRECISION_REGEX.test(token.stem)) {\n            result = __assign(__assign({}, result), parseSignificantPrecision(token.stem));\n            continue;\n        }\n        var signOpts = parseSign(token.stem);\n        if (signOpts) {\n            result = __assign(__assign({}, result), signOpts);\n        }\n        var conciseScientificAndEngineeringOpts = parseConciseScientificAndEngineeringStem(token.stem);\n        if (conciseScientificAndEngineeringOpts) {\n            result = __assign(__assign({}, result), conciseScientificAndEngineeringOpts);\n        }\n    }\n    return result;\n}\n", "// @generated from time-data-gen.ts\n// prettier-ignore  \nexport var timeData = {\n    \"AX\": [\n        \"H\"\n    ],\n    \"BQ\": [\n        \"H\"\n    ],\n    \"CP\": [\n        \"H\"\n    ],\n    \"CZ\": [\n        \"H\"\n    ],\n    \"DK\": [\n        \"H\"\n    ],\n    \"FI\": [\n        \"H\"\n    ],\n    \"ID\": [\n        \"H\"\n    ],\n    \"IS\": [\n        \"H\"\n    ],\n    \"ML\": [\n        \"H\"\n    ],\n    \"NE\": [\n        \"H\"\n    ],\n    \"RU\": [\n        \"H\"\n    ],\n    \"SE\": [\n        \"H\"\n    ],\n    \"SJ\": [\n        \"H\"\n    ],\n    \"SK\": [\n        \"H\"\n    ],\n    \"AS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"BT\": [\n        \"h\",\n        \"H\"\n    ],\n    \"DJ\": [\n        \"h\",\n        \"H\"\n    ],\n    \"ER\": [\n        \"h\",\n        \"H\"\n    ],\n    \"GH\": [\n        \"h\",\n        \"H\"\n    ],\n    \"IN\": [\n        \"h\",\n        \"H\"\n    ],\n    \"LS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"PG\": [\n        \"h\",\n        \"H\"\n    ],\n    \"PW\": [\n        \"h\",\n        \"H\"\n    ],\n    \"SO\": [\n        \"h\",\n        \"H\"\n    ],\n    \"TO\": [\n        \"h\",\n        \"H\"\n    ],\n    \"VU\": [\n        \"h\",\n        \"H\"\n    ],\n    \"WS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"001\": [\n        \"H\",\n        \"h\"\n    ],\n    \"AL\": [\n        \"h\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TD\": [\n        \"h\",\n        \"H\",\n        \"hB\"\n    ],\n    \"ca-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"CF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"CM\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"fr-CA\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"gl-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"it-CH\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"it-IT\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"LU\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"NP\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"PF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SC\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SM\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SN\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"TF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"VA\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"CY\": [\n        \"h\",\n        \"H\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GR\": [\n        \"h\",\n        \"H\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CO\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"DO\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KP\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KR\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"NA\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"PA\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"PR\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"VE\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"AC\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"AI\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"BW\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"BZ\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CC\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CX\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"DG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"FK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GB\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GI\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IE\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IM\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IO\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"JE\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"LT\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"MK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"MN\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"MS\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NF\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NR\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NU\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"PN\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"SH\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"SX\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"TA\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"ZA\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"af-ZA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"AR\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CL\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CR\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CU\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"EA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-BO\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-BR\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-EC\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-GQ\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-PE\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"GT\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"HN\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"IC\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KG\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KM\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"LK\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"MA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"MX\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"NI\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"PY\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"SV\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"UY\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"JP\": [\n        \"H\",\n        \"h\",\n        \"K\"\n    ],\n    \"AD\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AM\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AO\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AW\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BJ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CG\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CI\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CV\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"DE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"EE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"FR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GA\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GN\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GP\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GW\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"HR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"IL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"IT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"KZ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MC\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MD\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MQ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MZ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"NC\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"NL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"PM\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"PT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"RE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"RO\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"SI\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"SR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"ST\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"TG\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"TR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"WF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"YT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BD\": [\n        \"h\",\n        \"hB\",\n        \"H\"\n    ],\n    \"PK\": [\n        \"h\",\n        \"hB\",\n        \"H\"\n    ],\n    \"AZ\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"BA\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"BG\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"CH\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"GE\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"LI\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"ME\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"RS\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"UA\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"UZ\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"XK\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"AG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"AU\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BB\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BS\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"CA\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"DM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"en-001\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"FJ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"FM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GD\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GU\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GY\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"JM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KI\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KN\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KY\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"LC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"LR\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MH\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MP\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MW\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"NZ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SB\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SL\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SS\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SZ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TT\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"UM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"US\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VI\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"ZM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BO\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"EC\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"ES\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"GQ\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"PE\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"AE\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"ar-001\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"BH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"DZ\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"EG\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"EH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"HK\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"IQ\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"JO\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"KW\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"LB\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"LY\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"MO\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"MR\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"OM\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"PH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"PS\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"QA\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SA\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SD\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SY\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"TN\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"YE\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"AF\": [\n        \"H\",\n        \"hb\",\n        \"hB\",\n        \"h\"\n    ],\n    \"LA\": [\n        \"H\",\n        \"hb\",\n        \"hB\",\n        \"h\"\n    ],\n    \"CN\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"LV\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"TL\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"zu-ZA\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"CD\": [\n        \"hB\",\n        \"H\"\n    ],\n    \"IR\": [\n        \"hB\",\n        \"H\"\n    ],\n    \"hi-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"kn-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"ml-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"te-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"KH\": [\n        \"hB\",\n        \"h\",\n        \"H\",\n        \"hb\"\n    ],\n    \"ta-IN\": [\n        \"hB\",\n        \"h\",\n        \"hb\",\n        \"H\"\n    ],\n    \"BN\": [\n        \"hb\",\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"MY\": [\n        \"hb\",\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"ET\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"gu-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"mr-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"pa-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"TW\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"KE\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"MM\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"TZ\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"UG\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ]\n};\n", "import { timeData } from './time-data.generated';\n/**\n * Returns the best matching date time pattern if a date time skeleton\n * pattern is provided with a locale. Follows the Unicode specification:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#table-mapping-requested-time-skeletons-to-patterns\n * @param skeleton date time skeleton pattern that possibly includes j, J or C\n * @param locale\n */\nexport function getBestPattern(skeleton, locale) {\n    var skeletonCopy = '';\n    for (var patternPos = 0; patternPos < skeleton.length; patternPos++) {\n        var patternChar = skeleton.charAt(patternPos);\n        if (patternChar === 'j') {\n            var extraLength = 0;\n            while (patternPos + 1 < skeleton.length &&\n                skeleton.charAt(patternPos + 1) === patternChar) {\n                extraLength++;\n                patternPos++;\n            }\n            var hourLen = 1 + (extraLength & 1);\n            var dayPeriodLen = extraLength < 2 ? 1 : 3 + (extraLength >> 1);\n            var dayPeriodChar = 'a';\n            var hourChar = getDefaultHourSymbolFromLocale(locale);\n            if (hourChar == 'H' || hourChar == 'k') {\n                dayPeriodLen = 0;\n            }\n            while (dayPeriodLen-- > 0) {\n                skeletonCopy += dayPeriodChar;\n            }\n            while (hourLen-- > 0) {\n                skeletonCopy = hourChar + skeletonCopy;\n            }\n        }\n        else if (patternChar === 'J') {\n            skeletonCopy += 'H';\n        }\n        else {\n            skeletonCopy += patternChar;\n        }\n    }\n    return skeletonCopy;\n}\n/**\n * Maps the [hour cycle type](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/hourCycle)\n * of the given `locale` to the corresponding time pattern.\n * @param locale\n */\nfunction getDefaultHourSymbolFromLocale(locale) {\n    var hourCycle = locale.hourCycle;\n    if (hourCycle === undefined &&\n        // @ts-ignore hourCycle(s) is not identified yet\n        locale.hourCycles &&\n        // @ts-ignore\n        locale.hourCycles.length) {\n        // @ts-ignore\n        hourCycle = locale.hourCycles[0];\n    }\n    if (hourCycle) {\n        switch (hourCycle) {\n            case 'h24':\n                return 'k';\n            case 'h23':\n                return 'H';\n            case 'h12':\n                return 'h';\n            case 'h11':\n                return 'K';\n            default:\n                throw new Error('Invalid hourCycle');\n        }\n    }\n    // TODO: Once hourCycle is fully supported remove the following with data generation\n    var languageTag = locale.language;\n    var regionTag;\n    if (languageTag !== 'root') {\n        regionTag = locale.maximize().region;\n    }\n    var hourCycles = timeData[regionTag || ''] ||\n        timeData[languageTag || ''] ||\n        timeData[\"\".concat(languageTag, \"-001\")] ||\n        timeData['001'];\n    return hourCycles[0];\n}\n", "var _a;\nimport { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { SKELETON_TYPE, TYPE, } from './types';\nimport { SPACE_SEPARATOR_REGEX } from './regex.generated';\nimport { parseNumberSkeleton, parseNumberSkeletonFromString, parseDateTimeSkeleton, } from '@formatjs/icu-skeleton-parser';\nimport { getBestPattern } from './date-time-pattern-generator';\nvar SPACE_SEPARATOR_START_REGEX = new RegExp(\"^\".concat(SPACE_SEPARATOR_REGEX.source, \"*\"));\nvar SPACE_SEPARATOR_END_REGEX = new RegExp(\"\".concat(SPACE_SEPARATOR_REGEX.source, \"*$\"));\nfunction createLocation(start, end) {\n    return { start: start, end: end };\n}\n// #region Ponyfills\n// Consolidate these variables up top for easier toggling during debugging\nvar hasNativeStartsWith = !!String.prototype.startsWith;\nvar hasNativeFromCodePoint = !!String.fromCodePoint;\nvar hasNativeFromEntries = !!Object.fromEntries;\nvar hasNativeCodePointAt = !!String.prototype.codePointAt;\nvar hasTrimStart = !!String.prototype.trimStart;\nvar hasTrimEnd = !!String.prototype.trimEnd;\nvar hasNativeIsSafeInteger = !!Number.isSafeInteger;\nvar isSafeInteger = hasNativeIsSafeInteger\n    ? Number.isSafeInteger\n    : function (n) {\n        return (typeof n === 'number' &&\n            isFinite(n) &&\n            Math.floor(n) === n &&\n            Math.abs(n) <= 0x1fffffffffffff);\n    };\n// IE11 does not support y and u.\nvar REGEX_SUPPORTS_U_AND_Y = true;\ntry {\n    var re = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n    /**\n     * legacy Edge or Xbox One browser\n     * Unicode flag support: supported\n     * Pattern_Syntax support: not supported\n     * See https://github.com/formatjs/formatjs/issues/2822\n     */\n    REGEX_SUPPORTS_U_AND_Y = ((_a = re.exec('a')) === null || _a === void 0 ? void 0 : _a[0]) === 'a';\n}\ncatch (_) {\n    REGEX_SUPPORTS_U_AND_Y = false;\n}\nvar startsWith = hasNativeStartsWith\n    ? // Native\n        function startsWith(s, search, position) {\n            return s.startsWith(search, position);\n        }\n    : // For IE11\n        function startsWith(s, search, position) {\n            return s.slice(position, position + search.length) === search;\n        };\nvar fromCodePoint = hasNativeFromCodePoint\n    ? String.fromCodePoint\n    : // IE11\n        function fromCodePoint() {\n            var codePoints = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                codePoints[_i] = arguments[_i];\n            }\n            var elements = '';\n            var length = codePoints.length;\n            var i = 0;\n            var code;\n            while (length > i) {\n                code = codePoints[i++];\n                if (code > 0x10ffff)\n                    throw RangeError(code + ' is not a valid code point');\n                elements +=\n                    code < 0x10000\n                        ? String.fromCharCode(code)\n                        : String.fromCharCode(((code -= 0x10000) >> 10) + 0xd800, (code % 0x400) + 0xdc00);\n            }\n            return elements;\n        };\nvar fromEntries = \n// native\nhasNativeFromEntries\n    ? Object.fromEntries\n    : // Ponyfill\n        function fromEntries(entries) {\n            var obj = {};\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var _a = entries_1[_i], k = _a[0], v = _a[1];\n                obj[k] = v;\n            }\n            return obj;\n        };\nvar codePointAt = hasNativeCodePointAt\n    ? // Native\n        function codePointAt(s, index) {\n            return s.codePointAt(index);\n        }\n    : // IE 11\n        function codePointAt(s, index) {\n            var size = s.length;\n            if (index < 0 || index >= size) {\n                return undefined;\n            }\n            var first = s.charCodeAt(index);\n            var second;\n            return first < 0xd800 ||\n                first > 0xdbff ||\n                index + 1 === size ||\n                (second = s.charCodeAt(index + 1)) < 0xdc00 ||\n                second > 0xdfff\n                ? first\n                : ((first - 0xd800) << 10) + (second - 0xdc00) + 0x10000;\n        };\nvar trimStart = hasTrimStart\n    ? // Native\n        function trimStart(s) {\n            return s.trimStart();\n        }\n    : // Ponyfill\n        function trimStart(s) {\n            return s.replace(SPACE_SEPARATOR_START_REGEX, '');\n        };\nvar trimEnd = hasTrimEnd\n    ? // Native\n        function trimEnd(s) {\n            return s.trimEnd();\n        }\n    : // Ponyfill\n        function trimEnd(s) {\n            return s.replace(SPACE_SEPARATOR_END_REGEX, '');\n        };\n// Prevent minifier to translate new RegExp to literal form that might cause syntax error on IE11.\nfunction RE(s, flag) {\n    return new RegExp(s, flag);\n}\n// #endregion\nvar matchIdentifierAtIndex;\nif (REGEX_SUPPORTS_U_AND_Y) {\n    // Native\n    var IDENTIFIER_PREFIX_RE_1 = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n        var _a;\n        IDENTIFIER_PREFIX_RE_1.lastIndex = index;\n        var match = IDENTIFIER_PREFIX_RE_1.exec(s);\n        return (_a = match[1]) !== null && _a !== void 0 ? _a : '';\n    };\n}\nelse {\n    // IE11\n    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n        var match = [];\n        while (true) {\n            var c = codePointAt(s, index);\n            if (c === undefined || _isWhiteSpace(c) || _isPatternSyntax(c)) {\n                break;\n            }\n            match.push(c);\n            index += c >= 0x10000 ? 2 : 1;\n        }\n        return fromCodePoint.apply(void 0, match);\n    };\n}\nvar Parser = /** @class */ (function () {\n    function Parser(message, options) {\n        if (options === void 0) { options = {}; }\n        this.message = message;\n        this.position = { offset: 0, line: 1, column: 1 };\n        this.ignoreTag = !!options.ignoreTag;\n        this.locale = options.locale;\n        this.requiresOtherClause = !!options.requiresOtherClause;\n        this.shouldParseSkeletons = !!options.shouldParseSkeletons;\n    }\n    Parser.prototype.parse = function () {\n        if (this.offset() !== 0) {\n            throw Error('parser can only be used once');\n        }\n        return this.parseMessage(0, '', false);\n    };\n    Parser.prototype.parseMessage = function (nestingLevel, parentArgType, expectingCloseTag) {\n        var elements = [];\n        while (!this.isEOF()) {\n            var char = this.char();\n            if (char === 123 /* `{` */) {\n                var result = this.parseArgument(nestingLevel, expectingCloseTag);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n            else if (char === 125 /* `}` */ && nestingLevel > 0) {\n                break;\n            }\n            else if (char === 35 /* `#` */ &&\n                (parentArgType === 'plural' || parentArgType === 'selectordinal')) {\n                var position = this.clonePosition();\n                this.bump();\n                elements.push({\n                    type: TYPE.pound,\n                    location: createLocation(position, this.clonePosition()),\n                });\n            }\n            else if (char === 60 /* `<` */ &&\n                !this.ignoreTag &&\n                this.peek() === 47 // char code for '/'\n            ) {\n                if (expectingCloseTag) {\n                    break;\n                }\n                else {\n                    return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(this.clonePosition(), this.clonePosition()));\n                }\n            }\n            else if (char === 60 /* `<` */ &&\n                !this.ignoreTag &&\n                _isAlpha(this.peek() || 0)) {\n                var result = this.parseTag(nestingLevel, parentArgType);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n            else {\n                var result = this.parseLiteral(nestingLevel, parentArgType);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n        }\n        return { val: elements, err: null };\n    };\n    /**\n     * A tag name must start with an ASCII lower/upper case letter. The grammar is based on the\n     * [custom element name][] except that a dash is NOT always mandatory and uppercase letters\n     * are accepted:\n     *\n     * ```\n     * tag ::= \"<\" tagName (whitespace)* \"/>\" | \"<\" tagName (whitespace)* \">\" message \"</\" tagName (whitespace)* \">\"\n     * tagName ::= [a-z] (PENChar)*\n     * PENChar ::=\n     *     \"-\" | \".\" | [0-9] | \"_\" | [a-z] | [A-Z] | #xB7 | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x37D] |\n     *     [#x37F-#x1FFF] | [#x200C-#x200D] | [#x203F-#x2040] | [#x2070-#x218F] | [#x2C00-#x2FEF] |\n     *     [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n     * ```\n     *\n     * [custom element name]: https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\n     * NOTE: We're a bit more lax here since HTML technically does not allow uppercase HTML element but we do\n     * since other tag-based engines like React allow it\n     */\n    Parser.prototype.parseTag = function (nestingLevel, parentArgType) {\n        var startPosition = this.clonePosition();\n        this.bump(); // `<`\n        var tagName = this.parseTagName();\n        this.bumpSpace();\n        if (this.bumpIf('/>')) {\n            // Self closing tag\n            return {\n                val: {\n                    type: TYPE.literal,\n                    value: \"<\".concat(tagName, \"/>\"),\n                    location: createLocation(startPosition, this.clonePosition()),\n                },\n                err: null,\n            };\n        }\n        else if (this.bumpIf('>')) {\n            var childrenResult = this.parseMessage(nestingLevel + 1, parentArgType, true);\n            if (childrenResult.err) {\n                return childrenResult;\n            }\n            var children = childrenResult.val;\n            // Expecting a close tag\n            var endTagStartPosition = this.clonePosition();\n            if (this.bumpIf('</')) {\n                if (this.isEOF() || !_isAlpha(this.char())) {\n                    return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n                }\n                var closingTagNameStartPosition = this.clonePosition();\n                var closingTagName = this.parseTagName();\n                if (tagName !== closingTagName) {\n                    return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(closingTagNameStartPosition, this.clonePosition()));\n                }\n                this.bumpSpace();\n                if (!this.bumpIf('>')) {\n                    return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n                }\n                return {\n                    val: {\n                        type: TYPE.tag,\n                        value: tagName,\n                        children: children,\n                        location: createLocation(startPosition, this.clonePosition()),\n                    },\n                    err: null,\n                };\n            }\n            else {\n                return this.error(ErrorKind.UNCLOSED_TAG, createLocation(startPosition, this.clonePosition()));\n            }\n        }\n        else {\n            return this.error(ErrorKind.INVALID_TAG, createLocation(startPosition, this.clonePosition()));\n        }\n    };\n    /**\n     * This method assumes that the caller has peeked ahead for the first tag character.\n     */\n    Parser.prototype.parseTagName = function () {\n        var startOffset = this.offset();\n        this.bump(); // the first tag name character\n        while (!this.isEOF() && _isPotentialElementNameChar(this.char())) {\n            this.bump();\n        }\n        return this.message.slice(startOffset, this.offset());\n    };\n    Parser.prototype.parseLiteral = function (nestingLevel, parentArgType) {\n        var start = this.clonePosition();\n        var value = '';\n        while (true) {\n            var parseQuoteResult = this.tryParseQuote(parentArgType);\n            if (parseQuoteResult) {\n                value += parseQuoteResult;\n                continue;\n            }\n            var parseUnquotedResult = this.tryParseUnquoted(nestingLevel, parentArgType);\n            if (parseUnquotedResult) {\n                value += parseUnquotedResult;\n                continue;\n            }\n            var parseLeftAngleResult = this.tryParseLeftAngleBracket();\n            if (parseLeftAngleResult) {\n                value += parseLeftAngleResult;\n                continue;\n            }\n            break;\n        }\n        var location = createLocation(start, this.clonePosition());\n        return {\n            val: { type: TYPE.literal, value: value, location: location },\n            err: null,\n        };\n    };\n    Parser.prototype.tryParseLeftAngleBracket = function () {\n        if (!this.isEOF() &&\n            this.char() === 60 /* `<` */ &&\n            (this.ignoreTag ||\n                // If at the opening tag or closing tag position, bail.\n                !_isAlphaOrSlash(this.peek() || 0))) {\n            this.bump(); // `<`\n            return '<';\n        }\n        return null;\n    };\n    /**\n     * Starting with ICU 4.8, an ASCII apostrophe only starts quoted text if it immediately precedes\n     * a character that requires quoting (that is, \"only where needed\"), and works the same in\n     * nested messages as on the top level of the pattern. The new behavior is otherwise compatible.\n     */\n    Parser.prototype.tryParseQuote = function (parentArgType) {\n        if (this.isEOF() || this.char() !== 39 /* `'` */) {\n            return null;\n        }\n        // Parse escaped char following the apostrophe, or early return if there is no escaped char.\n        // Check if is valid escaped character\n        switch (this.peek()) {\n            case 39 /* `'` */:\n                // double quote, should return as a single quote.\n                this.bump();\n                this.bump();\n                return \"'\";\n            // '{', '<', '>', '}'\n            case 123:\n            case 60:\n            case 62:\n            case 125:\n                break;\n            case 35: // '#'\n                if (parentArgType === 'plural' || parentArgType === 'selectordinal') {\n                    break;\n                }\n                return null;\n            default:\n                return null;\n        }\n        this.bump(); // apostrophe\n        var codePoints = [this.char()]; // escaped char\n        this.bump();\n        // read chars until the optional closing apostrophe is found\n        while (!this.isEOF()) {\n            var ch = this.char();\n            if (ch === 39 /* `'` */) {\n                if (this.peek() === 39 /* `'` */) {\n                    codePoints.push(39);\n                    // Bump one more time because we need to skip 2 characters.\n                    this.bump();\n                }\n                else {\n                    // Optional closing apostrophe.\n                    this.bump();\n                    break;\n                }\n            }\n            else {\n                codePoints.push(ch);\n            }\n            this.bump();\n        }\n        return fromCodePoint.apply(void 0, codePoints);\n    };\n    Parser.prototype.tryParseUnquoted = function (nestingLevel, parentArgType) {\n        if (this.isEOF()) {\n            return null;\n        }\n        var ch = this.char();\n        if (ch === 60 /* `<` */ ||\n            ch === 123 /* `{` */ ||\n            (ch === 35 /* `#` */ &&\n                (parentArgType === 'plural' || parentArgType === 'selectordinal')) ||\n            (ch === 125 /* `}` */ && nestingLevel > 0)) {\n            return null;\n        }\n        else {\n            this.bump();\n            return fromCodePoint(ch);\n        }\n    };\n    Parser.prototype.parseArgument = function (nestingLevel, expectingCloseTag) {\n        var openingBracePosition = this.clonePosition();\n        this.bump(); // `{`\n        this.bumpSpace();\n        if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        if (this.char() === 125 /* `}` */) {\n            this.bump();\n            return this.error(ErrorKind.EMPTY_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        // argument name\n        var value = this.parseIdentifierIfPossible().value;\n        if (!value) {\n            return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        this.bumpSpace();\n        if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        switch (this.char()) {\n            // Simple argument: `{name}`\n            case 125 /* `}` */: {\n                this.bump(); // `}`\n                return {\n                    val: {\n                        type: TYPE.argument,\n                        // value does not include the opening and closing braces.\n                        value: value,\n                        location: createLocation(openingBracePosition, this.clonePosition()),\n                    },\n                    err: null,\n                };\n            }\n            // Argument with options: `{name, format, ...}`\n            case 44 /* `,` */: {\n                this.bump(); // `,`\n                this.bumpSpace();\n                if (this.isEOF()) {\n                    return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n                }\n                return this.parseArgumentOptions(nestingLevel, expectingCloseTag, value, openingBracePosition);\n            }\n            default:\n                return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n    };\n    /**\n     * Advance the parser until the end of the identifier, if it is currently on\n     * an identifier character. Return an empty string otherwise.\n     */\n    Parser.prototype.parseIdentifierIfPossible = function () {\n        var startingPosition = this.clonePosition();\n        var startOffset = this.offset();\n        var value = matchIdentifierAtIndex(this.message, startOffset);\n        var endOffset = startOffset + value.length;\n        this.bumpTo(endOffset);\n        var endPosition = this.clonePosition();\n        var location = createLocation(startingPosition, endPosition);\n        return { value: value, location: location };\n    };\n    Parser.prototype.parseArgumentOptions = function (nestingLevel, expectingCloseTag, value, openingBracePosition) {\n        var _a;\n        // Parse this range:\n        // {name, type, style}\n        //        ^---^\n        var typeStartPosition = this.clonePosition();\n        var argType = this.parseIdentifierIfPossible().value;\n        var typeEndPosition = this.clonePosition();\n        switch (argType) {\n            case '':\n                // Expecting a style string number, date, time, plural, selectordinal, or select.\n                return this.error(ErrorKind.EXPECT_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n            case 'number':\n            case 'date':\n            case 'time': {\n                // Parse this range:\n                // {name, number, style}\n                //              ^-------^\n                this.bumpSpace();\n                var styleAndLocation = null;\n                if (this.bumpIf(',')) {\n                    this.bumpSpace();\n                    var styleStartPosition = this.clonePosition();\n                    var result = this.parseSimpleArgStyleIfPossible();\n                    if (result.err) {\n                        return result;\n                    }\n                    var style = trimEnd(result.val);\n                    if (style.length === 0) {\n                        return this.error(ErrorKind.EXPECT_ARGUMENT_STYLE, createLocation(this.clonePosition(), this.clonePosition()));\n                    }\n                    var styleLocation = createLocation(styleStartPosition, this.clonePosition());\n                    styleAndLocation = { style: style, styleLocation: styleLocation };\n                }\n                var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n                if (argCloseResult.err) {\n                    return argCloseResult;\n                }\n                var location_1 = createLocation(openingBracePosition, this.clonePosition());\n                // Extract style or skeleton\n                if (styleAndLocation && startsWith(styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style, '::', 0)) {\n                    // Skeleton starts with `::`.\n                    var skeleton = trimStart(styleAndLocation.style.slice(2));\n                    if (argType === 'number') {\n                        var result = this.parseNumberSkeletonFromString(skeleton, styleAndLocation.styleLocation);\n                        if (result.err) {\n                            return result;\n                        }\n                        return {\n                            val: { type: TYPE.number, value: value, location: location_1, style: result.val },\n                            err: null,\n                        };\n                    }\n                    else {\n                        if (skeleton.length === 0) {\n                            return this.error(ErrorKind.EXPECT_DATE_TIME_SKELETON, location_1);\n                        }\n                        var dateTimePattern = skeleton;\n                        // Get \"best match\" pattern only if locale is passed, if not, let it\n                        // pass as-is where `parseDateTimeSkeleton()` will throw an error\n                        // for unsupported patterns.\n                        if (this.locale) {\n                            dateTimePattern = getBestPattern(skeleton, this.locale);\n                        }\n                        var style = {\n                            type: SKELETON_TYPE.dateTime,\n                            pattern: dateTimePattern,\n                            location: styleAndLocation.styleLocation,\n                            parsedOptions: this.shouldParseSkeletons\n                                ? parseDateTimeSkeleton(dateTimePattern)\n                                : {},\n                        };\n                        var type = argType === 'date' ? TYPE.date : TYPE.time;\n                        return {\n                            val: { type: type, value: value, location: location_1, style: style },\n                            err: null,\n                        };\n                    }\n                }\n                // Regular style or no style.\n                return {\n                    val: {\n                        type: argType === 'number'\n                            ? TYPE.number\n                            : argType === 'date'\n                                ? TYPE.date\n                                : TYPE.time,\n                        value: value,\n                        location: location_1,\n                        style: (_a = styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style) !== null && _a !== void 0 ? _a : null,\n                    },\n                    err: null,\n                };\n            }\n            case 'plural':\n            case 'selectordinal':\n            case 'select': {\n                // Parse this range:\n                // {name, plural, options}\n                //              ^---------^\n                var typeEndPosition_1 = this.clonePosition();\n                this.bumpSpace();\n                if (!this.bumpIf(',')) {\n                    return this.error(ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS, createLocation(typeEndPosition_1, __assign({}, typeEndPosition_1)));\n                }\n                this.bumpSpace();\n                // Parse offset:\n                // {name, plural, offset:1, options}\n                //                ^-----^\n                //\n                // or the first option:\n                //\n                // {name, plural, one {...} other {...}}\n                //                ^--^\n                var identifierAndLocation = this.parseIdentifierIfPossible();\n                var pluralOffset = 0;\n                if (argType !== 'select' && identifierAndLocation.value === 'offset') {\n                    if (!this.bumpIf(':')) {\n                        return this.error(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, createLocation(this.clonePosition(), this.clonePosition()));\n                    }\n                    this.bumpSpace();\n                    var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);\n                    if (result.err) {\n                        return result;\n                    }\n                    // Parse another identifier for option parsing\n                    this.bumpSpace();\n                    identifierAndLocation = this.parseIdentifierIfPossible();\n                    pluralOffset = result.val;\n                }\n                var optionsResult = this.tryParsePluralOrSelectOptions(nestingLevel, argType, expectingCloseTag, identifierAndLocation);\n                if (optionsResult.err) {\n                    return optionsResult;\n                }\n                var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n                if (argCloseResult.err) {\n                    return argCloseResult;\n                }\n                var location_2 = createLocation(openingBracePosition, this.clonePosition());\n                if (argType === 'select') {\n                    return {\n                        val: {\n                            type: TYPE.select,\n                            value: value,\n                            options: fromEntries(optionsResult.val),\n                            location: location_2,\n                        },\n                        err: null,\n                    };\n                }\n                else {\n                    return {\n                        val: {\n                            type: TYPE.plural,\n                            value: value,\n                            options: fromEntries(optionsResult.val),\n                            offset: pluralOffset,\n                            pluralType: argType === 'plural' ? 'cardinal' : 'ordinal',\n                            location: location_2,\n                        },\n                        err: null,\n                    };\n                }\n            }\n            default:\n                return this.error(ErrorKind.INVALID_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n        }\n    };\n    Parser.prototype.tryParseArgumentClose = function (openingBracePosition) {\n        // Parse: {value, number, ::currency/GBP }\n        //\n        if (this.isEOF() || this.char() !== 125 /* `}` */) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        this.bump(); // `}`\n        return { val: true, err: null };\n    };\n    /**\n     * See: https://github.com/unicode-org/icu/blob/af7ed1f6d2298013dc303628438ec4abe1f16479/icu4c/source/common/messagepattern.cpp#L659\n     */\n    Parser.prototype.parseSimpleArgStyleIfPossible = function () {\n        var nestedBraces = 0;\n        var startPosition = this.clonePosition();\n        while (!this.isEOF()) {\n            var ch = this.char();\n            switch (ch) {\n                case 39 /* `'` */: {\n                    // Treat apostrophe as quoting but include it in the style part.\n                    // Find the end of the quoted literal text.\n                    this.bump();\n                    var apostrophePosition = this.clonePosition();\n                    if (!this.bumpUntil(\"'\")) {\n                        return this.error(ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE, createLocation(apostrophePosition, this.clonePosition()));\n                    }\n                    this.bump();\n                    break;\n                }\n                case 123 /* `{` */: {\n                    nestedBraces += 1;\n                    this.bump();\n                    break;\n                }\n                case 125 /* `}` */: {\n                    if (nestedBraces > 0) {\n                        nestedBraces -= 1;\n                    }\n                    else {\n                        return {\n                            val: this.message.slice(startPosition.offset, this.offset()),\n                            err: null,\n                        };\n                    }\n                    break;\n                }\n                default:\n                    this.bump();\n                    break;\n            }\n        }\n        return {\n            val: this.message.slice(startPosition.offset, this.offset()),\n            err: null,\n        };\n    };\n    Parser.prototype.parseNumberSkeletonFromString = function (skeleton, location) {\n        var tokens = [];\n        try {\n            tokens = parseNumberSkeletonFromString(skeleton);\n        }\n        catch (e) {\n            return this.error(ErrorKind.INVALID_NUMBER_SKELETON, location);\n        }\n        return {\n            val: {\n                type: SKELETON_TYPE.number,\n                tokens: tokens,\n                location: location,\n                parsedOptions: this.shouldParseSkeletons\n                    ? parseNumberSkeleton(tokens)\n                    : {},\n            },\n            err: null,\n        };\n    };\n    /**\n     * @param nesting_level The current nesting level of messages.\n     *     This can be positive when parsing message fragment in select or plural argument options.\n     * @param parent_arg_type The parent argument's type.\n     * @param parsed_first_identifier If provided, this is the first identifier-like selector of\n     *     the argument. It is a by-product of a previous parsing attempt.\n     * @param expecting_close_tag If true, this message is directly or indirectly nested inside\n     *     between a pair of opening and closing tags. The nested message will not parse beyond\n     *     the closing tag boundary.\n     */\n    Parser.prototype.tryParsePluralOrSelectOptions = function (nestingLevel, parentArgType, expectCloseTag, parsedFirstIdentifier) {\n        var _a;\n        var hasOtherClause = false;\n        var options = [];\n        var parsedSelectors = new Set();\n        var selector = parsedFirstIdentifier.value, selectorLocation = parsedFirstIdentifier.location;\n        // Parse:\n        // one {one apple}\n        // ^--^\n        while (true) {\n            if (selector.length === 0) {\n                var startPosition = this.clonePosition();\n                if (parentArgType !== 'select' && this.bumpIf('=')) {\n                    // Try parse `={number}` selector\n                    var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);\n                    if (result.err) {\n                        return result;\n                    }\n                    selectorLocation = createLocation(startPosition, this.clonePosition());\n                    selector = this.message.slice(startPosition.offset, this.offset());\n                }\n                else {\n                    break;\n                }\n            }\n            // Duplicate selector clauses\n            if (parsedSelectors.has(selector)) {\n                return this.error(parentArgType === 'select'\n                    ? ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR\n                    : ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR, selectorLocation);\n            }\n            if (selector === 'other') {\n                hasOtherClause = true;\n            }\n            // Parse:\n            // one {one apple}\n            //     ^----------^\n            this.bumpSpace();\n            var openingBracePosition = this.clonePosition();\n            if (!this.bumpIf('{')) {\n                return this.error(parentArgType === 'select'\n                    ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\n                    : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT, createLocation(this.clonePosition(), this.clonePosition()));\n            }\n            var fragmentResult = this.parseMessage(nestingLevel + 1, parentArgType, expectCloseTag);\n            if (fragmentResult.err) {\n                return fragmentResult;\n            }\n            var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n            if (argCloseResult.err) {\n                return argCloseResult;\n            }\n            options.push([\n                selector,\n                {\n                    value: fragmentResult.val,\n                    location: createLocation(openingBracePosition, this.clonePosition()),\n                },\n            ]);\n            // Keep track of the existing selectors\n            parsedSelectors.add(selector);\n            // Prep next selector clause.\n            this.bumpSpace();\n            (_a = this.parseIdentifierIfPossible(), selector = _a.value, selectorLocation = _a.location);\n        }\n        if (options.length === 0) {\n            return this.error(parentArgType === 'select'\n                ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR\n                : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n        if (this.requiresOtherClause && !hasOtherClause) {\n            return this.error(ErrorKind.MISSING_OTHER_CLAUSE, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n        return { val: options, err: null };\n    };\n    Parser.prototype.tryParseDecimalInteger = function (expectNumberError, invalidNumberError) {\n        var sign = 1;\n        var startingPosition = this.clonePosition();\n        if (this.bumpIf('+')) {\n        }\n        else if (this.bumpIf('-')) {\n            sign = -1;\n        }\n        var hasDigits = false;\n        var decimal = 0;\n        while (!this.isEOF()) {\n            var ch = this.char();\n            if (ch >= 48 /* `0` */ && ch <= 57 /* `9` */) {\n                hasDigits = true;\n                decimal = decimal * 10 + (ch - 48);\n                this.bump();\n            }\n            else {\n                break;\n            }\n        }\n        var location = createLocation(startingPosition, this.clonePosition());\n        if (!hasDigits) {\n            return this.error(expectNumberError, location);\n        }\n        decimal *= sign;\n        if (!isSafeInteger(decimal)) {\n            return this.error(invalidNumberError, location);\n        }\n        return { val: decimal, err: null };\n    };\n    Parser.prototype.offset = function () {\n        return this.position.offset;\n    };\n    Parser.prototype.isEOF = function () {\n        return this.offset() === this.message.length;\n    };\n    Parser.prototype.clonePosition = function () {\n        // This is much faster than `Object.assign` or spread.\n        return {\n            offset: this.position.offset,\n            line: this.position.line,\n            column: this.position.column,\n        };\n    };\n    /**\n     * Return the code point at the current position of the parser.\n     * Throws if the index is out of bound.\n     */\n    Parser.prototype.char = function () {\n        var offset = this.position.offset;\n        if (offset >= this.message.length) {\n            throw Error('out of bound');\n        }\n        var code = codePointAt(this.message, offset);\n        if (code === undefined) {\n            throw Error(\"Offset \".concat(offset, \" is at invalid UTF-16 code unit boundary\"));\n        }\n        return code;\n    };\n    Parser.prototype.error = function (kind, location) {\n        return {\n            val: null,\n            err: {\n                kind: kind,\n                message: this.message,\n                location: location,\n            },\n        };\n    };\n    /** Bump the parser to the next UTF-16 code unit. */\n    Parser.prototype.bump = function () {\n        if (this.isEOF()) {\n            return;\n        }\n        var code = this.char();\n        if (code === 10 /* '\\n' */) {\n            this.position.line += 1;\n            this.position.column = 1;\n            this.position.offset += 1;\n        }\n        else {\n            this.position.column += 1;\n            // 0 ~ 0x10000 -> unicode BMP, otherwise skip the surrogate pair.\n            this.position.offset += code < 0x10000 ? 1 : 2;\n        }\n    };\n    /**\n     * If the substring starting at the current position of the parser has\n     * the given prefix, then bump the parser to the character immediately\n     * following the prefix and return true. Otherwise, don't bump the parser\n     * and return false.\n     */\n    Parser.prototype.bumpIf = function (prefix) {\n        if (startsWith(this.message, prefix, this.offset())) {\n            for (var i = 0; i < prefix.length; i++) {\n                this.bump();\n            }\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Bump the parser until the pattern character is found and return `true`.\n     * Otherwise bump to the end of the file and return `false`.\n     */\n    Parser.prototype.bumpUntil = function (pattern) {\n        var currentOffset = this.offset();\n        var index = this.message.indexOf(pattern, currentOffset);\n        if (index >= 0) {\n            this.bumpTo(index);\n            return true;\n        }\n        else {\n            this.bumpTo(this.message.length);\n            return false;\n        }\n    };\n    /**\n     * Bump the parser to the target offset.\n     * If target offset is beyond the end of the input, bump the parser to the end of the input.\n     */\n    Parser.prototype.bumpTo = function (targetOffset) {\n        if (this.offset() > targetOffset) {\n            throw Error(\"targetOffset \".concat(targetOffset, \" must be greater than or equal to the current offset \").concat(this.offset()));\n        }\n        targetOffset = Math.min(targetOffset, this.message.length);\n        while (true) {\n            var offset = this.offset();\n            if (offset === targetOffset) {\n                break;\n            }\n            if (offset > targetOffset) {\n                throw Error(\"targetOffset \".concat(targetOffset, \" is at invalid UTF-16 code unit boundary\"));\n            }\n            this.bump();\n            if (this.isEOF()) {\n                break;\n            }\n        }\n    };\n    /** advance the parser through all whitespace to the next non-whitespace code unit. */\n    Parser.prototype.bumpSpace = function () {\n        while (!this.isEOF() && _isWhiteSpace(this.char())) {\n            this.bump();\n        }\n    };\n    /**\n     * Peek at the *next* Unicode codepoint in the input without advancing the parser.\n     * If the input has been exhausted, then this returns null.\n     */\n    Parser.prototype.peek = function () {\n        if (this.isEOF()) {\n            return null;\n        }\n        var code = this.char();\n        var offset = this.offset();\n        var nextCode = this.message.charCodeAt(offset + (code >= 0x10000 ? 2 : 1));\n        return nextCode !== null && nextCode !== void 0 ? nextCode : null;\n    };\n    return Parser;\n}());\nexport { Parser };\n/**\n * This check if codepoint is alphabet (lower & uppercase)\n * @param codepoint\n * @returns\n */\nfunction _isAlpha(codepoint) {\n    return ((codepoint >= 97 && codepoint <= 122) ||\n        (codepoint >= 65 && codepoint <= 90));\n}\nfunction _isAlphaOrSlash(codepoint) {\n    return _isAlpha(codepoint) || codepoint === 47; /* '/' */\n}\n/** See `parseTag` function docs. */\nfunction _isPotentialElementNameChar(c) {\n    return (c === 45 /* '-' */ ||\n        c === 46 /* '.' */ ||\n        (c >= 48 && c <= 57) /* 0..9 */ ||\n        c === 95 /* '_' */ ||\n        (c >= 97 && c <= 122) /** a..z */ ||\n        (c >= 65 && c <= 90) /* A..Z */ ||\n        c == 0xb7 ||\n        (c >= 0xc0 && c <= 0xd6) ||\n        (c >= 0xd8 && c <= 0xf6) ||\n        (c >= 0xf8 && c <= 0x37d) ||\n        (c >= 0x37f && c <= 0x1fff) ||\n        (c >= 0x200c && c <= 0x200d) ||\n        (c >= 0x203f && c <= 0x2040) ||\n        (c >= 0x2070 && c <= 0x218f) ||\n        (c >= 0x2c00 && c <= 0x2fef) ||\n        (c >= 0x3001 && c <= 0xd7ff) ||\n        (c >= 0xf900 && c <= 0xfdcf) ||\n        (c >= 0xfdf0 && c <= 0xfffd) ||\n        (c >= 0x10000 && c <= 0xeffff));\n}\n/**\n * Code point equivalent of regex `\\p{White_Space}`.\n * From: https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isWhiteSpace(c) {\n    return ((c >= 0x0009 && c <= 0x000d) ||\n        c === 0x0020 ||\n        c === 0x0085 ||\n        (c >= 0x200e && c <= 0x200f) ||\n        c === 0x2028 ||\n        c === 0x2029);\n}\n/**\n * Code point equivalent of regex `\\p{Pattern_Syntax}`.\n * See https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isPatternSyntax(c) {\n    return ((c >= 0x0021 && c <= 0x0023) ||\n        c === 0x0024 ||\n        (c >= 0x0025 && c <= 0x0027) ||\n        c === 0x0028 ||\n        c === 0x0029 ||\n        c === 0x002a ||\n        c === 0x002b ||\n        c === 0x002c ||\n        c === 0x002d ||\n        (c >= 0x002e && c <= 0x002f) ||\n        (c >= 0x003a && c <= 0x003b) ||\n        (c >= 0x003c && c <= 0x003e) ||\n        (c >= 0x003f && c <= 0x0040) ||\n        c === 0x005b ||\n        c === 0x005c ||\n        c === 0x005d ||\n        c === 0x005e ||\n        c === 0x0060 ||\n        c === 0x007b ||\n        c === 0x007c ||\n        c === 0x007d ||\n        c === 0x007e ||\n        c === 0x00a1 ||\n        (c >= 0x00a2 && c <= 0x00a5) ||\n        c === 0x00a6 ||\n        c === 0x00a7 ||\n        c === 0x00a9 ||\n        c === 0x00ab ||\n        c === 0x00ac ||\n        c === 0x00ae ||\n        c === 0x00b0 ||\n        c === 0x00b1 ||\n        c === 0x00b6 ||\n        c === 0x00bb ||\n        c === 0x00bf ||\n        c === 0x00d7 ||\n        c === 0x00f7 ||\n        (c >= 0x2010 && c <= 0x2015) ||\n        (c >= 0x2016 && c <= 0x2017) ||\n        c === 0x2018 ||\n        c === 0x2019 ||\n        c === 0x201a ||\n        (c >= 0x201b && c <= 0x201c) ||\n        c === 0x201d ||\n        c === 0x201e ||\n        c === 0x201f ||\n        (c >= 0x2020 && c <= 0x2027) ||\n        (c >= 0x2030 && c <= 0x2038) ||\n        c === 0x2039 ||\n        c === 0x203a ||\n        (c >= 0x203b && c <= 0x203e) ||\n        (c >= 0x2041 && c <= 0x2043) ||\n        c === 0x2044 ||\n        c === 0x2045 ||\n        c === 0x2046 ||\n        (c >= 0x2047 && c <= 0x2051) ||\n        c === 0x2052 ||\n        c === 0x2053 ||\n        (c >= 0x2055 && c <= 0x205e) ||\n        (c >= 0x2190 && c <= 0x2194) ||\n        (c >= 0x2195 && c <= 0x2199) ||\n        (c >= 0x219a && c <= 0x219b) ||\n        (c >= 0x219c && c <= 0x219f) ||\n        c === 0x21a0 ||\n        (c >= 0x21a1 && c <= 0x21a2) ||\n        c === 0x21a3 ||\n        (c >= 0x21a4 && c <= 0x21a5) ||\n        c === 0x21a6 ||\n        (c >= 0x21a7 && c <= 0x21ad) ||\n        c === 0x21ae ||\n        (c >= 0x21af && c <= 0x21cd) ||\n        (c >= 0x21ce && c <= 0x21cf) ||\n        (c >= 0x21d0 && c <= 0x21d1) ||\n        c === 0x21d2 ||\n        c === 0x21d3 ||\n        c === 0x21d4 ||\n        (c >= 0x21d5 && c <= 0x21f3) ||\n        (c >= 0x21f4 && c <= 0x22ff) ||\n        (c >= 0x2300 && c <= 0x2307) ||\n        c === 0x2308 ||\n        c === 0x2309 ||\n        c === 0x230a ||\n        c === 0x230b ||\n        (c >= 0x230c && c <= 0x231f) ||\n        (c >= 0x2320 && c <= 0x2321) ||\n        (c >= 0x2322 && c <= 0x2328) ||\n        c === 0x2329 ||\n        c === 0x232a ||\n        (c >= 0x232b && c <= 0x237b) ||\n        c === 0x237c ||\n        (c >= 0x237d && c <= 0x239a) ||\n        (c >= 0x239b && c <= 0x23b3) ||\n        (c >= 0x23b4 && c <= 0x23db) ||\n        (c >= 0x23dc && c <= 0x23e1) ||\n        (c >= 0x23e2 && c <= 0x2426) ||\n        (c >= 0x2427 && c <= 0x243f) ||\n        (c >= 0x2440 && c <= 0x244a) ||\n        (c >= 0x244b && c <= 0x245f) ||\n        (c >= 0x2500 && c <= 0x25b6) ||\n        c === 0x25b7 ||\n        (c >= 0x25b8 && c <= 0x25c0) ||\n        c === 0x25c1 ||\n        (c >= 0x25c2 && c <= 0x25f7) ||\n        (c >= 0x25f8 && c <= 0x25ff) ||\n        (c >= 0x2600 && c <= 0x266e) ||\n        c === 0x266f ||\n        (c >= 0x2670 && c <= 0x2767) ||\n        c === 0x2768 ||\n        c === 0x2769 ||\n        c === 0x276a ||\n        c === 0x276b ||\n        c === 0x276c ||\n        c === 0x276d ||\n        c === 0x276e ||\n        c === 0x276f ||\n        c === 0x2770 ||\n        c === 0x2771 ||\n        c === 0x2772 ||\n        c === 0x2773 ||\n        c === 0x2774 ||\n        c === 0x2775 ||\n        (c >= 0x2794 && c <= 0x27bf) ||\n        (c >= 0x27c0 && c <= 0x27c4) ||\n        c === 0x27c5 ||\n        c === 0x27c6 ||\n        (c >= 0x27c7 && c <= 0x27e5) ||\n        c === 0x27e6 ||\n        c === 0x27e7 ||\n        c === 0x27e8 ||\n        c === 0x27e9 ||\n        c === 0x27ea ||\n        c === 0x27eb ||\n        c === 0x27ec ||\n        c === 0x27ed ||\n        c === 0x27ee ||\n        c === 0x27ef ||\n        (c >= 0x27f0 && c <= 0x27ff) ||\n        (c >= 0x2800 && c <= 0x28ff) ||\n        (c >= 0x2900 && c <= 0x2982) ||\n        c === 0x2983 ||\n        c === 0x2984 ||\n        c === 0x2985 ||\n        c === 0x2986 ||\n        c === 0x2987 ||\n        c === 0x2988 ||\n        c === 0x2989 ||\n        c === 0x298a ||\n        c === 0x298b ||\n        c === 0x298c ||\n        c === 0x298d ||\n        c === 0x298e ||\n        c === 0x298f ||\n        c === 0x2990 ||\n        c === 0x2991 ||\n        c === 0x2992 ||\n        c === 0x2993 ||\n        c === 0x2994 ||\n        c === 0x2995 ||\n        c === 0x2996 ||\n        c === 0x2997 ||\n        c === 0x2998 ||\n        (c >= 0x2999 && c <= 0x29d7) ||\n        c === 0x29d8 ||\n        c === 0x29d9 ||\n        c === 0x29da ||\n        c === 0x29db ||\n        (c >= 0x29dc && c <= 0x29fb) ||\n        c === 0x29fc ||\n        c === 0x29fd ||\n        (c >= 0x29fe && c <= 0x2aff) ||\n        (c >= 0x2b00 && c <= 0x2b2f) ||\n        (c >= 0x2b30 && c <= 0x2b44) ||\n        (c >= 0x2b45 && c <= 0x2b46) ||\n        (c >= 0x2b47 && c <= 0x2b4c) ||\n        (c >= 0x2b4d && c <= 0x2b73) ||\n        (c >= 0x2b74 && c <= 0x2b75) ||\n        (c >= 0x2b76 && c <= 0x2b95) ||\n        c === 0x2b96 ||\n        (c >= 0x2b97 && c <= 0x2bff) ||\n        (c >= 0x2e00 && c <= 0x2e01) ||\n        c === 0x2e02 ||\n        c === 0x2e03 ||\n        c === 0x2e04 ||\n        c === 0x2e05 ||\n        (c >= 0x2e06 && c <= 0x2e08) ||\n        c === 0x2e09 ||\n        c === 0x2e0a ||\n        c === 0x2e0b ||\n        c === 0x2e0c ||\n        c === 0x2e0d ||\n        (c >= 0x2e0e && c <= 0x2e16) ||\n        c === 0x2e17 ||\n        (c >= 0x2e18 && c <= 0x2e19) ||\n        c === 0x2e1a ||\n        c === 0x2e1b ||\n        c === 0x2e1c ||\n        c === 0x2e1d ||\n        (c >= 0x2e1e && c <= 0x2e1f) ||\n        c === 0x2e20 ||\n        c === 0x2e21 ||\n        c === 0x2e22 ||\n        c === 0x2e23 ||\n        c === 0x2e24 ||\n        c === 0x2e25 ||\n        c === 0x2e26 ||\n        c === 0x2e27 ||\n        c === 0x2e28 ||\n        c === 0x2e29 ||\n        (c >= 0x2e2a && c <= 0x2e2e) ||\n        c === 0x2e2f ||\n        (c >= 0x2e30 && c <= 0x2e39) ||\n        (c >= 0x2e3a && c <= 0x2e3b) ||\n        (c >= 0x2e3c && c <= 0x2e3f) ||\n        c === 0x2e40 ||\n        c === 0x2e41 ||\n        c === 0x2e42 ||\n        (c >= 0x2e43 && c <= 0x2e4f) ||\n        (c >= 0x2e50 && c <= 0x2e51) ||\n        c === 0x2e52 ||\n        (c >= 0x2e53 && c <= 0x2e7f) ||\n        (c >= 0x3001 && c <= 0x3003) ||\n        c === 0x3008 ||\n        c === 0x3009 ||\n        c === 0x300a ||\n        c === 0x300b ||\n        c === 0x300c ||\n        c === 0x300d ||\n        c === 0x300e ||\n        c === 0x300f ||\n        c === 0x3010 ||\n        c === 0x3011 ||\n        (c >= 0x3012 && c <= 0x3013) ||\n        c === 0x3014 ||\n        c === 0x3015 ||\n        c === 0x3016 ||\n        c === 0x3017 ||\n        c === 0x3018 ||\n        c === 0x3019 ||\n        c === 0x301a ||\n        c === 0x301b ||\n        c === 0x301c ||\n        c === 0x301d ||\n        (c >= 0x301e && c <= 0x301f) ||\n        c === 0x3020 ||\n        c === 0x3030 ||\n        c === 0xfd3e ||\n        c === 0xfd3f ||\n        (c >= 0xfe45 && c <= 0xfe46));\n}\n", "import { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { Parser } from './parser';\nimport { isDateElement, isDateTimeSkeleton, isNumberElement, isNumberSkeleton, isPluralElement, isSelectElement, isTagElement, isTimeElement, } from './types';\nfunction pruneLocation(els) {\n    els.forEach(function (el) {\n        delete el.location;\n        if (isSelectElement(el) || isPluralElement(el)) {\n            for (var k in el.options) {\n                delete el.options[k].location;\n                pruneLocation(el.options[k].value);\n            }\n        }\n        else if (isNumberElement(el) && isNumberSkeleton(el.style)) {\n            delete el.style.location;\n        }\n        else if ((isDateElement(el) || isTimeElement(el)) &&\n            isDateTimeSkeleton(el.style)) {\n            delete el.style.location;\n        }\n        else if (isTagElement(el)) {\n            pruneLocation(el.children);\n        }\n    });\n}\nexport function parse(message, opts) {\n    if (opts === void 0) { opts = {}; }\n    opts = __assign({ shouldParseSkeletons: true, requiresOtherClause: true }, opts);\n    var result = new Parser(message, opts).parse();\n    if (result.err) {\n        var error = SyntaxError(ErrorKind[result.err.kind]);\n        // @ts-expect-error Assign to error object\n        error.location = result.err.location;\n        // @ts-expect-error Assign to error object\n        error.originalMessage = result.err.message;\n        throw error;\n    }\n    if (!(opts === null || opts === void 0 ? void 0 : opts.captureLocation)) {\n        pruneLocation(result.val);\n    }\n    return result.val;\n}\nexport * from './types';\n", "//\n// Main\n//\nexport default function memoize(fn, options) {\n    var cache = options && options.cache ? options.cache : cacheDefault;\n    var serializer = options && options.serializer ? options.serializer : serializerDefault;\n    var strategy = options && options.strategy ? options.strategy : strategyDefault;\n    return strategy(fn, {\n        cache: cache,\n        serializer: serializer,\n    });\n}\n//\n// Strategy\n//\nfunction isPrimitive(value) {\n    return (value == null || typeof value === 'number' || typeof value === 'boolean'); // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\nfunction monadic(fn, cache, serializer, arg) {\n    var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.call(this, arg);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction variadic(fn, cache, serializer) {\n    var args = Array.prototype.slice.call(arguments, 3);\n    var cacheKey = serializer(args);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.apply(this, args);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction assemble(fn, context, strategy, cache, serialize) {\n    return strategy.bind(context, fn, cache, serialize);\n}\nfunction strategyDefault(fn, options) {\n    var strategy = fn.length === 1 ? monadic : variadic;\n    return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction strategyVariadic(fn, options) {\n    return assemble(fn, this, variadic, options.cache.create(), options.serializer);\n}\nfunction strategyMonadic(fn, options) {\n    return assemble(fn, this, monadic, options.cache.create(), options.serializer);\n}\n//\n// Serializer\n//\nvar serializerDefault = function () {\n    return JSON.stringify(arguments);\n};\n//\n// Cache\n//\nfunction ObjectWithoutPrototypeCache() {\n    this.cache = Object.create(null);\n}\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n    return this.cache[key];\n};\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n    this.cache[key] = value;\n};\nvar cacheDefault = {\n    create: function create() {\n        // @ts-ignore\n        return new ObjectWithoutPrototypeCache();\n    },\n};\nexport var strategies = {\n    variadic: strategyVariadic,\n    monadic: strategyMonadic,\n};\n", "import { __extends } from \"tslib\";\nexport var ErrorCode;\n(function (ErrorCode) {\n    // When we have a placeholder but no value to format\n    ErrorCode[\"MISSING_VALUE\"] = \"MISSING_VALUE\";\n    // When value supplied is invalid\n    ErrorCode[\"INVALID_VALUE\"] = \"INVALID_VALUE\";\n    // When we need specific Intl API but it's not available\n    ErrorCode[\"MISSING_INTL_API\"] = \"MISSING_INTL_API\";\n})(ErrorCode || (ErrorCode = {}));\nvar FormatError = /** @class */ (function (_super) {\n    __extends(FormatError, _super);\n    function FormatError(msg, code, originalMessage) {\n        var _this = _super.call(this, msg) || this;\n        _this.code = code;\n        _this.originalMessage = originalMessage;\n        return _this;\n    }\n    FormatError.prototype.toString = function () {\n        return \"[formatjs Error: \".concat(this.code, \"] \").concat(this.message);\n    };\n    return FormatError;\n}(Error));\nexport { FormatError };\nvar InvalidValueError = /** @class */ (function (_super) {\n    __extends(InvalidValueError, _super);\n    function InvalidValueError(variableId, value, options, originalMessage) {\n        return _super.call(this, \"Invalid values for \\\"\".concat(variableId, \"\\\": \\\"\").concat(value, \"\\\". Options are \\\"\").concat(Object.keys(options).join('\", \"'), \"\\\"\"), ErrorCode.INVALID_VALUE, originalMessage) || this;\n    }\n    return InvalidValueError;\n}(FormatError));\nexport { InvalidValueError };\nvar InvalidValueTypeError = /** @class */ (function (_super) {\n    __extends(InvalidValueTypeError, _super);\n    function InvalidValueTypeError(value, type, originalMessage) {\n        return _super.call(this, \"Value for \\\"\".concat(value, \"\\\" must be of type \").concat(type), ErrorCode.INVALID_VALUE, originalMessage) || this;\n    }\n    return InvalidValueTypeError;\n}(FormatError));\nexport { InvalidValueTypeError };\nvar MissingValueError = /** @class */ (function (_super) {\n    __extends(MissingValueError, _super);\n    function MissingValueError(variableId, originalMessage) {\n        return _super.call(this, \"The intl string context variable \\\"\".concat(variableId, \"\\\" was not provided to the string \\\"\").concat(originalMessage, \"\\\"\"), ErrorCode.MISSING_VALUE, originalMessage) || this;\n    }\n    return MissingValueError;\n}(FormatError));\nexport { MissingValueError };\n", "import { isArgumentElement, isDateElement, isDateTimeSkeleton, isLiteralElement, isNumberElement, isNumberSkeleton, isPluralElement, isPoundElement, isSelectElement, isTimeElement, isTagElement, } from '@formatjs/icu-messageformat-parser';\nimport { MissingValueError, InvalidValueError, ErrorCode, FormatError, InvalidValueTypeError, } from './error';\nexport var PART_TYPE;\n(function (PART_TYPE) {\n    PART_TYPE[PART_TYPE[\"literal\"] = 0] = \"literal\";\n    PART_TYPE[PART_TYPE[\"object\"] = 1] = \"object\";\n})(PART_TYPE || (PART_TYPE = {}));\nfunction mergeLiteral(parts) {\n    if (parts.length < 2) {\n        return parts;\n    }\n    return parts.reduce(function (all, part) {\n        var lastPart = all[all.length - 1];\n        if (!lastPart ||\n            lastPart.type !== PART_TYPE.literal ||\n            part.type !== PART_TYPE.literal) {\n            all.push(part);\n        }\n        else {\n            lastPart.value += part.value;\n        }\n        return all;\n    }, []);\n}\nexport function isFormatXMLElementFn(el) {\n    return typeof el === 'function';\n}\n// TODO(skeleton): add skeleton support\nexport function formatToParts(els, locales, formatters, formats, values, currentPluralValue, \n// For debugging\noriginalMessage) {\n    // Hot path for straight simple msg translations\n    if (els.length === 1 && isLiteralElement(els[0])) {\n        return [\n            {\n                type: PART_TYPE.literal,\n                value: els[0].value,\n            },\n        ];\n    }\n    var result = [];\n    for (var _i = 0, els_1 = els; _i < els_1.length; _i++) {\n        var el = els_1[_i];\n        // Exit early for string parts.\n        if (isLiteralElement(el)) {\n            result.push({\n                type: PART_TYPE.literal,\n                value: el.value,\n            });\n            continue;\n        }\n        // TODO: should this part be literal type?\n        // Replace `#` in plural rules with the actual numeric value.\n        if (isPoundElement(el)) {\n            if (typeof currentPluralValue === 'number') {\n                result.push({\n                    type: PART_TYPE.literal,\n                    value: formatters.getNumberFormat(locales).format(currentPluralValue),\n                });\n            }\n            continue;\n        }\n        var varName = el.value;\n        // Enforce that all required values are provided by the caller.\n        if (!(values && varName in values)) {\n            throw new MissingValueError(varName, originalMessage);\n        }\n        var value = values[varName];\n        if (isArgumentElement(el)) {\n            if (!value || typeof value === 'string' || typeof value === 'number') {\n                value =\n                    typeof value === 'string' || typeof value === 'number'\n                        ? String(value)\n                        : '';\n            }\n            result.push({\n                type: typeof value === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n                value: value,\n            });\n            continue;\n        }\n        // Recursively format plural and select parts' option  which can be a\n        // nested pattern structure. The choosing of the option to use is\n        // abstracted-by and delegated-to the part helper object.\n        if (isDateElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.date[el.style]\n                : isDateTimeSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getDateTimeFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isTimeElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.time[el.style]\n                : isDateTimeSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : formats.time.medium;\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getDateTimeFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isNumberElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.number[el.style]\n                : isNumberSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            if (style && style.scale) {\n                value =\n                    value *\n                        (style.scale || 1);\n            }\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getNumberFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isTagElement(el)) {\n            var children = el.children, value_1 = el.value;\n            var formatFn = values[value_1];\n            if (!isFormatXMLElementFn(formatFn)) {\n                throw new InvalidValueTypeError(value_1, 'function', originalMessage);\n            }\n            var parts = formatToParts(children, locales, formatters, formats, values, currentPluralValue);\n            var chunks = formatFn(parts.map(function (p) { return p.value; }));\n            if (!Array.isArray(chunks)) {\n                chunks = [chunks];\n            }\n            result.push.apply(result, chunks.map(function (c) {\n                return {\n                    type: typeof c === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n                    value: c,\n                };\n            }));\n        }\n        if (isSelectElement(el)) {\n            var opt = el.options[value] || el.options.other;\n            if (!opt) {\n                throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n            }\n            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values));\n            continue;\n        }\n        if (isPluralElement(el)) {\n            var opt = el.options[\"=\".concat(value)];\n            if (!opt) {\n                if (!Intl.PluralRules) {\n                    throw new FormatError(\"Intl.PluralRules is not available in this environment.\\nTry polyfilling it using \\\"@formatjs/intl-pluralrules\\\"\\n\", ErrorCode.MISSING_INTL_API, originalMessage);\n                }\n                var rule = formatters\n                    .getPluralRules(locales, { type: el.pluralType })\n                    .select(value - (el.offset || 0));\n                opt = el.options[rule] || el.options.other;\n            }\n            if (!opt) {\n                throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n            }\n            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values, value - (el.offset || 0)));\n            continue;\n        }\n    }\n    return mergeLiteral(result);\n}\n", "/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\nimport { __assign, __spreadArray } from \"tslib\";\nimport { parse } from '@formatjs/icu-messageformat-parser';\nimport memoize, { strategies } from '@formatjs/fast-memoize';\nimport { formatToParts, PART_TYPE, } from './formatters';\n// -- MessageFormat --------------------------------------------------------\nfunction mergeConfig(c1, c2) {\n    if (!c2) {\n        return c1;\n    }\n    return __assign(__assign(__assign({}, (c1 || {})), (c2 || {})), Object.keys(c1).reduce(function (all, k) {\n        all[k] = __assign(__assign({}, c1[k]), (c2[k] || {}));\n        return all;\n    }, {}));\n}\nfunction mergeConfigs(defaultConfig, configs) {\n    if (!configs) {\n        return defaultConfig;\n    }\n    return Object.keys(defaultConfig).reduce(function (all, k) {\n        all[k] = mergeConfig(defaultConfig[k], configs[k]);\n        return all;\n    }, __assign({}, defaultConfig));\n}\nfunction createFastMemoizeCache(store) {\n    return {\n        create: function () {\n            return {\n                get: function (key) {\n                    return store[key];\n                },\n                set: function (key, value) {\n                    store[key] = value;\n                },\n            };\n        },\n    };\n}\nfunction createDefaultFormatters(cache) {\n    if (cache === void 0) { cache = {\n        number: {},\n        dateTime: {},\n        pluralRules: {},\n    }; }\n    return {\n        getNumberFormat: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.NumberFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.number),\n            strategy: strategies.variadic,\n        }),\n        getDateTimeFormat: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.DateTimeFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.dateTime),\n            strategy: strategies.variadic,\n        }),\n        getPluralRules: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.PluralRules).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.pluralRules),\n            strategy: strategies.variadic,\n        }),\n    };\n}\nvar IntlMessageFormat = /** @class */ (function () {\n    function IntlMessageFormat(message, locales, overrideFormats, opts) {\n        if (locales === void 0) { locales = IntlMessageFormat.defaultLocale; }\n        var _this = this;\n        this.formatterCache = {\n            number: {},\n            dateTime: {},\n            pluralRules: {},\n        };\n        this.format = function (values) {\n            var parts = _this.formatToParts(values);\n            // Hot path for straight simple msg translations\n            if (parts.length === 1) {\n                return parts[0].value;\n            }\n            var result = parts.reduce(function (all, part) {\n                if (!all.length ||\n                    part.type !== PART_TYPE.literal ||\n                    typeof all[all.length - 1] !== 'string') {\n                    all.push(part.value);\n                }\n                else {\n                    all[all.length - 1] += part.value;\n                }\n                return all;\n            }, []);\n            if (result.length <= 1) {\n                return result[0] || '';\n            }\n            return result;\n        };\n        this.formatToParts = function (values) {\n            return formatToParts(_this.ast, _this.locales, _this.formatters, _this.formats, values, undefined, _this.message);\n        };\n        this.resolvedOptions = function () {\n            var _a;\n            return ({\n                locale: ((_a = _this.resolvedLocale) === null || _a === void 0 ? void 0 : _a.toString()) ||\n                    Intl.NumberFormat.supportedLocalesOf(_this.locales)[0],\n            });\n        };\n        this.getAst = function () { return _this.ast; };\n        // Defined first because it's used to build the format pattern.\n        this.locales = locales;\n        this.resolvedLocale = IntlMessageFormat.resolveLocale(locales);\n        if (typeof message === 'string') {\n            this.message = message;\n            if (!IntlMessageFormat.__parse) {\n                throw new TypeError('IntlMessageFormat.__parse must be set to process `message` of type `string`');\n            }\n            // Parse string messages into an AST.\n            this.ast = IntlMessageFormat.__parse(message, {\n                ignoreTag: opts === null || opts === void 0 ? void 0 : opts.ignoreTag,\n                locale: this.resolvedLocale,\n            });\n        }\n        else {\n            this.ast = message;\n        }\n        if (!Array.isArray(this.ast)) {\n            throw new TypeError('A message must be provided as a String or AST.');\n        }\n        // Creates a new object with the specified `formats` merged with the default\n        // formats.\n        this.formats = mergeConfigs(IntlMessageFormat.formats, overrideFormats);\n        this.formatters =\n            (opts && opts.formatters) || createDefaultFormatters(this.formatterCache);\n    }\n    Object.defineProperty(IntlMessageFormat, \"defaultLocale\", {\n        get: function () {\n            if (!IntlMessageFormat.memoizedDefaultLocale) {\n                IntlMessageFormat.memoizedDefaultLocale =\n                    new Intl.NumberFormat().resolvedOptions().locale;\n            }\n            return IntlMessageFormat.memoizedDefaultLocale;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    IntlMessageFormat.memoizedDefaultLocale = null;\n    IntlMessageFormat.resolveLocale = function (locales) {\n        if (typeof Intl.Locale === 'undefined') {\n            return;\n        }\n        var supportedLocales = Intl.NumberFormat.supportedLocalesOf(locales);\n        if (supportedLocales.length > 0) {\n            return new Intl.Locale(supportedLocales[0]);\n        }\n        return new Intl.Locale(typeof locales === 'string' ? locales : locales[0]);\n    };\n    IntlMessageFormat.__parse = parse;\n    // Default format options used as the prototype of the `formats` provided to the\n    // constructor. These are used when constructing the internal Intl.NumberFormat\n    // and Intl.DateTimeFormat instances.\n    IntlMessageFormat.formats = {\n        number: {\n            integer: {\n                maximumFractionDigits: 0,\n            },\n            currency: {\n                style: 'currency',\n            },\n            percent: {\n                style: 'percent',\n            },\n        },\n        date: {\n            short: {\n                month: 'numeric',\n                day: 'numeric',\n                year: '2-digit',\n            },\n            medium: {\n                month: 'short',\n                day: 'numeric',\n                year: 'numeric',\n            },\n            long: {\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n            },\n            full: {\n                weekday: 'long',\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n            },\n        },\n        time: {\n            short: {\n                hour: 'numeric',\n                minute: 'numeric',\n            },\n            medium: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n            },\n            long: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                timeZoneName: 'short',\n            },\n            full: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                timeZoneName: 'short',\n            },\n        },\n    };\n    return IntlMessageFormat;\n}());\nexport { IntlMessageFormat };\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport { MessageDictionary, MessageFormatter } from '@internationalized/message';\nimport { useCallback, useMemo } from 'react';\nimport { useLocale } from '../';\nconst cache = new WeakMap();\n\nfunction getCachedDictionary(strings) {\n  let dictionary = cache.get(strings);\n\n  if (!dictionary) {\n    dictionary = new MessageDictionary(strings);\n    cache.set(strings, dictionary);\n  }\n\n  return dictionary;\n}\n/**\n * Handles formatting ICU Message strings to create localized strings for the current locale.\n * Automatically updates when the locale changes, and handles caching of messages for performance.\n * @param strings - A mapping of languages to strings by key.\n * @deprecated - use useLocalizedStringFormatter instead.\n */\n\n\nexport function useMessageFormatter(strings) {\n  let {\n    locale\n  } = useLocale();\n  let dictionary = useMemo(() => getCachedDictionary(strings), [strings]);\n  let formatter = useMemo(() => new MessageFormatter(locale, dictionary), [locale, dictionary]);\n  return useCallback((key, variables) => formatter.format(key, variables), [formatter]);\n}\n", "/**\n * All credit goes to [React Spectrum](https://github.com/adobe/react-spectrum)\n * We improved the Calendar from Stately [useWeekStart](https://github.com/adobe/react-spectrum/blob/main/packages/%40react-stately/calendar/src/useWeekStart.ts)\n * to work with Reakit System\n */\nimport { KeyboardEvent, useRef } from \"react\";\nimport { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\nimport { createOnKeyDown, useForkRef } from \"reakit-utils\";\nimport { callAllHandlers } from \"@chakra-ui/utils\";\nimport { chain } from \"@react-aria/utils\";\n\nimport { createComponent, createHook } from \"../system\";\nimport { ariaAttr } from \"../utils\";\n\nimport { CALENDAR_GRID_KEYS } from \"./__keys\";\nimport { CalendarStateReturn } from \"./CalendarState\";\nimport { RangeCalendarStateReturn } from \"./RangeCalendarState\";\n\nexport const useCalendarGrid = createHook<\n  CalendarGridOptions,\n  CalendarGridHTMLProps\n>({\n  name: \"CalendarGrid\",\n  compose: useRole,\n  keys: CALENDAR_GRID_KEYS,\n\n  useProps(\n    options,\n    {\n      ref: htmlRef,\n      onKeyDown: htmlOnKeyDown,\n      onBlur: htmlOnFocus,\n      onBlur: htmlOnBlur,\n      ...htmlProps\n    },\n  ) {\n    const {\n      isReadOnly,\n      isDisabled,\n      setFocused,\n      selectFocusedDate,\n      focusPreviousYear,\n      focusPreviousMonth,\n      focusNextYear,\n      focusNextMonth,\n      focusEndOfMonth,\n      focusStartOfMonth,\n      focusNextDay,\n      focusPreviousDay,\n      focusNextWeek,\n      focusPreviousWeek,\n      calendarId,\n      setAnchorDate,\n    } = options;\n    const ref = useRef<HTMLElement>(null);\n\n    const onKeyDown = createOnKeyDown({\n      onKeyDown: htmlOnKeyDown,\n      preventDefault: true,\n      keyMap: (event: KeyboardEvent) => {\n        const shift = event.shiftKey;\n\n        return {\n          \" \": selectFocusedDate,\n          Enter: selectFocusedDate,\n          End: focusEndOfMonth,\n          Home: focusStartOfMonth,\n          ArrowLeft: focusPreviousDay,\n          ArrowUp: focusPreviousWeek,\n          ArrowRight: focusNextDay,\n          ArrowDown: focusNextWeek,\n          PageUp: () => {\n            shift ? focusPreviousYear() : focusPreviousMonth();\n          },\n          PageDown: () => {\n            shift ? focusNextYear() : focusNextMonth();\n          },\n        };\n      },\n    });\n\n    let rangeCalendarProps = {};\n\n    if (options.isRangeCalendar) {\n      const onRangeKeyDown = (e: KeyboardEvent) => {\n        switch (e.key) {\n          case \"Escape\":\n            // Cancel the selection.\n            setAnchorDate?.(null);\n            break;\n        }\n      };\n\n      rangeCalendarProps = {\n        \"aria-multiselectable\": true,\n        onKeyDown: callAllHandlers(\n          htmlOnKeyDown,\n          chain(onKeyDown, onRangeKeyDown),\n        ),\n      };\n    }\n\n    return {\n      ref: useForkRef(ref, htmlRef),\n      role: \"grid\",\n      \"aria-labelledby\": calendarId,\n      \"aria-readonly\": ariaAttr(isReadOnly),\n      \"aria-disabled\": ariaAttr(isDisabled),\n      onKeyDown: callAllHandlers(htmlOnKeyDown, onKeyDown),\n      onFocus: callAllHandlers(htmlOnFocus, () => setFocused(true)),\n      onBlur: callAllHandlers(htmlOnBlur, () => setFocused(false)),\n      ...rangeCalendarProps,\n      ...htmlProps,\n    };\n  },\n});\n\nexport const CalendarGrid = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useCalendarGrid,\n});\n\nexport type CalendarGridOptions = RoleOptions &\n  Pick<\n    CalendarStateReturn,\n    | \"calendarId\"\n    | \"isReadOnly\"\n    | \"isDisabled\"\n    | \"setFocused\"\n    | \"selectFocusedDate\"\n    | \"focusPreviousYear\"\n    | \"focusPreviousMonth\"\n    | \"focusNextYear\"\n    | \"focusNextMonth\"\n    | \"focusEndOfMonth\"\n    | \"focusStartOfMonth\"\n    | \"focusNextDay\"\n    | \"focusPreviousDay\"\n    | \"focusNextWeek\"\n    | \"focusPreviousWeek\"\n    | \"isRangeCalendar\"\n  > &\n  Partial<Pick<RangeCalendarStateReturn, \"setAnchorDate\">>;\n\nexport type CalendarGridHTMLProps = RoleHTMLProps;\n\nexport type CalendarGridProps = CalendarGridOptions & CalendarGridHTMLProps;\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nexport {useControlledState} from './useControlledState';\nexport {clamp, snapValueToStep, toFixedNumber} from './number';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useRef, useState} from 'react';\n\nexport function useControlledState<T>(\n  value: T,\n  defaultValue: T,\n  onChange: (value: T, ...args: any[]) => void\n): [T, (value: T, ...args: any[]) => void]  {\n  let [stateValue, setStateValue] = useState(value || defaultValue);\n  let ref = useRef(value !== undefined);\n  let wasControlled = ref.current;\n  let isControlled = value !== undefined;\n  // Internal state reference for useCallback\n  let stateRef = useRef(stateValue);\n  if (wasControlled !== isControlled) {\n    console.warn(`WARN: A component changed from ${wasControlled ? 'controlled' : 'uncontrolled'} to ${isControlled ? 'controlled' : 'uncontrolled'}.`);\n  }\n\n  ref.current = isControlled;\n\n  let setValue = useCallback((value, ...args) => {\n    let onChangeCaller = (value, ...onChangeArgs) => {\n      if (onChange) {\n        if (!Object.is(stateRef.current, value)) {\n          onChange(value, ...onChangeArgs);\n        }\n      }\n      if (!isControlled) {\n        stateRef.current = value;\n      }\n    };\n\n    if (typeof value === 'function') {\n      console.warn('We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320');\n      // this supports functional updates https://reactjs.org/docs/hooks-reference.html#functional-updates\n      // when someone using useControlledState calls setControlledState(myFunc)\n      // this will call our useState setState with a function as well which invokes myFunc and calls onChange with the value from myFunc\n      // if we're in an uncontrolled state, then we also return the value of myFunc which to setState looks as though it was just called with myFunc from the beginning\n      // otherwise we just return the controlled value, which won't cause a rerender because React knows to bail out when the value is the same\n      let updateFunction = (oldValue, ...functionArgs) => {\n        let interceptedValue = value(isControlled ? stateRef.current : oldValue, ...functionArgs);\n        onChangeCaller(interceptedValue, ...args);\n        if (!isControlled) {\n          return interceptedValue;\n        }\n        return oldValue;\n      };\n      setStateValue(updateFunction);\n    } else {\n      if (!isControlled) {\n        setStateValue(value);\n      }\n      onChangeCaller(value, ...args);\n    }\n  }, [isControlled, onChange]);\n\n  // If a controlled component's value prop changes, we need to update stateRef\n  if (isControlled) {\n    stateRef.current = value;\n  } else {\n    value = stateValue;\n  }\n\n  return [value, setValue];\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * Takes a value and forces it to the closest min/max if it's outside. Also forces it to the closest valid step.\n */\nexport function clamp(value: number, min: number = -Infinity, max: number = Infinity): number {\n  let newValue = Math.min(Math.max(value, min), max);\n  return newValue;\n}\n\nexport function snapValueToStep(value: number, min: number, max: number, step: number): number {\n  let remainder = ((value - (isNaN(min) ? 0 : min)) % step);\n  let snappedValue = Math.abs(remainder) * 2 >= step\n    ? value + Math.sign(remainder) * (step - Math.abs(remainder))\n    : value - remainder;\n\n  if (!isNaN(min)) {\n    if (snappedValue < min) {\n      snappedValue = min;\n    } else if (!isNaN(max) && snappedValue > max) {\n      snappedValue = min + Math.floor((max - min) / step) * step;\n    }\n  } else if (!isNaN(max) && snappedValue > max) {\n    snappedValue = Math.floor(max / step) * step;\n  }\n\n  // correct floating point behavior by rounding to step precision\n  let string = step.toString();\n  let index = string.indexOf('.');\n  let precision = index >= 0 ? string.length - index : 0;\n\n  if (precision > 0) {\n    let pow = Math.pow(10, precision);\n    snappedValue = Math.round(snappedValue * pow) / pow;\n  }\n\n  return snappedValue;\n}\n\n/* Takes a value and rounds off to the number of digits. */\nexport function toFixedNumber(value: number, digits: number, base: number = 10): number {\n  const pow = Math.pow(base, digits);\n\n  return Math.round(value * pow) / pow;\n}\n", "function toVal(mix) {\n\tvar k, y, str='';\n\n\tif (typeof mix === 'string' || typeof mix === 'number') {\n\t\tstr += mix;\n\t} else if (typeof mix === 'object') {\n\t\tif (Array.isArray(mix)) {\n\t\t\tfor (k=0; k < mix.length; k++) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tif (y = toVal(mix[k])) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (k in mix) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\tstr += k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn str;\n}\n\nexport default function () {\n\tvar i=0, tmp, x, str='';\n\twhile (i < arguments.length) {\n\t\tif (tmp = arguments[i++]) {\n\t\t\tif (x = toVal(tmp)) {\n\t\t\t\tstr && (str += ' ');\n\t\t\t\tstr += x\n\t\t\t}\n\t\t}\n\t}\n\treturn str;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nexport {useId, mergeIds, useSlotId} from './useId';\nexport {chain} from './chain';\nexport {mergeProps} from './mergeProps';\nexport {mergeRefs} from './mergeRefs';\nexport {filterDOMProps} from './filterDOMProps';\nexport {focusWithoutScrolling} from './focusWithoutScrolling';\nexport {getOffset} from './getOffset';\nexport {runAfterTransition} from './runAfterTransition';\nexport {useDrag1D} from './useDrag1D';\nexport {useGlobalListeners} from './useGlobalListeners';\nexport {useLabels} from './useLabels';\nexport {useObjectRef} from './useObjectRef';\nexport {useUpdateEffect} from './useUpdateEffect';\nexport {useLayoutEffect} from './useLayoutEffect';\nexport {useResizeObserver} from './useResizeObserver';\nexport {useSyncRef} from './useSyncRef';\nexport {getScrollParent} from './getScrollParent';\nexport {useViewportSize} from './useViewportSize';\nexport {useDescription} from './useDescription';\nexport {isMac, isIPhone, isIPad, isIOS, isAppleDevice, isWebKit, isChrome, isAndroid} from './platform';\nexport {useEvent} from './useEvent';\nexport {useValueEffect} from './useValueEffect';\nexport {scrollIntoView} from './scrollIntoView';\nexport {clamp, snapValueToStep} from '@react-stately/utils';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useEffect, useRef, useState} from 'react';\nimport {useLayoutEffect} from './useLayoutEffect';\nimport {useSSRSafeId} from '@react-aria/ssr';\nimport {useValueEffect} from './';\n\nlet idsUpdaterMap: Map<string, (v: string) => void> = new Map();\n\n/**\n * If a default is not provided, generate an id.\n * @param defaultId - Default component id.\n */\nexport function useId(defaultId?: string): string {\n  let [value, setValue] = useState(defaultId);\n  let nextId = useRef(null);\n\n  let res = useSSRSafeId(value);\n\n  let updateValue = useCallback((val) => {\n    nextId.current = val;\n  }, []);\n\n  idsUpdaterMap.set(res, updateValue);\n\n  useLayoutEffect(() => {\n    let r = res;\n    return () => {\n      idsUpdaterMap.delete(r);\n    };\n  }, [res]);\n\n  // This cannot cause an infinite loop because the ref is updated first.\n  // eslint-disable-next-line\n  useEffect(() => {\n    let newId = nextId.current;\n    if (newId) {\n      nextId.current = null;\n      setValue(newId);\n    }\n  });\n\n  return res;\n}\n\n/**\n * Merges two ids.\n * Different ids will trigger a side-effect and re-render components hooked up with `useId`.\n */\nexport function mergeIds(idA: string, idB: string): string {\n  if (idA === idB) {\n    return idA;\n  }\n\n  let setIdA = idsUpdaterMap.get(idA);\n  if (setIdA) {\n    setIdA(idB);\n    return idB;\n  }\n\n  let setIdB = idsUpdaterMap.get(idB);\n  if (setIdB) {\n    setIdB(idA);\n    return idA;\n  }\n\n  return idB;\n}\n\n/**\n * Used to generate an id, and after render, check if that id is rendered so we know\n * if we can use it in places such as labelledby.\n * @param depArray - When to recalculate if the id is in the DOM.\n */\nexport function useSlotId(depArray: ReadonlyArray<any> = []): string {\n  let id = useId();\n  let [resolvedId, setResolvedId] = useValueEffect(id);\n  let updateId = useCallback(() => {\n    setResolvedId(function *() {\n      yield id;\n\n      yield document.getElementById(id) ? id : null;\n    });\n  }, [id, setResolvedId]);\n\n  useLayoutEffect(updateId, [id, updateId, ...depArray]);\n\n  return resolvedId;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport React from 'react';\n\n// During SSR, React emits a warning when calling useLayoutEffect.\n// Since neither useLayoutEffect nor useEffect run on the server,\n// we can suppress this by replace it with a noop on the server.\nexport const useLayoutEffect = typeof window !== 'undefined'\n  ? React.useLayoutEffect\n  : () => {};\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * Calls all functions in the order they were chained with the same arguments.\n */\nexport function chain(...callbacks: any[]): (...args: any[]) => void {\n  return (...args: any[]) => {\n    for (let callback of callbacks) {\n      if (typeof callback === 'function') {\n        callback(...args);\n      }\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {chain} from './chain';\nimport clsx from 'clsx';\nimport {mergeIds} from './useId';\n\ninterface Props {\n  [key: string]: any\n}\n\n// taken from: https://stackoverflow.com/questions/51603250/typescript-3-parameter-list-intersection-type/51604379#51604379\ntype TupleTypes<T> = { [P in keyof T]: T[P] } extends { [key: number]: infer V } ? V : never;\n// eslint-disable-next-line no-undef, @typescript-eslint/no-unused-vars\ntype UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends ((k: infer I) => void) ? I : never;\n\n/**\n * Merges multiple props objects together. Event handlers are chained,\n * classNames are combined, and ids are deduplicated - different ids\n * will trigger a side-effect and re-render components hooked up with `useId`.\n * For all other props, the last prop object overrides all previous ones.\n * @param args - Multiple sets of props to merge together.\n */\nexport function mergeProps<T extends Props[]>(...args: T): UnionToIntersection<TupleTypes<T>> {\n  // Start with a base clone of the first argument. This is a lot faster than starting\n  // with an empty object and adding properties as we go.\n  let result: Props = {...args[0]};\n  for (let i = 1; i < args.length; i++) {\n    let props = args[i];\n    for (let key in props) {\n      let a = result[key];\n      let b = props[key];\n\n      // Chain events\n      if (\n        typeof a === 'function' &&\n        typeof b === 'function' &&\n        // This is a lot faster than a regex.\n        key[0] === 'o' &&\n        key[1] === 'n' &&\n        key.charCodeAt(2) >= /* 'A' */ 65 &&\n        key.charCodeAt(2) <= /* 'Z' */ 90\n      ) {\n        result[key] = chain(a, b);\n\n        // Merge classnames, sometimes classNames are empty string which eval to false, so we just need to do a type check\n      } else if (\n        (key === 'className' || key === 'UNSAFE_className') &&\n        typeof a === 'string' &&\n        typeof b === 'string'\n      ) {\n        result[key] = clsx(a, b);\n      } else if (key === 'id' && a && b) {\n        result.id = mergeIds(a, b);\n        // Override others\n      } else {\n        result[key] = b !== undefined ? b : a;\n      }\n    }\n  }\n\n  return result as UnionToIntersection<TupleTypes<T>>;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {ForwardedRef} from 'react';\n\n/**\n * Merges multiple refs into one. Works with either callback or object refs.\n */\nexport function mergeRefs<T>(...refs: ForwardedRef<T>[]): ForwardedRef<T> {\n  return (value: T) => {\n    for (let ref of refs) {\n      if (typeof ref === 'function') {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMProps} from '@react-types/shared';\n\nconst DOMPropNames = new Set([\n  'id'\n]);\n\nconst labelablePropNames = new Set([\n  'aria-label',\n  'aria-labelledby',\n  'aria-describedby',\n  'aria-details'\n]);\n\ninterface Options {\n  /**\n   * If labelling associated aria properties should be included in the filter.\n   */\n  labelable?: boolean,\n  /**\n   * A Set of other property names that should be included in the filter.\n   */\n  propNames?: Set<string>\n}\n\nconst propRe = /^(data-.*)$/;\n\n/**\n * Filters out all props that aren't valid DOM props or defined via override prop obj.\n * @param props - The component props to be filtered.\n * @param opts - Props to override.\n */\nexport function filterDOMProps(props: DOMProps & AriaLabelingProps, opts: Options = {}): DOMProps & AriaLabelingProps {\n  let {labelable, propNames} = opts;\n  let filteredProps = {};\n\n  for (const prop in props) {\n    if (\n      Object.prototype.hasOwnProperty.call(props, prop) && (\n        DOMPropNames.has(prop) ||\n        (labelable && labelablePropNames.has(prop)) ||\n        propNames?.has(prop) ||\n        propRe.test(prop)\n      )\n    ) {\n      filteredProps[prop] = props[prop];\n    }\n  }\n\n  return filteredProps;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\n\n// This is a polyfill for element.focus({preventScroll: true});\n// Currently necessary for Safari and old Edge:\n// https://caniuse.com/#feat=mdn-api_htmlelement_focus_preventscroll_option\n// See https://bugs.webkit.org/show_bug.cgi?id=178583\n//\n\n// Original licensing for the following methods can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/calvellido/focus-options-polyfill\n\ninterface ScrollableElement {\n  element: HTMLElement,\n  scrollTop: number,\n  scrollLeft: number\n}\n\nexport function focusWithoutScrolling(element: FocusableElement) {\n  if (supportsPreventScroll()) {\n    element.focus({preventScroll: true});\n  } else {\n    let scrollableElements = getScrollableElements(element);\n    element.focus();\n    restoreScrollPosition(scrollableElements);\n  }\n}\n\nlet supportsPreventScrollCached: boolean = null;\nfunction supportsPreventScroll() {\n  if (supportsPreventScrollCached == null) {\n    supportsPreventScrollCached = false;\n    try {\n      var focusElem = document.createElement('div');\n      focusElem.focus({\n        get preventScroll() {\n          supportsPreventScrollCached = true;\n          return true;\n        }\n      });\n    } catch (e) {\n      // Ignore\n    }\n  }\n\n  return supportsPreventScrollCached;\n}\n\nfunction getScrollableElements(element: FocusableElement): ScrollableElement[] {\n  var parent = element.parentNode;\n  var scrollableElements: ScrollableElement[] = [];\n  var rootScrollingElement = document.scrollingElement || document.documentElement;\n\n  while (parent instanceof HTMLElement && parent !== rootScrollingElement) {\n    if (\n      parent.offsetHeight < parent.scrollHeight ||\n      parent.offsetWidth < parent.scrollWidth\n    ) {\n      scrollableElements.push({\n        element: parent,\n        scrollTop: parent.scrollTop,\n        scrollLeft: parent.scrollLeft\n      });\n    }\n    parent = parent.parentNode;\n  }\n\n  if (rootScrollingElement instanceof HTMLElement) {\n    scrollableElements.push({\n      element: rootScrollingElement,\n      scrollTop: rootScrollingElement.scrollTop,\n      scrollLeft: rootScrollingElement.scrollLeft\n    });\n  }\n\n  return scrollableElements;\n}\n\nfunction restoreScrollPosition(scrollableElements: ScrollableElement[]) {\n  for (let {element, scrollTop, scrollLeft} of scrollableElements) {\n    element.scrollTop = scrollTop;\n    element.scrollLeft = scrollLeft;\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport function getOffset(element, reverse, orientation = 'horizontal') {\n  let rect = element.getBoundingClientRect();\n  if (reverse) {\n    return orientation === 'horizontal' ? rect.right : rect.bottom;\n  }\n  return orientation === 'horizontal' ? rect.left : rect.top;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// We store a global list of elements that are currently transitioning,\n// mapped to a set of CSS properties that are transitioning for that element.\n// This is necessary rather than a simple count of transitions because of browser\n// bugs, e.g. Chrome sometimes fires both transitionend and transitioncancel rather\n// than one or the other. So we need to track what's actually transitioning so that\n// we can ignore these duplicate events.\nlet transitionsByElement = new Map<EventTarget, Set<string>>();\n\n// A list of callbacks to call once there are no transitioning elements.\nlet transitionCallbacks = new Set<() => void>();\n\nfunction setupGlobalEvents() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  let onTransitionStart = (e: TransitionEvent) => {\n    // Add the transitioning property to the list for this element.\n    let transitions = transitionsByElement.get(e.target);\n    if (!transitions) {\n      transitions = new Set();\n      transitionsByElement.set(e.target, transitions);\n\n      // The transitioncancel event must be registered on the element itself, rather than as a global\n      // event. This enables us to handle when the node is deleted from the document while it is transitioning.\n      // In that case, the cancel event would have nowhere to bubble to so we need to handle it directly.\n      e.target.addEventListener('transitioncancel', onTransitionEnd);\n    }\n\n    transitions.add(e.propertyName);\n  };\n\n  let onTransitionEnd = (e: TransitionEvent) => {\n    // Remove property from list of transitioning properties.\n    let properties = transitionsByElement.get(e.target);\n    if (!properties) {\n      return;\n    }\n\n    properties.delete(e.propertyName);\n\n    // If empty, remove transitioncancel event, and remove the element from the list of transitioning elements.\n    if (properties.size === 0) {\n      e.target.removeEventListener('transitioncancel', onTransitionEnd);\n      transitionsByElement.delete(e.target);\n    }\n\n    // If no transitioning elements, call all of the queued callbacks.\n    if (transitionsByElement.size === 0) {\n      for (let cb of transitionCallbacks) {\n        cb();\n      }\n\n      transitionCallbacks.clear();\n    }\n  };\n\n  document.body.addEventListener('transitionrun', onTransitionStart);\n  document.body.addEventListener('transitionend', onTransitionEnd);\n}\n\nif (typeof document !== 'undefined') {\n  if (document.readyState !== 'loading') {\n    setupGlobalEvents();\n  } else {\n    document.addEventListener('DOMContentLoaded', setupGlobalEvents);\n  }\n}\n\nexport function runAfterTransition(fn: () => void) {\n  // Wait one frame to see if an animation starts, e.g. a transition on mount.\n  requestAnimationFrame(() => {\n    // If no transitions are running, call the function immediately.\n    // Otherwise, add it to a list of callbacks to run at the end of the animation.\n    if (transitionsByElement.size === 0) {\n      fn();\n    } else {\n      transitionCallbacks.add(fn);\n    }\n  });\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {getOffset} from './getOffset';\nimport {Orientation} from '@react-types/shared';\nimport React, {HTMLAttributes, MutableRefObject, useRef} from 'react';\n\ninterface UseDrag1DProps {\n  containerRef: MutableRefObject<HTMLElement>,\n  reverse?: boolean,\n  orientation?: Orientation,\n  onHover?: (hovered: boolean) => void,\n  onDrag?: (dragging: boolean) => void,\n  onPositionChange?: (position: number) => void,\n  onIncrement?: () => void,\n  onDecrement?: () => void,\n  onIncrementToMax?: () => void,\n  onDecrementToMin?: () => void,\n  onCollapseToggle?: () => void\n}\n\n// Keep track of elements that we are currently handling dragging for via useDrag1D.\n// If there's an ancestor and a descendant both using useDrag1D(), and the user starts\n// dragging the descendant, we don't want useDrag1D events to fire for the ancestor.\nconst draggingElements: HTMLElement[] = [];\n\n// created for splitview, this should be reusable for things like sliders/dials\n// It also handles keyboard events on the target allowing for increment/decrement by a given stepsize as well as minifying/maximizing and toggling between minified and previous size\n// It can also take a 'reverse' param to say if we should measure from the right/bottom instead of the top/left\n// It can also handle either a vertical or horizontal movement, but not both at the same time\n\nexport function useDrag1D(props: UseDrag1DProps): HTMLAttributes<HTMLElement> {\n  console.warn('useDrag1D is deprecated, please use `useMove` instead https://react-spectrum.adobe.com/react-aria/useMove.html');\n  let {containerRef, reverse, orientation, onHover, onDrag, onPositionChange, onIncrement, onDecrement, onIncrementToMax, onDecrementToMin, onCollapseToggle} = props;\n  let getPosition = (e) => orientation === 'horizontal' ? e.clientX : e.clientY;\n  let getNextOffset = (e: MouseEvent) => {\n    let containerOffset = getOffset(containerRef.current, reverse, orientation);\n    let mouseOffset = getPosition(e);\n    let nextOffset = reverse ? containerOffset - mouseOffset : mouseOffset - containerOffset;\n    return nextOffset;\n  };\n  let dragging = useRef(false);\n  let prevPosition = useRef(0);\n\n  // Keep track of the current handlers in a ref so that the events can access them.\n  let handlers = useRef({onPositionChange, onDrag});\n  handlers.current.onDrag = onDrag;\n  handlers.current.onPositionChange = onPositionChange;\n\n  let onMouseDragged = (e: MouseEvent) => {\n    e.preventDefault();\n    let nextOffset = getNextOffset(e);\n    if (!dragging.current) {\n      dragging.current = true;\n      if (handlers.current.onDrag) {\n        handlers.current.onDrag(true);\n      }\n      if (handlers.current.onPositionChange) {\n        handlers.current.onPositionChange(nextOffset);\n      }\n    }\n    if (prevPosition.current === nextOffset) {\n      return;\n    }\n    prevPosition.current = nextOffset;\n    if (onPositionChange) {\n      onPositionChange(nextOffset);\n    }\n  };\n\n  let onMouseUp = (e: MouseEvent) => {\n    const target = e.target as HTMLElement;\n    dragging.current = false;\n    let nextOffset = getNextOffset(e);\n    if (handlers.current.onDrag) {\n      handlers.current.onDrag(false);\n    }\n    if (handlers.current.onPositionChange) {\n      handlers.current.onPositionChange(nextOffset);\n    }\n\n    draggingElements.splice(draggingElements.indexOf(target), 1);\n    window.removeEventListener('mouseup', onMouseUp, false);\n    window.removeEventListener('mousemove', onMouseDragged, false);\n  };\n\n  let onMouseDown = (e: React.MouseEvent<HTMLElement>) => {\n    const target = e.currentTarget;\n    // If we're already handling dragging on a descendant with useDrag1D, then\n    // we don't want to handle the drag motion on this target as well.\n    if (draggingElements.some(elt => target.contains(elt))) {\n      return;\n    }\n    draggingElements.push(target);\n    window.addEventListener('mousemove', onMouseDragged, false);\n    window.addEventListener('mouseup', onMouseUp, false);\n  };\n\n  let onMouseEnter = () => {\n    if (onHover) {\n      onHover(true);\n    }\n  };\n\n  let onMouseOut = () => {\n    if (onHover) {\n      onHover(false);\n    }\n  };\n\n  let onKeyDown = (e) => {\n    switch (e.key) {\n      case 'Left':\n      case 'ArrowLeft':\n        if (orientation === 'horizontal') {\n          e.preventDefault();\n          if (onDecrement && !reverse) {\n            onDecrement();\n          } else if (onIncrement && reverse) {\n            onIncrement();\n          }\n        }\n        break;\n      case 'Up':\n      case 'ArrowUp':\n        if (orientation === 'vertical') {\n          e.preventDefault();\n          if (onDecrement && !reverse) {\n            onDecrement();\n          } else if (onIncrement && reverse) {\n            onIncrement();\n          }\n        }\n        break;\n      case 'Right':\n      case 'ArrowRight':\n        if (orientation === 'horizontal') {\n          e.preventDefault();\n          if (onIncrement && !reverse) {\n            onIncrement();\n          } else if (onDecrement && reverse) {\n            onDecrement();\n          }\n        }\n        break;\n      case 'Down':\n      case 'ArrowDown':\n        if (orientation === 'vertical') {\n          e.preventDefault();\n          if (onIncrement && !reverse) {\n            onIncrement();\n          } else if (onDecrement && reverse) {\n            onDecrement();\n          }\n        }\n        break;\n      case 'Home':\n        e.preventDefault();\n        if (onDecrementToMin) {\n          onDecrementToMin();\n        }\n        break;\n      case 'End':\n        e.preventDefault();\n        if (onIncrementToMax) {\n          onIncrementToMax();\n        }\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (onCollapseToggle) {\n          onCollapseToggle();\n        }\n        break;\n    }\n  };\n\n  return {onMouseDown, onMouseEnter, onMouseOut, onKeyDown};\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useEffect, useRef} from 'react';\n\ninterface GlobalListeners {\n  addGlobalListener<K extends keyof DocumentEventMap>(el: EventTarget, type: K, listener: (this: Document, ev: DocumentEventMap[K]) => any, options?: boolean | AddEventListenerOptions): void,\n  addGlobalListener(el: EventTarget, type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void,\n  removeGlobalListener<K extends keyof DocumentEventMap>(el: EventTarget, type: K, listener: (this: Document, ev: DocumentEventMap[K]) => any, options?: boolean | EventListenerOptions): void,\n  removeGlobalListener(el: EventTarget, type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void,\n  removeAllGlobalListeners(): void\n}\n\nexport function useGlobalListeners(): GlobalListeners {\n  let globalListeners = useRef(new Map());\n  let addGlobalListener = useCallback((eventTarget, type, listener, options) => {\n    // Make sure we remove the listener after it is called with the `once` option.\n    let fn = options?.once ? (...args) => {\n      globalListeners.current.delete(listener);\n      listener(...args);\n    } : listener;\n    globalListeners.current.set(listener, {type, eventTarget, fn, options});\n    eventTarget.addEventListener(type, listener, options);\n  }, []);\n  let removeGlobalListener = useCallback((eventTarget, type, listener, options) => {\n    let fn = globalListeners.current.get(listener)?.fn || listener;\n    eventTarget.removeEventListener(type, fn, options);\n    globalListeners.current.delete(listener);\n  }, []);\n  let removeAllGlobalListeners = useCallback(() => {\n    globalListeners.current.forEach((value, key) => {\n      removeGlobalListener(value.eventTarget, value.type, key, value.options);\n    });\n  }, [removeGlobalListener]);\n\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return removeAllGlobalListeners;\n  }, [removeAllGlobalListeners]);\n\n  return {addGlobalListener, removeGlobalListener, removeAllGlobalListeners};\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMProps} from '@react-types/shared';\nimport {useId} from './useId';\n\n/**\n * Merges aria-label and aria-labelledby into aria-labelledby when both exist.\n * @param props - Aria label props.\n * @param defaultLabel - Default value for aria-label when not present.\n */\nexport function useLabels(props: DOMProps & AriaLabelingProps, defaultLabel?: string): DOMProps & AriaLabelingProps {\n  let {\n    id,\n    'aria-label': label,\n    'aria-labelledby': labelledBy\n  } = props;\n\n  // If there is both an aria-label and aria-labelledby,\n  // combine them by pointing to the element itself.\n  id = useId(id);\n  if (labelledBy && label) {\n    let ids = new Set([...labelledBy.trim().split(/\\s+/), id]);\n    labelledBy = [...ids].join(' ');\n  } else if (labelledBy) {\n    labelledBy = labelledBy.trim().split(/\\s+/).join(' ');\n  }\n\n  // If no labels are provided, use the default\n  if (!label && !labelledBy && defaultLabel) {\n    label = defaultLabel;\n  }\n\n  return {\n    id,\n    'aria-label': label,\n    'aria-labelledby': labelledBy\n  };\n}\n", "/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {MutableRefObject, useRef} from 'react';\nimport {useLayoutEffect} from './';\n\n/**\n * Offers an object ref for a given callback ref or an object ref. Especially\n * helfpul when passing forwarded refs (created using `React.forwardRef`) to\n * React Aria Hooks.\n *\n * @param forwardedRef The original ref intended to be used.\n * @returns An object ref that updates the given ref.\n * @see https://reactjs.org/docs/forwarding-refs.html\n */\nexport function useObjectRef<T>(forwardedRef?: ((instance: T | null) => void) | MutableRefObject<T | null> | null): MutableRefObject<T> {\n  const objRef = useRef<T>();\n\n  /**\n   * We're using `useLayoutEffect` here instead of `useEffect` because we want\n   * to make sure that the `ref` value is up to date before other places in the\n   * the execution cycle try to read it.\n   */\n  useLayoutEffect(() => {\n    if (!forwardedRef) {\n      return;\n    }\n\n    if (typeof forwardedRef === 'function') {\n      forwardedRef(objRef.current);\n    } else {\n      forwardedRef.current = objRef.current;\n    }\n  }, [forwardedRef]);\n\n  return objRef;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {EffectCallback, useEffect, useRef} from 'react';\n\n// Like useEffect, but only called for updates after the initial render.\nexport function useUpdateEffect(effect: EffectCallback, dependencies: any[]) {\n  const isInitialMount = useRef(true);\n\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      effect();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, dependencies);\n}\n", "import {RefObject, useEffect} from 'react';\n\nfunction hasResizeObserver() {\n  return typeof window.ResizeObserver !== 'undefined';\n}\n\ntype useResizeObserverOptionsType<T> = {\n  ref: RefObject<T | undefined>,\n  onResize: () => void\n}\n\nexport function useResizeObserver<T extends Element>(options: useResizeObserverOptionsType<T>) {\n  const {ref, onResize} = options;\n\n  useEffect(() => {\n    let element = ref?.current;\n    if (!element) {\n      return;\n    }\n\n    if (!hasResizeObserver()) {\n      window.addEventListener('resize', onResize, false);\n      return () => {\n        window.removeEventListener('resize', onResize, false);\n      };\n    } else {\n\n      const resizeObserverInstance = new window.ResizeObserver((entries) => {\n        if (!entries.length) {\n          return;\n        }\n\n        onResize();\n      });\n      resizeObserverInstance.observe(element);\n\n      return () => {\n        if (element) {\n          resizeObserverInstance.unobserve(element);\n        }\n      };\n    }\n\n  }, [onResize, ref]);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {MutableRefObject, RefObject} from 'react';\nimport {useLayoutEffect} from './';\n\ninterface ContextValue<T> {\n  ref?: MutableRefObject<T>\n}\n\n// Syncs ref from context with ref passed to hook\nexport function useSyncRef<T>(context: ContextValue<T>, ref: RefObject<T>) {\n  useLayoutEffect(() => {\n    if (context && context.ref && ref) {\n      context.ref.current = ref.current;\n      return () => {\n        context.ref.current = null;\n      };\n    }\n  }, [context, ref]);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport function getScrollParent(node: Element): Element {\n  while (node && !isScrollable(node)) {\n    node = node.parentElement;\n  }\n\n  return node || document.scrollingElement || document.documentElement;\n}\n\nfunction isScrollable(node: Element): boolean {\n  let style = window.getComputedStyle(node);\n  return /(auto|scroll)/.test(style.overflow + style.overflowX + style.overflowY);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useEffect, useState} from 'react';\n\ninterface ViewportSize {\n  width: number,\n  height: number\n}\n\n// @ts-ignore\nlet visualViewport = typeof window !== 'undefined' && window.visualViewport;\n\nexport function useViewportSize(): ViewportSize {\n  let [size, setSize] = useState(() => getViewportSize());\n\n  useEffect(() => {\n    // Use visualViewport api to track available height even on iOS virtual keyboard opening\n    let onResize = () => {\n      setSize(size => {\n        let newSize = getViewportSize();\n        if (newSize.width === size.width && newSize.height === size.height) {\n          return size;\n        }\n        return newSize;\n      });\n    };\n\n    if (!visualViewport) {\n      window.addEventListener('resize', onResize);\n    } else {\n      visualViewport.addEventListener('resize', onResize);\n    }\n\n    return () => {\n      if (!visualViewport) {\n        window.removeEventListener('resize', onResize);\n      } else {\n        visualViewport.removeEventListener('resize', onResize);\n      }\n    };\n  }, []);\n\n  return size;\n}\n\nfunction getViewportSize(): ViewportSize {\n  return {\n    width: visualViewport?.width || window.innerWidth,\n    height: visualViewport?.height || window.innerHeight\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps} from '@react-types/shared';\nimport {useLayoutEffect} from './useLayoutEffect';\nimport {useState} from 'react';\n\nlet descriptionId = 0;\nconst descriptionNodes = new Map<string, {refCount: number, element: Element}>();\n\nexport function useDescription(description: string): AriaLabelingProps {\n  let [id, setId] = useState(null);\n\n  useLayoutEffect(() => {\n    if (!description) {\n      return;\n    }\n\n    let desc = descriptionNodes.get(description);\n    if (!desc) {\n      let id = `react-aria-description-${descriptionId++}`;\n      setId(id);\n\n      let node = document.createElement('div');\n      node.id = id;\n      node.style.display = 'none';\n      node.textContent = description;\n      document.body.appendChild(node);\n      desc = {refCount: 0, element: node};\n      descriptionNodes.set(description, desc);\n    } else {\n      setId(desc.element.id);\n    }\n\n    desc.refCount++;\n    return () => {\n      if (--desc.refCount === 0) {\n        desc.element.remove();\n        descriptionNodes.delete(description);\n      }\n    };\n  }, [description]);\n\n  return {\n    'aria-describedby': description ? id : undefined\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nfunction testUserAgent(re: RegExp) {\n  if (typeof window === 'undefined' || window.navigator == null) {\n    return false;\n  }\n  return (\n    window.navigator['userAgentData']?.brands.some((brand: {brand: string, version: string}) => re.test(brand.brand))\n  ) ||\n  re.test(window.navigator.userAgent);\n}\n\nfunction testPlatform(re: RegExp) {\n  return typeof window !== 'undefined' && window.navigator != null\n    ? re.test(window.navigator['userAgentData']?.platform || window.navigator.platform)\n    : false;\n}\n\nexport function isMac() {\n  return testPlatform(/^Mac/i);\n}\n\nexport function isIPhone() {\n  return testPlatform(/^iPhone/i);\n}\n\nexport function isIPad() {\n  return testPlatform(/^iPad/i) ||\n    // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n    (isMac() && navigator.maxTouchPoints > 1);\n}\n\nexport function isIOS() {\n  return isIPhone() || isIPad();\n}\n\nexport function isAppleDevice() {\n  return isMac() || isIOS();\n}\n\nexport function isWebKit() {\n  return testUserAgent(/AppleWebKit/i) && !isChrome();\n}\n\nexport function isChrome() {\n  return testUserAgent(/Chrome/i);\n}\n\nexport function isAndroid() {\n  return testUserAgent(/Android/i);\n}\n", "/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {RefObject, useEffect, useRef} from 'react';\n\nexport function useEvent<K extends keyof GlobalEventHandlersEventMap>(\n  ref: RefObject<EventTarget>,\n  event: K,\n  handler: (this: Document, ev: GlobalEventHandlersEventMap[K]) => any,\n  options?: boolean | AddEventListenerOptions\n) {\n  let handlerRef = useRef(handler);\n  handlerRef.current = handler;\n\n  let isDisabled = handler == null;\n\n  useEffect(() => {\n    if (isDisabled) {\n      return;\n    }\n\n    let element = ref.current;\n    let handler = (e: GlobalEventHandlersEventMap[K]) => handlerRef.current.call(this, e);\n\n    element.addEventListener(event, handler, options);\n    return () => {\n      element.removeEventListener(event, handler, options);\n    };\n  }, [ref, event, options, isDisabled]);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Dispatch, useCallback, useRef, useState} from 'react';\nimport {useLayoutEffect} from './';\n\ntype SetValueAction<S> = (prev: S) => Generator<any, void, unknown>;\n\n// This hook works like `useState`, but when setting the value, you pass a generator function\n// that can yield multiple values. Each yielded value updates the state and waits for the next\n// layout effect, then continues the generator. This allows sequential updates to state to be\n// written linearly.\nexport function useValueEffect<S>(defaultValue: S | (() => S)): [S, Dispatch<SetValueAction<S>>] {\n  let [value, setValue] = useState(defaultValue);\n  let valueRef = useRef(value);\n  let effect = useRef(null);\n\n  valueRef.current = value;\n\n  // Store the function in a ref so we can always access the current version\n  // which has the proper `value` in scope.\n  let nextRef = useRef(null);\n  nextRef.current = () => {\n    // Run the generator to the next yield.\n    let newValue = effect.current.next();\n\n    // If the generator is done, reset the effect.\n    if (newValue.done) {\n      effect.current = null;\n      return;\n    }\n\n    // If the value is the same as the current value,\n    // then continue to the next yield. Otherwise,\n    // set the value in state and wait for the next layout effect.\n    if (value === newValue.value) {\n      nextRef.current();\n    } else {\n      setValue(newValue.value);\n    }\n  };\n\n  useLayoutEffect(() => {\n    // If there is an effect currently running, continue to the next yield.\n    if (effect.current) {\n      nextRef.current();\n    }\n  });\n\n  let queue = useCallback(fn => {\n    effect.current = fn(valueRef.current);\n    nextRef.current();\n  }, [effect, nextRef]);\n\n  return [value, queue];\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * Scrolls `scrollView` so that `element` is visible.\n * Similar to `element.scrollIntoView({block: 'nearest'})` (not supported in Edge),\n * but doesn't affect parents above `scrollView`.\n */\nexport function scrollIntoView(scrollView: HTMLElement, element: HTMLElement) {\n  let offsetX = relativeOffset(scrollView, element, 'left');\n  let offsetY = relativeOffset(scrollView, element, 'top');\n  let width = element.offsetWidth;\n  let height = element.offsetHeight;\n  let x = scrollView.scrollLeft;\n  let y = scrollView.scrollTop;\n  let maxX = x + scrollView.offsetWidth;\n  let maxY = y + scrollView.offsetHeight;\n\n  if (offsetX <= x) {\n    x = offsetX;\n  } else if (offsetX + width > maxX) {\n    x += offsetX + width - maxX;\n  }\n  if (offsetY <= y) {\n    y = offsetY;\n  } else if (offsetY + height > maxY) {\n    y += offsetY + height - maxY;\n  }\n\n  scrollView.scrollLeft = x;\n  scrollView.scrollTop = y;\n}\n\n/**\n * Computes the offset left or top from child to ancestor by accumulating\n * offsetLeft or offsetTop through intervening offsetParents.\n */\nfunction relativeOffset(ancestor: HTMLElement, child: HTMLElement, axis: 'left'|'top') {\n  const prop = axis === 'left' ? 'offsetLeft' : 'offsetTop';\n  let sum = 0;\n  while (child.offsetParent) {\n    sum += child[prop];\n    if (child.offsetParent === ancestor) {\n      // Stop once we have found the ancestor we are interested in.\n      break;\n    } else if (child.offsetParent.contains(ancestor)) {\n      // If the ancestor is not `position:relative`, then we stop at\n      // _its_ offset parent, and we subtract off _its_ offset, so that\n      // we end up with the proper offset from child to ancestor.\n      sum -= ancestor[prop];\n      break;\n    }\n    child = child.offsetParent as HTMLElement;\n  }\n  return sum;\n}\n", "import { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\nimport { useDateFormatter } from \"@react-aria/i18n\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { CALENDAR_HEADER_KEYS } from \"./__keys\";\nimport { CalendarStateReturn } from \"./CalendarState\";\n\nexport const useCalendarHeader = createHook<\n  CalendarHeaderOptions,\n  CalendarHeaderHTMLProps\n>({\n  name: \"CalendarHeader\",\n  compose: useRole,\n  keys: CALENDAR_HEADER_KEYS,\n\n  useProps(\n    { format = { month: \"long\", year: \"numeric\" }, currentMonth, calendarId },\n    htmlProps,\n  ) {\n    return {\n      id: calendarId,\n      children: useDateFormatter(format).format(currentMonth),\n      \"aria-live\": \"polite\",\n      ...htmlProps,\n    };\n  },\n});\n\nexport const CalendarHeader = createComponent({\n  as: \"h2\",\n  memo: true,\n  useHook: useCalendarHeader,\n});\n\nexport type CalendarHeaderOptions = RoleOptions &\n  Pick<CalendarStateReturn, \"calendarId\" | \"currentMonth\"> & {\n    format?: Intl.DateTimeFormatOptions;\n  };\n\nexport type CalendarHeaderHTMLProps = RoleHTMLProps;\n\nexport type CalendarHeaderProps = CalendarHeaderOptions &\n  CalendarHeaderHTMLProps;\n", "/**\n * All credit goes to [React Spectrum](https://github.com/adobe/react-spectrum)\n * We improved the Calendar from Stately [useCalendarState](https://github.com/adobe/react-spectrum/tree/main/packages/%40react-stately/calendar)\n * to work with Reakit System\n */\n\nimport * as React from \"react\";\nimport { unstable_useId as useId } from \"reakit\";\nimport { useUpdateEffect } from \"@chakra-ui/hooks\";\nimport { useDateFormatter } from \"@react-aria/i18n\";\nimport { InputBase } from \"@react-types/shared\";\n\nimport {\n  addDays,\n  addMonths,\n  addWeeks,\n  addYears,\n  endOfMonth,\n  getDaysInMonth,\n  isSameMonth,\n  startOfDay,\n  startOfMonth,\n  subDays,\n  subMonths,\n  subWeeks,\n  subYears,\n  toUTCString,\n  useControllableState,\n} from \"../utils\";\nimport { announce } from \"../utils/LiveAnnouncer\";\n\nimport { generateDaysInMonthArray, useWeekDays, useWeekStart } from \"./helpers\";\n\nexport function useCalendarState(\n  props: CalendarInitialState = {},\n): CalendarStateReturn {\n  const {\n    value: initialValue,\n    defaultValue = toUTCString(new Date()),\n    onChange,\n    minValue,\n    maxValue,\n    isDisabled = false,\n    isReadOnly = false,\n    autoFocus = false,\n  } = props;\n\n  const [value, setValue] = useControllableState({\n    value: initialValue,\n    defaultValue,\n    onChange,\n  });\n\n  const date = React.useMemo(() => new Date(value), [value]);\n  const minDateValue = React.useMemo(\n    () => (minValue ? new Date(minValue) : new Date(-864e13)),\n    [minValue],\n  );\n  const maxDateValue = React.useMemo(\n    () => (maxValue ? new Date(maxValue) : new Date(864e13)),\n    [maxValue],\n  );\n  const [currentMonth, setCurrentMonth] = React.useState(date);\n  const [focusedDate, setFocusedDate] = React.useState(date);\n  const [isFocused, setFocused] = React.useState(autoFocus);\n  const month = currentMonth.getMonth();\n  const year = currentMonth.getFullYear();\n  const weekStart = useWeekStart();\n  const weekDays = useWeekDays(weekStart);\n\n  let monthStartsAt = (startOfMonth(currentMonth).getDay() - weekStart) % 7;\n  if (monthStartsAt < 0) {\n    monthStartsAt += 7;\n  }\n\n  const days = getDaysInMonth(currentMonth);\n  const weeksInMonth = Math.ceil((monthStartsAt + days) / 7);\n\n  // Get 2D Date arrays in 7 days a week format\n  const daysInMonth = React.useMemo(\n    () => generateDaysInMonthArray(month, monthStartsAt, weeksInMonth, year),\n    [month, monthStartsAt, weeksInMonth, year],\n  );\n\n  function isInvalidDateRange(value: Date) {\n    const min = new Date(minDateValue);\n    const max = new Date(maxDateValue);\n\n    return value < min || value > max;\n  }\n\n  // Sets focus to a specific cell date\n  function focusCell(date: Date) {\n    if (isInvalidDateRange(date)) return;\n\n    if (!isSameMonth(date, currentMonth)) {\n      setCurrentMonth(startOfMonth(date));\n    }\n\n    setFocusedDate(date);\n  }\n\n  const dateFormatter = useDateFormatter({ dateStyle: \"full\" });\n\n  const announceSelectedDate = React.useCallback(\n    (value: Date) => {\n      if (!value) return;\n\n      announce(`Selected Date: ${dateFormatter.format(value)}`);\n    },\n    [dateFormatter],\n  );\n\n  const setDate = React.useCallback(\n    (value: Date) => {\n      if (!isDisabled && !isReadOnly) {\n        setValue(toUTCString(value));\n        announceSelectedDate(value);\n      }\n    },\n    [announceSelectedDate, isDisabled, isReadOnly, setValue],\n  );\n\n  // TODO\n  // This runs only once when the component is mounted\n  // Controlled state doesn't change the claender position\n  // React.useEffect(() => {\n  // const clampedDate = clamp(date, {\n  //   start: minDateValue,\n  //   end: maxDateValue,\n  // });\n  // setDate(clampedDate);\n  // setCurrentMonth(clampedDate);\n  // setFocusedDate(clampedDate);\n  // }, [date, maxDateValue, minDateValue, setDate]);\n\n  const monthFormatter = useDateFormatter({ month: \"long\", year: \"numeric\" });\n\n  // Announce when the current month changes\n  useUpdateEffect(() => {\n    // announce the new month with a change from the Previous or Next button\n    if (!isFocused) {\n      announce(monthFormatter.format(currentMonth));\n    }\n    // handle an update to the current month from the Previous or Next button\n    // rather than move focus, we announce the new month value\n  }, [currentMonth]);\n\n  const { id: calendarId } = useId({ id: props.id, baseId: \"calendar\" });\n\n  return {\n    dateValue: date,\n    setDateValue: setDate,\n    calendarId,\n    month,\n    year,\n    weekStart,\n    weekDays,\n    daysInMonth,\n    isDisabled,\n    isFocused,\n    isReadOnly,\n    setFocused,\n    currentMonth,\n    setCurrentMonth,\n    focusedDate,\n    focusCell,\n    setFocusedDate,\n    focusNextDay() {\n      focusCell(addDays(focusedDate, 1));\n    },\n    focusPreviousDay() {\n      focusCell(subDays(focusedDate, 1));\n    },\n    focusNextWeek() {\n      focusCell(addWeeks(focusedDate, 1));\n    },\n    focusPreviousWeek() {\n      focusCell(subWeeks(focusedDate, 1));\n    },\n    focusNextMonth() {\n      focusCell(addMonths(focusedDate, 1));\n    },\n    focusPreviousMonth() {\n      focusCell(subMonths(focusedDate, 1));\n    },\n    focusStartOfMonth() {\n      focusCell(startOfMonth(focusedDate));\n    },\n    focusEndOfMonth() {\n      focusCell(endOfMonth(startOfDay(focusedDate)));\n    },\n    focusNextYear() {\n      focusCell(addYears(focusedDate, 1));\n    },\n    focusPreviousYear() {\n      focusCell(subYears(focusedDate, 1));\n    },\n    selectFocusedDate() {\n      setDate(focusedDate);\n    },\n    selectDate(date: Date) {\n      setDate(date);\n    },\n    isInvalidDateRange,\n    isRangeCalendar: false,\n  };\n}\n\nexport type CalendarState = {\n  /**\n   * Id for the Calendar Header\n   */\n  calendarId: string | undefined;\n  /**\n   * Selected Date value\n   */\n  dateValue: Date;\n  /**\n   * Month of the current date value\n   */\n  month: number;\n  /**\n   * Year of the current date value\n   */\n  year: number;\n  /**\n   * Start of the week for the current date value\n   */\n  weekStart: number;\n  /**\n   * Generated week days for CalendarWeekTitle based on weekStart\n   */\n  weekDays: {\n    title: string;\n    abbr: string;\n  }[];\n  /**\n   * Generated days in the current month\n   */\n  daysInMonth: Date[][];\n  /**\n   * `true` if the calendar is disabled\n   */\n  isDisabled: boolean;\n  /**\n   * `true` if the calendar is focused\n   */\n  isFocused: boolean;\n  /**\n   * `true` if the calendar is only readonly\n   */\n  isReadOnly: boolean;\n  /**\n   * Month of the current Date\n   */\n  currentMonth: Date;\n  /**\n   * Date value that is currently focused\n   */\n  focusedDate: Date;\n  /**\n   * Informs if the given date is within the min & max date.\n   */\n  isInvalidDateRange: (value: Date) => boolean;\n  /**\n   * `true` if the calendar is used as RangeCalendar\n   */\n  isRangeCalendar: boolean;\n};\n\nexport type CalendarActions = {\n  /**\n   * Sets `isFocused`\n   */\n  setFocused: React.Dispatch<React.SetStateAction<boolean>>;\n  /**\n   * Sets `currentMonth`\n   */\n  setCurrentMonth: React.Dispatch<React.SetStateAction<Date>>;\n  /**\n   *  Sets `focusedDate`\n   */\n  setFocusedDate: React.Dispatch<React.SetStateAction<Date>>;\n  /**\n   * Sets `dateValue`\n   */\n  setDateValue: (value: Date) => void;\n  /**\n   * Focus the cell of the specified date\n   */\n  focusCell: (value: Date) => void;\n  /**\n   * Focus the cell next to the current date\n   */\n  focusNextDay: () => void;\n  /**\n   * Focus the cell prev to the current date\n   */\n  focusPreviousDay: () => void;\n  /**\n   * Focus the cell one week next to the current date\n   */\n  focusNextWeek: () => void;\n  /**\n   * Focus the cell one week prev to the current date\n   */\n  focusPreviousWeek: () => void;\n  /**\n   * Focus the cell one month next to the current date\n   */\n  focusNextMonth: () => void;\n  /**\n   * Focus the cell one month prev to the current date\n   */\n  focusPreviousMonth: () => void;\n  /**\n   * Focus the cell of the first day of the month\n   */\n  focusStartOfMonth: () => void;\n  /**\n   * Focus the cell of the last day of the month\n   */\n  focusEndOfMonth: () => void;\n  /**\n   * Focus the cell of the date one year from the current date\n   */\n  focusNextYear: () => void;\n  /**\n   * Focus the cell of the date one year before the current date\n   */\n  focusPreviousYear: () => void;\n  /**\n   * Selects the `focusedDate`\n   */\n  selectFocusedDate: () => void;\n  /**\n   * sets `dateValue`\n   */\n  selectDate: (value: Date) => void;\n};\n\ntype ValueBase = {\n  /** The current date (controlled). */\n  value?: string;\n  /** The default date (uncontrolled). */\n  defaultValue?: string;\n  /** Handler that is called when the date changes. */\n  onChange?: (value: string) => void;\n};\n\ntype RangeValueMinMax = {\n  /** The lowest date allowed. */\n  minValue?: string;\n  /** The highest date allowed. */\n  maxValue?: string;\n};\n\nexport type CalendarInitialState = ValueBase &\n  RangeValueMinMax &\n  InputBase & {\n    /**\n     * Whether the element should receive focus on render.\n     */\n    autoFocus?: boolean;\n    /**\n     * Id for the calendar grid\n     */\n    id?: string;\n  };\n\nexport type CalendarStateReturn = CalendarState & CalendarActions;\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport React, { Fragment, useImperativeHandle, useRef, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { VisuallyHidden } from \"reakit\";\n\n/* Inspired by https://github.com/AlmeroSteyn/react-aria-live */\nconst liveRegionAnnouncer = React.createRef();\nlet node: any = null;\nlet clearTimeoutId: any = null;\nconst LIVEREGION_TIMEOUT_DELAY = 1000;\n\ntype TAriaLive = \"assertive\" | \"off\" | \"polite\" | undefined;\n\n/**\n * Announces the message using screen reader technology.\n */\nexport function announce(\n  message: string,\n  assertiveness: TAriaLive = \"assertive\",\n  timeout = LIVEREGION_TIMEOUT_DELAY,\n) {\n  ensureInstance(announcer =>\n    announcer.announce(message, assertiveness, timeout),\n  );\n}\n\n/**\n * Stops all queued announcements.\n */\nexport function clearAnnouncer(assertiveness: TAriaLive) {\n  ensureInstance(announcer => announcer.clear(assertiveness));\n}\n\n/**\n * Removes the announcer from the DOM.\n */\nexport function destroyAnnouncer() {\n  if (liveRegionAnnouncer.current) {\n    ReactDOM.unmountComponentAtNode(node);\n    document.body.removeChild(node);\n    node = null;\n  }\n}\n\n/**\n * Ensures we only have one instance of the announcer so that we don't have elements competing.\n */\nfunction ensureInstance(callback: (announcer: any) => void) {\n  if (!liveRegionAnnouncer.current) {\n    node = document.createElement(\"div\");\n    document.body.appendChild(node);\n    ReactDOM.render(\n      <LiveRegionAnnouncer ref={liveRegionAnnouncer} />,\n      node,\n      () => callback(liveRegionAnnouncer.current),\n    );\n  } else {\n    callback(liveRegionAnnouncer.current);\n  }\n}\n\nexport const LiveRegionAnnouncer = React.forwardRef((props, ref) => {\n  const [assertiveMessage, setAssertiveMessage] = useState(\"\");\n  const [politeMessage, setPoliteMessage] = useState(\"\");\n\n  const clear = (assertiveness: TAriaLive) => {\n    if (!assertiveness || assertiveness === \"assertive\") {\n      setAssertiveMessage(\"\");\n    }\n\n    if (!assertiveness || assertiveness === \"polite\") {\n      setPoliteMessage(\"\");\n    }\n  };\n\n  const announce = (\n    message: string,\n    assertiveness: TAriaLive = \"assertive\",\n    timeout = LIVEREGION_TIMEOUT_DELAY,\n  ) => {\n    if (clearTimeoutId) {\n      clearTimeout(clearTimeoutId);\n      clearTimeoutId = null;\n    }\n\n    if (assertiveness === \"assertive\") {\n      setAssertiveMessage(message);\n    } else {\n      setPoliteMessage(message);\n    }\n\n    if (message !== \"\") {\n      clearTimeoutId = setTimeout(() => {\n        clear(assertiveness);\n      }, timeout);\n    }\n  };\n\n  useImperativeHandle(ref, () => ({\n    announce,\n    clear,\n  }));\n\n  return (\n    <Fragment>\n      <MessageAlternator aria-live=\"assertive\" message={assertiveMessage} />\n      <MessageAlternator aria-live=\"polite\" message={politeMessage} />\n    </Fragment>\n  );\n});\n\nfunction MessageAlternator({\n  message = \"\",\n  \"aria-live\": ariaLive,\n}: {\n  message: string;\n  \"aria-live\": TAriaLive;\n}) {\n  const messagesRef = useRef([\"\", \"\"]);\n  const indexRef = useRef(0);\n\n  if (message !== messagesRef.current[indexRef.current]) {\n    messagesRef.current[indexRef.current] = \"\";\n    indexRef.current = (indexRef.current + 1) % 2;\n    messagesRef.current[indexRef.current] = message;\n  }\n\n  return (\n    <Fragment>\n      <MessageBlock aria-live={ariaLive} message={messagesRef.current[0]} />\n      <MessageBlock aria-live={ariaLive} message={messagesRef.current[1]} />\n    </Fragment>\n  );\n}\n\nfunction MessageBlock({\n  message = \"\",\n  \"aria-live\": ariaLive,\n}: {\n  message: string;\n  \"aria-live\": TAriaLive;\n}) {\n  return (\n    <VisuallyHidden\n      data-testid={`announcer-${ariaLive}`}\n      aria-live={ariaLive}\n      aria-relevant=\"additions\"\n      aria-atomic=\"true\"\n    >\n      {message}\n    </VisuallyHidden>\n  );\n}\n", "/**\n * All credit goes to [React Spectrum](https://github.com/adobe/react-spectrum)\n * We improved the Calendar from Stately [useWeekStart](https://github.com/adobe/react-spectrum/blob/main/packages/%40react-stately/calendar/src/useWeekStart.ts)\n * to work with Reakit System\n */\nimport { useLocale } from \"@react-aria/i18n\";\n\n// Data from https://github.com/unicode-cldr/cldr-core/blob/master/supplemental/weekData.json\n// Locales starting on Sunday have been removed for compression.\nconst data: Record<string, number> = {\n  \"001\": 1,\n  AD: 1,\n  AE: 6,\n  AF: 6,\n  AI: 1,\n  AL: 1,\n  AM: 1,\n  AN: 1,\n  AT: 1,\n  AX: 1,\n  AZ: 1,\n  BA: 1,\n  BE: 1,\n  BG: 1,\n  BH: 6,\n  BM: 1,\n  BN: 1,\n  BY: 1,\n  CH: 1,\n  CL: 1,\n  CM: 1,\n  CR: 1,\n  CY: 1,\n  CZ: 1,\n  DE: 1,\n  DJ: 6,\n  DK: 1,\n  DZ: 6,\n  EC: 1,\n  EE: 1,\n  EG: 6,\n  ES: 1,\n  FI: 1,\n  FJ: 1,\n  FO: 1,\n  FR: 1,\n  GB: 1,\n  GE: 1,\n  GF: 1,\n  GP: 1,\n  GR: 1,\n  HR: 1,\n  HU: 1,\n  IE: 1,\n  IQ: 6,\n  IR: 6,\n  IS: 1,\n  IT: 1,\n  JO: 6,\n  KG: 1,\n  KW: 6,\n  KZ: 1,\n  LB: 1,\n  LI: 1,\n  LK: 1,\n  LT: 1,\n  LU: 1,\n  LV: 1,\n  LY: 6,\n  MC: 1,\n  MD: 1,\n  ME: 1,\n  MK: 1,\n  MN: 1,\n  MQ: 1,\n  MV: 5,\n  MY: 1,\n  NL: 1,\n  NO: 1,\n  NZ: 1,\n  OM: 6,\n  PL: 1,\n  QA: 6,\n  RE: 1,\n  RO: 1,\n  RS: 1,\n  RU: 1,\n  SD: 6,\n  SE: 1,\n  SI: 1,\n  SK: 1,\n  SM: 1,\n  SY: 6,\n  TJ: 1,\n  TM: 1,\n  TR: 1,\n  UA: 1,\n  UY: 1,\n  UZ: 1,\n  VA: 1,\n  VN: 1,\n  XK: 1,\n};\n\nexport function useWeekStart() {\n  const region = useRegion();\n  return data[region] || 0;\n}\n\nfunction useRegion(): string {\n  const { locale } = useLocale();\n\n  // If the Intl.Locale API is available, use it to get the region for the locale.\n  // @ts-ignore\n  if (Intl.Locale) {\n    // @ts-ignore\n    return new Intl.Locale(locale).maximize().region;\n  }\n\n  // If not, just try splitting the string.\n  return locale.split(\"-\")[1];\n}\n", "/**\n * All credit goes to [React Spectrum](https://github.com/adobe/react-spectrum)\n * for these utils inspiration\n */\nimport { useDateFormatter } from \"@react-aria/i18n\";\nimport { RangeValue } from \"@react-types/shared\";\n\nimport { setDay, toUTCString } from \"../../utils\";\n\nexport function useWeekDays(weekStart: number) {\n  const dayFormatter = useDateFormatter({ weekday: \"short\" });\n  const dayFormatterLong = useDateFormatter({ weekday: \"long\" });\n\n  return [0, 1, 2, 3, 4, 5, 6].map(index => {\n    const dateDay = setDay(Date.now(), (index + weekStart) % 7);\n\n    const day = dayFormatter.format(dateDay);\n    const dayLong = dayFormatterLong.format(dateDay);\n    return { title: dayLong, abbr: day } as const;\n  });\n}\n\nexport function generateDaysInMonthArray(\n  month: number,\n  monthStartsAt: number,\n  weeksInMonth: number,\n  year: number,\n) {\n  return Array(weeksInMonth)\n    .fill(1)\n    .reduce((weeks: Date[][], _, weekIndex) => {\n      const daysInWeek = [0, 1, 2, 3, 4, 5, 6].reduce(\n        (days: Date[], dayIndex) => {\n          const day = weekIndex * 7 + dayIndex - monthStartsAt + 2;\n          const utcDate = toUTCString(new Date(year, month, day));\n          const cellDate = new Date(utcDate);\n\n          return [...days, cellDate];\n        },\n        [],\n      );\n\n      return [...weeks, daysInWeek];\n    }, []);\n}\n\nexport function makeRange(start: Date, end: Date): RangeValue<Date> {\n  if (end < start) {\n    [start, end] = [end, start];\n  }\n\n  return { start, end };\n}\n\nexport * from \"./useWeekStart\";\n", "import { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { CALENDAR_WEEK_TITLE_KEYS } from \"./__keys\";\nimport { CalendarStateReturn } from \"./CalendarState\";\n\nexport const useCalendarWeekTitle = createHook<\n  CalendarWeekTitleOptions,\n  CalendarWeekTitleHTMLProps\n>({\n  name: \"CalendarWeekTitle\",\n  compose: useRole,\n  keys: CALENDAR_WEEK_TITLE_KEYS,\n\n  useProps({ dayIndex, weekDays }, htmlProps) {\n    return {\n      \"aria-label\": weekDays[dayIndex]?.title,\n      ...htmlProps,\n    };\n  },\n});\n\nexport const CalendarWeekTitle = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useCalendarWeekTitle,\n});\n\nexport type CalendarWeekTitleOptions = RoleOptions &\n  Pick<CalendarStateReturn, \"weekDays\"> & {\n    dayIndex: number;\n  };\n\nexport type CalendarWeekTitleHTMLProps = RoleHTMLProps;\n\nexport type CalendarWeekTitleProps = CalendarWeekTitleOptions &\n  CalendarWeekTitleHTMLProps;\n", "/**\n * All credit goes to [React Spectrum](https://github.com/adobe/react-spectrum)\n * We improved the Calendar from Stately [useRangeCalendar](https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/calendar/src/useRangeCalendar.ts)\n * to work with Reakit System\n */\nimport * as React from \"react\";\nimport { useDateFormatter } from \"@react-aria/i18n\";\nimport { InputBase, RangeValue } from \"@react-types/shared\";\n\nimport {\n  addDays,\n  isSameDay,\n  toUTCRangeString,\n  toUTCString,\n  useControllableState,\n} from \"../utils\";\nimport { announce } from \"../utils/LiveAnnouncer\";\n\nimport {\n  CalendarActions,\n  CalendarState,\n  useCalendarState,\n} from \"./CalendarState\";\nimport { makeRange } from \"./helpers\";\n\nexport function useRangeCalendarState(\n  props: RangeCalendarInitialState = {},\n): RangeCalendarStateReturn {\n  const {\n    value: initialValue,\n    defaultValue = {\n      start: toUTCString(new Date()),\n      end: toUTCString(addDays(new Date(), 1)),\n    },\n    onChange,\n    ...calendarProps\n  } = props;\n\n  const [value, setValue] = useControllableState({\n    value: initialValue,\n    defaultValue,\n    onChange,\n  });\n\n  const dateRange: RangeValue<Date> = React.useMemo(\n    () => ({\n      start: new Date(value.start),\n      end: new Date(value.end),\n    }),\n    [value.end, value.start],\n  );\n  const [anchorDate, setAnchorDate] = React.useState<Date | null>(null);\n  const [lastSelectedDate, setLastSelectedDate] = React.useState<Date>(\n    dateRange.end,\n  );\n  const calendar = useCalendarState({\n    ...calendarProps,\n    value: toUTCString(lastSelectedDate),\n  });\n\n  const highlightedRange = anchorDate\n    ? makeRange(anchorDate, calendar.focusedDate)\n    : value && dateRange && makeRange(dateRange.start, dateRange.end);\n\n  const dateFormatter = useDateFormatter({ dateStyle: \"full\" });\n\n  const announceRange = React.useCallback(() => {\n    if (!highlightedRange) return;\n\n    if (isSameDay(highlightedRange.start, highlightedRange.end)) {\n      announce(\n        `Selected range, from ${dateFormatter.format(\n          highlightedRange.start,\n        )} to ${dateFormatter.format(highlightedRange.start)}`,\n      );\n    } else {\n      announce(\n        `Selected range from ${dateFormatter.format(\n          highlightedRange.start,\n        )} to ${dateFormatter.format(highlightedRange.start)}`,\n      );\n    }\n  }, [dateFormatter, highlightedRange]);\n\n  const selectDate = React.useCallback(\n    (date: Date) => {\n      if (props.isReadOnly) return;\n\n      setLastSelectedDate(date);\n      if (!anchorDate) {\n        setAnchorDate(date);\n        announce(`Starting range from ${dateFormatter.format(date)}`);\n      } else {\n        setValue(toUTCRangeString(makeRange(anchorDate, date)));\n        announceRange();\n        setAnchorDate(null);\n      }\n    },\n    [anchorDate, announceRange, dateFormatter, props.isReadOnly, setValue],\n  );\n\n  const setDateValue = React.useCallback(\n    (value: RangeValue<Date>) => {\n      setValue(toUTCRangeString(value));\n    },\n    [setValue],\n  );\n\n  return {\n    ...calendar,\n    dateRangeValue: dateRange,\n    setDateRangeValue: setDateValue,\n    anchorDate,\n    setAnchorDate,\n    highlightedRange,\n    selectDate,\n    selectFocusedDate() {\n      selectDate(calendar.focusedDate);\n    },\n    highlightDate(date: Date) {\n      if (!anchorDate) return;\n      calendar.setFocusedDate(date);\n    },\n    isRangeCalendar: true,\n  };\n}\n\nexport type RangeCalendarState = CalendarState & {\n  dateRangeValue: RangeValue<Date> | null;\n  anchorDate: Date | null;\n  highlightedRange: RangeValue<Date> | null;\n  isRangeCalendar: boolean;\n};\n\nexport type RangeCalendarActions = CalendarActions & {\n  setDateRangeValue: (value: RangeValue<Date>) => void;\n  setAnchorDate: React.Dispatch<React.SetStateAction<Date | null>>;\n  selectDate: (date: Date) => void;\n  selectFocusedDate: () => void;\n  highlightDate: (date: Date) => void;\n};\n\ntype Range = {\n  /** The start value of the range. */\n  start: string;\n  /** The end value of the range. */\n  end: string;\n};\n\ntype RangeValueBase = {\n  /** The current value (controlled). */\n  value?: Range;\n  /** The default value (uncontrolled). */\n  defaultValue?: Range;\n  /** Handler that is called when the value changes. */\n  onChange?: (value: Range) => void;\n};\n\ntype RangeValueMinMax = {\n  /** The smallest value allowed. */\n  minValue?: string;\n  /** The largest value allowed. */\n  maxValue?: string;\n};\n\nexport type RangeCalendarInitialState = RangeValueBase &\n  RangeValueMinMax &\n  InputBase & {\n    /**\n     * Whether the element should receive focus on render.\n     */\n    autoFocus?: boolean;\n    /**\n     * Id for the calendar grid\n     */\n    id?: string;\n  };\n\nexport type RangeCalendarStateReturn = RangeCalendarState &\n  RangeCalendarActions;\n", "// Automatically generated\nexport const USE_CHECKBOX_STATE_KEYS = [\n  \"defaultState\",\n  \"state\",\n  \"onStateChange\",\n] as const;\nexport const CHECKBOX_STATE_KEYS = [\"state\", \"setState\"] as const;\nexport const CHECKBOX_KEYS = [\n  ...CHECKBOX_STATE_KEYS,\n  \"value\",\n  \"checked\",\n] as const;\n", "import * as React from \"react\";\nimport { ClickableHTMLProps, ClickableOptions, useClickable } from \"reakit\";\nimport { removeIndexFromArray, useForkRef, useLiveRef } from \"reakit-utils\";\nimport { warning } from \"reakit-warning\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { CHECKBOX_KEYS } from \"./__keys\";\nimport { CheckboxStateReturn } from \"./CheckboxState\";\nimport { fireChange, getChecked, useIndeterminateState } from \"./helpers\";\n\nexport type CheckboxOptions = ClickableOptions &\n  Pick<Partial<CheckboxStateReturn>, \"state\" | \"setState\"> & {\n    /**\n     * Checkbox's value is going to be used when multiple checkboxes share the\n     * same state. Checking a checkbox with value will add it to the state\n     * array.\n     */\n    value?: string | number;\n\n    /**\n     * Checkbox's checked state. If present, it's used instead of `state`.\n     */\n    checked?: boolean;\n  };\n\nexport type CheckboxHTMLProps = ClickableHTMLProps &\n  React.InputHTMLAttributes<any> & {\n    value?: string | number;\n  };\n\nexport type CheckboxProps = CheckboxOptions & CheckboxHTMLProps;\n\nexport const useCheckbox = createHook<CheckboxOptions, CheckboxHTMLProps>({\n  name: \"Checkbox\",\n  compose: useClickable,\n  keys: CHECKBOX_KEYS,\n\n  useOptions(options, htmlProps) {\n    const { unstable_clickOnEnter = false, ...restOptions } = options;\n    const { value, checked } = htmlProps;\n\n    return {\n      unstable_clickOnEnter,\n      value,\n      checked: getChecked({ checked, ...options }),\n      ...restOptions,\n    };\n  },\n\n  useProps(options, htmlProps) {\n    const { state, setState, value, checked, disabled } = options;\n    const {\n      ref: htmlRef,\n      onChange: htmlOnChange,\n      onClick: htmlOnClick,\n      ...restHtmlProps\n    } = htmlProps;\n    const ref = React.useRef<HTMLInputElement>(null);\n    const [isNativeCheckbox, setIsNativeCheckbox] = React.useState(true);\n    const onChangeRef = useLiveRef(htmlOnChange);\n    const onClickRef = useLiveRef(htmlOnClick);\n\n    React.useEffect(() => {\n      const element = ref.current;\n\n      if (!element) {\n        warning(\n          true,\n          \"Can't determine whether the element is a native checkbox because `ref` wasn't passed to the component\",\n        );\n        return;\n      }\n\n      if (element.tagName !== \"INPUT\" || element.type !== \"checkbox\") {\n        setIsNativeCheckbox(false);\n      }\n    }, []);\n\n    useIndeterminateState(ref, options);\n\n    const onChange = React.useCallback(\n      (event: React.ChangeEvent<HTMLInputElement>) => {\n        const element = event.currentTarget;\n\n        if (disabled) {\n          event.stopPropagation();\n          event.preventDefault();\n\n          return;\n        }\n\n        if (onChangeRef.current) {\n          // If component is NOT rendered as a native input, it will not have\n          // the `checked` property. So we assign it for consistency.\n          if (!isNativeCheckbox) {\n            element.checked = !element.checked;\n          }\n\n          onChangeRef.current(event);\n        }\n\n        if (!setState) return;\n\n        if (typeof value === \"undefined\") {\n          setState(!checked);\n        } else {\n          const stateProp = Array.isArray(state) ? state : [];\n          const index = stateProp.indexOf(value);\n\n          if (index === -1) {\n            setState([...stateProp, value]);\n          } else {\n            setState(removeIndexFromArray(stateProp, index));\n          }\n        }\n      },\n      [\n        disabled,\n        onChangeRef,\n        setState,\n        value,\n        isNativeCheckbox,\n        checked,\n        state,\n      ],\n    );\n\n    const onClick = React.useCallback(\n      (event: React.MouseEvent<HTMLElement, MouseEvent>) => {\n        onClickRef.current?.(event);\n\n        if (event.defaultPrevented) return;\n\n        if (isNativeCheckbox) return;\n\n        fireChange(event.currentTarget, onChange);\n      },\n      [isNativeCheckbox, onChange, onClickRef],\n    );\n\n    return {\n      ref: useForkRef(ref, htmlRef),\n      role: !isNativeCheckbox ? \"checkbox\" : undefined,\n      type: isNativeCheckbox ? \"checkbox\" : undefined,\n      value: isNativeCheckbox ? value : undefined,\n      checked: checked,\n      \"aria-checked\": state === \"indeterminate\" ? \"mixed\" : checked,\n      onChange,\n      onClick,\n      ...restHtmlProps,\n    };\n  },\n});\n\nexport const Checkbox = createComponent({\n  as: \"input\",\n  memo: true,\n  useHook: useCheckbox,\n});\n", "import * as React from \"react\";\nimport { createEvent } from \"reakit-utils\";\nimport { warning } from \"reakit-warning\";\n\nimport { CheckboxOptions } from \"./Checkbox\";\n\nexport function getChecked(options: CheckboxOptions) {\n  const { checked, value, state } = options;\n  if (typeof checked !== \"undefined\") return checked;\n\n  if (typeof value === \"undefined\") return !!state;\n\n  const stateProp = Array.isArray(state) ? state : [];\n\n  return stateProp.indexOf(value) !== -1;\n}\n\nexport function fireChange(\n  element: HTMLElement,\n  onChange?: React.ChangeEventHandler,\n) {\n  const event = createEvent(element, \"change\");\n\n  Object.defineProperties(event, {\n    type: { value: \"change\" },\n    target: { value: element },\n    currentTarget: { value: element },\n  });\n\n  onChange?.(event as any);\n}\n\nexport function useIndeterminateState(\n  ref: React.RefObject<HTMLInputElement>,\n  options: CheckboxOptions,\n) {\n  const { state } = options;\n\n  React.useEffect(() => {\n    const element = ref.current;\n\n    if (!element) {\n      warning(\n        state === \"indeterminate\",\n        \"Can't set indeterminate state because `ref` wasn't passed to component.\",\n      );\n      return;\n    }\n\n    if (state === \"indeterminate\") {\n      element.indeterminate = true;\n    } else if (element.indeterminate) {\n      element.indeterminate = false;\n    }\n  }, [state, ref]);\n}\n", "import { useControllableState } from \"../utils/index\";\n\nexport type CheckboxState = {\n  /**\n   * Stores the state of the checkbox.\n   * If checkboxes that share this state have defined a `value` prop, it's\n   * going to be an array.\n   */\n  state: boolean | \"indeterminate\" | Array<number | string>;\n};\n\nexport type CheckboxActions = {\n  /**\n   * Sets `state` for the checkbox.\n   */\n  setState: React.Dispatch<React.SetStateAction<CheckboxState[\"state\"]>>;\n};\n\nexport type CheckboxInitialState = {\n  /**\n   * Default State of the Checkbox for uncontrolled Checkbox.\n   *\n   * @default false\n   */\n  defaultState?: CheckboxState[\"state\"];\n\n  /**\n   * State of the Checkbox for controlled Checkbox..\n   */\n  state?: CheckboxState[\"state\"];\n\n  /**\n   * OnChange callback for controlled Checkbox.\n   */\n  onStateChange?: React.Dispatch<React.SetStateAction<CheckboxState[\"state\"]>>;\n};\n\nexport type CheckboxStateReturn = CheckboxState & CheckboxActions;\n\nexport function useCheckboxState(\n  props: CheckboxInitialState = {},\n): CheckboxStateReturn {\n  const {\n    // Default State should be false otherwise input state will be undefined\n    defaultState = false,\n    state: stateProp,\n    onStateChange,\n  } = props;\n\n  const [state, setState] = useControllableState({\n    defaultValue: defaultState,\n    value: stateProp,\n    onChange: onStateChange,\n  });\n\n  return { state, setState };\n}\n", "// Automatically generated\nexport const USE_DATE_PICKER_STATE_KEYS = [\n  \"value\",\n  \"defaultValue\",\n  \"onChange\",\n  \"minValue\",\n  \"maxValue\",\n  \"validationState\",\n  \"isRequired\",\n  \"baseId\",\n  \"visible\",\n  \"animated\",\n  \"modal\",\n  \"placement\",\n  \"unstable_fixed\",\n  \"unstable_flip\",\n  \"unstable_offset\",\n  \"gutter\",\n  \"unstable_preventOverflow\",\n  \"isDisabled\",\n  \"isReadOnly\",\n  \"pickerId\",\n  \"dialogId\",\n  \"segmentFocus\",\n  \"formatOptions\",\n  \"placeholderDate\",\n  \"autoFocus\",\n] as const;\nexport const DATE_PICKER_STATE_KEYS = [\n  \"calendar\",\n  \"isDateRangePicker\",\n  \"fieldValue\",\n  \"setFieldValue\",\n  \"segments\",\n  \"dateFormatter\",\n  \"increment\",\n  \"decrement\",\n  \"incrementPage\",\n  \"decrementPage\",\n  \"setSegment\",\n  \"confirmPlaceholder\",\n  \"baseId\",\n  \"unstable_idCountRef\",\n  \"setBaseId\",\n  \"unstable_virtual\",\n  \"rtl\",\n  \"orientation\",\n  \"items\",\n  \"groups\",\n  \"currentId\",\n  \"loop\",\n  \"wrap\",\n  \"shift\",\n  \"unstable_moves\",\n  \"unstable_hasActiveWidget\",\n  \"unstable_includesBaseElement\",\n  \"registerItem\",\n  \"unregisterItem\",\n  \"registerGroup\",\n  \"unregisterGroup\",\n  \"move\",\n  \"next\",\n  \"previous\",\n  \"up\",\n  \"down\",\n  \"first\",\n  \"last\",\n  \"sort\",\n  \"unstable_setVirtual\",\n  \"setRTL\",\n  \"setOrientation\",\n  \"setCurrentId\",\n  \"setLoop\",\n  \"setWrap\",\n  \"setShift\",\n  \"reset\",\n  \"unstable_setIncludesBaseElement\",\n  \"unstable_setHasActiveWidget\",\n  \"visible\",\n  \"animated\",\n  \"animating\",\n  \"show\",\n  \"hide\",\n  \"toggle\",\n  \"setVisible\",\n  \"setAnimated\",\n  \"stopAnimation\",\n  \"modal\",\n  \"unstable_disclosureRef\",\n  \"setModal\",\n  \"unstable_referenceRef\",\n  \"unstable_popoverRef\",\n  \"unstable_arrowRef\",\n  \"unstable_popoverStyles\",\n  \"unstable_arrowStyles\",\n  \"unstable_originalPlacement\",\n  \"unstable_update\",\n  \"placement\",\n  \"place\",\n  \"pickerId\",\n  \"dialogId\",\n  \"isDisabled\",\n  \"isReadOnly\",\n  \"segmentFocus\",\n  \"dateValue\",\n  \"setDateValue\",\n  \"selectDate\",\n  \"validationState\",\n  \"minValue\",\n  \"maxValue\",\n  \"isRequired\",\n] as const;\nexport const USE_DATE_RANGE_PICKER_STATE_KEYS = USE_DATE_PICKER_STATE_KEYS;\nexport const DATE_RANGE_PICKER_STATE_KEYS = [\n  \"startSegmentState\",\n  \"endSegmentState\",\n  \"calendar\",\n  \"isDateRangePicker\",\n  \"baseId\",\n  \"unstable_idCountRef\",\n  \"visible\",\n  \"animated\",\n  \"animating\",\n  \"setBaseId\",\n  \"show\",\n  \"hide\",\n  \"toggle\",\n  \"setVisible\",\n  \"setAnimated\",\n  \"stopAnimation\",\n  \"modal\",\n  \"unstable_disclosureRef\",\n  \"setModal\",\n  \"unstable_referenceRef\",\n  \"unstable_popoverRef\",\n  \"unstable_arrowRef\",\n  \"unstable_popoverStyles\",\n  \"unstable_arrowStyles\",\n  \"unstable_originalPlacement\",\n  \"unstable_update\",\n  \"placement\",\n  \"place\",\n  \"pickerId\",\n  \"dialogId\",\n  \"isDisabled\",\n  \"isReadOnly\",\n  \"segmentFocus\",\n  \"dateValue\",\n  \"setDateValue\",\n  \"selectDate\",\n  \"validationState\",\n  \"minValue\",\n  \"maxValue\",\n  \"isRequired\",\n] as const;\nexport const DATE_PICKER_KEYS = [\n  ...DATE_PICKER_STATE_KEYS,\n  ...DATE_RANGE_PICKER_STATE_KEYS,\n] as const;\nexport const DATE_PICKER_CONTENT_KEYS = DATE_PICKER_KEYS;\nexport const DATE_PICKER_SEGMENT_KEYS = DATE_PICKER_CONTENT_KEYS;\nexport const DATE_PICKER_SEGMENT_FIELD_KEYS = DATE_PICKER_SEGMENT_KEYS;\nexport const DATE_PICKER_TRIGGER_KEYS = DATE_PICKER_SEGMENT_FIELD_KEYS;\n", "// Automatically generated\nexport const USE_PICKER_BASE_STATE_KEYS = [\n  \"baseId\",\n  \"visible\",\n  \"animated\",\n  \"modal\",\n  \"placement\",\n  \"unstable_fixed\",\n  \"unstable_flip\",\n  \"unstable_offset\",\n  \"gutter\",\n  \"unstable_preventOverflow\",\n  \"isDisabled\",\n  \"isReadOnly\",\n  \"pickerId\",\n  \"dialogId\",\n  \"segmentFocus\",\n] as const;\nexport const PICKER_BASE_STATE_KEYS = [\n  \"baseId\",\n  \"unstable_idCountRef\",\n  \"visible\",\n  \"animated\",\n  \"animating\",\n  \"setBaseId\",\n  \"show\",\n  \"hide\",\n  \"toggle\",\n  \"setVisible\",\n  \"setAnimated\",\n  \"stopAnimation\",\n  \"modal\",\n  \"unstable_disclosureRef\",\n  \"setModal\",\n  \"unstable_referenceRef\",\n  \"unstable_popoverRef\",\n  \"unstable_arrowRef\",\n  \"unstable_popoverStyles\",\n  \"unstable_arrowStyles\",\n  \"unstable_originalPlacement\",\n  \"unstable_update\",\n  \"placement\",\n  \"place\",\n  \"pickerId\",\n  \"dialogId\",\n  \"isDisabled\",\n  \"isReadOnly\",\n  \"segmentFocus\",\n] as const;\nexport const PICKER_BASE_KEYS = PICKER_BASE_STATE_KEYS;\nexport const PICKER_BASE_CONTENT_KEYS = PICKER_BASE_KEYS;\nexport const PICKER_BASE_TRIGGER_KEYS = PICKER_BASE_CONTENT_KEYS;\n", "import * as React from \"react\";\nimport { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\nimport { createOnKeyDown } from \"reakit-utils\";\nimport { callAllHandlers } from \"@chakra-ui/utils\";\n\nimport { createComponent, createHook } from \"../system\";\nimport { ariaAttr, isTouch } from \"../utils\";\n\nimport { PICKER_BASE_KEYS } from \"./__keys\";\nimport { PickerBaseStateReturn } from \"./PickerBaseState\";\n\nexport type PickerBaseOptions = RoleOptions &\n  Pick<\n    PickerBaseStateReturn,\n    | \"visible\"\n    | \"isDisabled\"\n    | \"isReadOnly\"\n    | \"show\"\n    | \"pickerId\"\n    | \"dialogId\"\n    | \"segmentFocus\"\n  >;\n\nexport type PickerBaseHTMLProps = RoleHTMLProps;\n\nexport type PickerBaseProps = PickerBaseOptions & PickerBaseHTMLProps;\n\nexport const usePickerBase = createHook<PickerBaseOptions, PickerBaseHTMLProps>(\n  {\n    name: \"PickerBase\",\n    compose: useRole,\n    keys: PICKER_BASE_KEYS,\n\n    useProps(\n      options,\n      {\n        onKeyDown: htmlOnKeyDown,\n        onClick: htmlOnClick,\n        onMouseDown: htmlOnMouseDown,\n        ...htmlProps\n      },\n    ) {\n      const {\n        visible,\n        isDisabled,\n        isReadOnly,\n        show,\n        pickerId,\n        dialogId,\n        segmentFocus,\n      } = options;\n\n      const onClick = React.useCallback(() => {\n        if (isTouch()) show();\n      }, [show]);\n\n      // Open the popover on alt + arrow down\n      const onKeyDown = createOnKeyDown({\n        onKey: htmlOnKeyDown,\n        preventDefault: true,\n        keyMap: event => {\n          const isAlt = event.altKey;\n\n          return {\n            ArrowDown: () => {\n              isAlt && show();\n            },\n          };\n        },\n      });\n\n      const onMouseDown = React.useCallback(\n        (e: React.MouseEvent) => {\n          e.stopPropagation();\n          segmentFocus?.();\n        },\n        [segmentFocus],\n      );\n\n      return {\n        id: pickerId,\n        role: \"button\",\n        \"aria-haspopup\": \"dialog\",\n        \"aria-expanded\": visible,\n        \"aria-owns\": visible ? dialogId : undefined,\n        \"aria-disabled\": ariaAttr(isDisabled),\n        \"aria-readonly\": ariaAttr(isReadOnly),\n        onKeyDown: callAllHandlers(htmlOnKeyDown, onKeyDown),\n        onClick: callAllHandlers(htmlOnClick, onClick),\n        onMouseDown: callAllHandlers(htmlOnMouseDown, onMouseDown),\n        ...htmlProps,\n      };\n    },\n  },\n);\n\nexport const PickerBase = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: usePickerBase,\n});\n", "import { PopoverHTMLProps, PopoverOptions, usePopover } from \"reakit\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { PICKER_BASE_CONTENT_KEYS } from \"./__keys\";\nimport { PickerBaseStateReturn } from \"./PickerBaseState\";\n\nexport type PickerBaseContentOptions = PopoverOptions &\n  Pick<PickerBaseStateReturn, \"dialogId\">;\n\nexport type PickerBaseContentHTMLProps = PopoverHTMLProps;\n\nexport type PickerBaseContentProps = PickerBaseContentOptions &\n  PickerBaseContentHTMLProps;\n\nexport const usePickerBaseContent = createHook<\n  PickerBaseContentOptions,\n  PickerBaseContentHTMLProps\n>({\n  name: \"PickerBaseContent\",\n  compose: usePopover,\n  keys: PICKER_BASE_CONTENT_KEYS,\n\n  useProps(options, htmlProps) {\n    return { id: options.dialogId, ...htmlProps };\n  },\n});\n\nexport const PickerBaseContent = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: usePickerBaseContent,\n});\n", "import {\n  PopoverInitialState,\n  unstable_useId as useId,\n  usePopoverState,\n} from \"reakit\";\nimport { InputBase } from \"@react-types/shared\";\n\nexport type PickerBaseInitialState = PopoverInitialState &\n  InputBase & {\n    /**\n     * Picker wrapper Id\n     */\n    pickerId?: string;\n    /**\n     * Dialog Id\n     */\n    dialogId?: string;\n    /**\n     * Function to be called on picker mousedown\n     * for focusing first tabbable element\n     */\n    segmentFocus?: () => void;\n  };\n\nexport const usePickerBaseState = (props: PickerBaseInitialState = {}) => {\n  const {\n    pickerId: pickerIdProp,\n    dialogId: dialogIdProp,\n    isDisabled,\n    isReadOnly,\n    segmentFocus,\n  } = props;\n\n  const { id: pickerId } = useId({ id: pickerIdProp, baseId: \"picker\" });\n  const { id: dialogId } = useId({ id: dialogIdProp, baseId: \"dialog\" });\n\n  const popover = usePopoverState({ modal: true, ...props });\n\n  return {\n    pickerId,\n    dialogId,\n    isDisabled,\n    isReadOnly,\n    segmentFocus,\n    ...popover,\n  };\n};\n\nexport type PickerBaseStateReturn = ReturnType<typeof usePickerBaseState>;\n", "import {\n  PopoverDisclosureHTMLProps,\n  PopoverDisclosureOptions,\n  usePopoverDisclosure,\n} from \"reakit\";\nimport { callAllHandlers } from \"@chakra-ui/utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { PICKER_BASE_TRIGGER_KEYS } from \"./__keys\";\nimport { PickerBaseStateReturn } from \"./PickerBaseState\";\n\nexport type PickerBaseTriggerOptions = PopoverDisclosureOptions &\n  Pick<PickerBaseStateReturn, \"isDisabled\" | \"isReadOnly\">;\n\nexport type PickerBaseTriggerHTMLProps = PopoverDisclosureHTMLProps;\n\nexport type PickerBaseTriggerProps = PickerBaseTriggerOptions &\n  PickerBaseTriggerHTMLProps;\n\nexport const usePickerBaseTrigger = createHook<\n  PickerBaseTriggerOptions,\n  PickerBaseTriggerHTMLProps\n>({\n  name: \"PickerBaseTrigger\",\n  compose: usePopoverDisclosure,\n  keys: PICKER_BASE_TRIGGER_KEYS,\n\n  useOptions(options, _) {\n    return {\n      disabled: options.isDisabled || options.isReadOnly,\n      ...options,\n    };\n  },\n\n  useProps(_, { onMouseDown: htmlOnMouseDown, ...htmlProps }) {\n    const onMouseDown = (e: React.MouseEvent) => {\n      e.stopPropagation();\n    };\n\n    return {\n      tabIndex: -1,\n      onMouseDown: callAllHandlers(htmlOnMouseDown, onMouseDown),\n      ...htmlProps,\n    };\n  },\n});\n\nexport const PickerBaseTrigger = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: usePickerBaseTrigger,\n});\n", "import {\n  PickerBaseHTMLProps,\n  PickerBaseOptions,\n  usePickerBase,\n} from \"../picker-base\";\nimport { createComponent, createHook } from \"../system\";\nimport { ariaAttr } from \"../utils\";\n\nimport { DATE_PICKER_KEYS } from \"./__keys\";\nimport { DatePickerStateReturn } from \"./DatePickerState\";\n\nexport type DatePickerOptions = PickerBaseOptions &\n  Pick<DatePickerStateReturn, \"validationState\" | \"isRequired\">;\n\nexport type DatePickerHTMLProps = PickerBaseHTMLProps;\n\nexport type DatePickerProps = DatePickerOptions & DatePickerHTMLProps;\n\nexport const useDatePicker = createHook<DatePickerOptions, DatePickerHTMLProps>(\n  {\n    name: \"DatePicker\",\n    compose: usePickerBase,\n    keys: DATE_PICKER_KEYS,\n\n    useProps(options, htmlProps) {\n      const { validationState, isRequired } = options;\n\n      return {\n        \"aria-invalid\": ariaAttr(validationState === \"invalid\"),\n        \"aria-required\": ariaAttr(isRequired),\n        ...htmlProps,\n      };\n    },\n  },\n);\n\nexport const DatePicker = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useDatePicker,\n});\n", "import {\n  PickerBaseHTMLProps,\n  PickerBaseOptions,\n  usePickerBaseContent,\n} from \"../picker-base\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { DATE_PICKER_CONTENT_KEYS } from \"./__keys\";\n\nexport type DatePickerContentOptions = PickerBaseOptions;\n\nexport type DatePickerContentHTMLProps = PickerBaseHTMLProps;\n\nexport type DatePickerContentProps = DatePickerContentOptions &\n  DatePickerContentHTMLProps;\n\nexport const useDatePickerContent = createHook<\n  DatePickerContentOptions,\n  DatePickerContentHTMLProps\n>({\n  name: \"DatePickerContent\",\n  compose: usePickerBaseContent,\n  keys: DATE_PICKER_CONTENT_KEYS,\n});\n\nexport const DatePickerContent = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useDatePickerContent,\n});\n", "// Automatically generated\nexport const USE_SEGMENT_STATE_KEYS = [\n  \"defaultValue\",\n  \"value\",\n  \"onChange\",\n  \"formatOptions\",\n  \"placeholderDate\",\n] as const;\nexport const SEGMENT_STATE_KEYS = [\n  \"fieldValue\",\n  \"setFieldValue\",\n  \"segments\",\n  \"dateFormatter\",\n  \"increment\",\n  \"decrement\",\n  \"incrementPage\",\n  \"decrementPage\",\n  \"setSegment\",\n  \"confirmPlaceholder\",\n  \"baseId\",\n  \"unstable_idCountRef\",\n  \"setBaseId\",\n  \"unstable_virtual\",\n  \"rtl\",\n  \"orientation\",\n  \"items\",\n  \"groups\",\n  \"currentId\",\n  \"loop\",\n  \"wrap\",\n  \"shift\",\n  \"unstable_moves\",\n  \"unstable_hasActiveWidget\",\n  \"unstable_includesBaseElement\",\n  \"registerItem\",\n  \"unregisterItem\",\n  \"registerGroup\",\n  \"unregisterGroup\",\n  \"move\",\n  \"next\",\n  \"previous\",\n  \"up\",\n  \"down\",\n  \"first\",\n  \"last\",\n  \"sort\",\n  \"unstable_setVirtual\",\n  \"setRTL\",\n  \"setOrientation\",\n  \"setCurrentId\",\n  \"setLoop\",\n  \"setWrap\",\n  \"setShift\",\n  \"reset\",\n  \"unstable_setIncludesBaseElement\",\n  \"unstable_setHasActiveWidget\",\n] as const;\nexport const SEGMENT_KEYS = [\n  ...SEGMENT_STATE_KEYS,\n  \"segment\",\n  \"isDisabled\",\n  \"isReadOnly\",\n  \"isRequired\",\n] as const;\nexport const SEGMENT_FIELD_KEYS = SEGMENT_STATE_KEYS;\n", "import * as React from \"react\";\nimport {\n  CompositeItemHTMLProps,\n  CompositeItemOptions,\n  useCompositeItem,\n} from \"reakit\";\nimport { callAllHandlers } from \"@chakra-ui/utils\";\nimport { useDateFormatter } from \"@react-aria/i18n\";\nimport { useSpinButton } from \"@react-aria/spinbutton\";\nimport { mergeProps } from \"@react-aria/utils\";\n\nimport { createComponent, createHook } from \"../system\";\nimport { dataAttr } from \"../utils\";\n\nimport { SEGMENT_KEYS } from \"./__keys\";\nimport { isNumeric, parseNumber } from \"./helpers\";\nimport { DateSegment, SegmentStateReturn } from \"./SegmentState\";\n\nexport type SegmentOptions = CompositeItemOptions &\n  Pick<\n    SegmentStateReturn,\n    | \"next\"\n    | \"fieldValue\"\n    | \"setSegment\"\n    | \"increment\"\n    | \"decrement\"\n    | \"incrementPage\"\n    | \"decrementPage\"\n    | \"dateFormatter\"\n    | \"confirmPlaceholder\"\n  > & {\n    segment: DateSegment;\n    isDisabled?: boolean;\n    isReadOnly?: boolean;\n    isRequired?: boolean;\n  };\n\nexport type SegmentHTMLProps = CompositeItemHTMLProps;\n\nexport type SegmentProps = SegmentOptions & SegmentHTMLProps;\n\nexport const useSegment = createHook<SegmentOptions, SegmentHTMLProps>({\n  name: \"Segment\",\n  compose: useCompositeItem,\n  keys: SEGMENT_KEYS,\n\n  useOptions(options, _) {\n    return {\n      disabled:\n        options.isDisabled ||\n        options.isReadOnly ||\n        options.segment.type === \"literal\",\n      ...options,\n    };\n  },\n\n  useProps(\n    { segment, next, ...options },\n    {\n      onMouseDown: htmlOnMouseDown,\n      onKeyDown: htmlOnKeyDown,\n      onFocus: htmlOnFocus,\n      ...htmlProps\n    },\n  ) {\n    const [enteredKeys, setEnteredKeys] = React.useState(\"\");\n\n    let textValue = segment.text;\n    const monthDateFormatter = useDateFormatter({ month: \"long\" });\n    const hourDateFormatter = useDateFormatter({\n      hour: \"numeric\",\n      hour12: options.dateFormatter.resolvedOptions().hour12,\n    });\n\n    const hourFormattedValue = hourDateFormatter.format(options.fieldValue);\n    if (segment.type === \"month\") {\n      textValue = monthDateFormatter.format(options.fieldValue);\n    }\n\n    if (segment.type === \"hour\") {\n      textValue = hourFormattedValue.split(\" \")[0];\n    }\n\n    if (segment.type === \"dayPeriod\") {\n      textValue = hourFormattedValue.split(\" \")[1];\n    }\n\n    const { spinButtonProps } = useSpinButton({\n      value: segment.value,\n      textValue,\n      minValue: segment.minValue,\n      maxValue: segment.maxValue,\n      isDisabled: options.isDisabled,\n      isReadOnly: options.isReadOnly,\n      isRequired: options.isRequired,\n      onIncrement: () => options.increment(segment.type),\n      onDecrement: () => options.decrement(segment.type),\n      onIncrementPage: () => options.incrementPage(segment.type),\n      onDecrementPage: () => options.decrementPage(segment.type),\n      onIncrementToMax: () =>\n        options.setSegment(segment.type, segment.maxValue as number),\n      onDecrementToMin: () =>\n        options.setSegment(segment.type, segment.minValue as number),\n    });\n\n    const onInput = React.useCallback(\n      (key: string) => {\n        const newValue = enteredKeys + key;\n\n        switch (segment.type) {\n          case \"dayPeriod\":\n            if (key === \"a\") {\n              options.setSegment(\"dayPeriod\", 0);\n            } else if (key === \"p\") {\n              options.setSegment(\"dayPeriod\", 12);\n            }\n            next();\n            break;\n          case \"day\":\n          case \"hour\":\n          case \"minute\":\n          case \"second\":\n          case \"month\":\n          case \"year\": {\n            if (!isNumeric(newValue)) {\n              return;\n            }\n\n            const numberValue = parseNumber(newValue);\n            let segmentValue = numberValue;\n            if (\n              segment.type === \"hour\" &&\n              options.dateFormatter.resolvedOptions().hour12 &&\n              numberValue === 12\n            ) {\n              segmentValue = 0;\n            } else if (numberValue > (segment.maxValue as number)) {\n              segmentValue = parseNumber(key);\n            }\n\n            options.setSegment(segment.type, segmentValue);\n\n            if (Number(numberValue + \"0\") > (segment.maxValue as number)) {\n              setEnteredKeys(\"\");\n              next();\n            } else {\n              setEnteredKeys(newValue);\n            }\n            break;\n          }\n        }\n      },\n      [enteredKeys, next, options, segment.maxValue, segment.type],\n    );\n\n    const onKeyDown = React.useCallback(\n      (e: React.KeyboardEvent) => {\n        if (e.ctrlKey || e.metaKey || e.shiftKey || e.altKey) {\n          return;\n        }\n\n        switch (e.key) {\n          case \"Enter\":\n            e.preventDefault();\n            if (segment.isPlaceholder && !options.isReadOnly) {\n              options.confirmPlaceholder(segment.type);\n            }\n            next();\n            break;\n          case \"Tab\":\n            break;\n          case \"Backspace\": {\n            e.preventDefault();\n            if (isNumeric(segment.text) && !options.isReadOnly) {\n              const newValue = segment.text.slice(0, -1);\n              options.setSegment(\n                segment.type,\n                newValue.length === 0\n                  ? (segment.minValue as number)\n                  : parseNumber(newValue),\n              );\n              setEnteredKeys(newValue);\n            }\n            break;\n          }\n          default:\n            e.preventDefault();\n            e.stopPropagation();\n            if (\n              (isNumeric(e.key) || /^[ap]$/.test(e.key)) &&\n              !options.isReadOnly\n            ) {\n              onInput(e.key);\n            }\n        }\n      },\n      [\n        next,\n        onInput,\n        options,\n        segment.isPlaceholder,\n        segment.minValue,\n        segment.text,\n        segment.type,\n      ],\n    );\n\n    const onFocus = React.useCallback(() => {\n      setEnteredKeys(\"\");\n    }, []);\n\n    const onMouseDown = React.useCallback(\n      (e: React.MouseEvent) => e.stopPropagation(),\n      [],\n    );\n\n    switch (segment.type) {\n      // A separator, e.g. punctuation\n      case \"literal\":\n        return {\n          \"data-placeholder\": dataAttr(false),\n          children: segment.text,\n          ...htmlProps,\n        };\n\n      // These segments cannot be directly edited by the user.\n      case \"weekday\":\n      case \"timeZoneName\":\n      case \"era\":\n        return {\n          \"data-placeholder\": true,\n          children: segment.text,\n          ...htmlProps,\n        };\n\n      // Editable segment\n      default:\n        return mergeProps(spinButtonProps, {\n          \"aria-label\": segment.type,\n          onKeyDown: callAllHandlers(htmlOnKeyDown, onKeyDown),\n          onFocus: callAllHandlers(htmlOnFocus, onFocus),\n          onMouseDown: callAllHandlers(htmlOnMouseDown, onMouseDown),\n          children: segment.text,\n          ...htmlProps,\n        });\n    }\n  },\n\n  useComposeProps(options, htmlProps) {\n    const composite = useCompositeItem(options, htmlProps);\n\n    /*\n      Haz:\n      Ensure tabIndex={0}\n      Tab is not the only thing that can move focus in web pages\n      For example, on iOS you can move between form elements using\n      the arrows above the keyboard\n    */\n    return {\n      ...composite,\n      tabIndex: options.disabled ? -1 : 0,\n    };\n  },\n});\n\nexport const Segment = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useSegment,\n});\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nexport {announce, clearAnnouncer, destroyAnnouncer} from './LiveAnnouncer';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\ntype Assertiveness = 'assertive' | 'polite';\n\n/* Inspired by https://github.com/AlmeroSteyn/react-aria-live */\nconst LIVEREGION_TIMEOUT_DELAY = 7000;\n\nlet liveAnnouncer: LiveAnnouncer = null;\n\n/**\n * Announces the message using screen reader technology.\n */\nexport function announce(\n  message: string,\n  assertiveness: Assertiveness = 'assertive',\n  timeout = LIVEREGION_TIMEOUT_DELAY\n) {\n  if (!liveAnnouncer) {\n    liveAnnouncer = new LiveAnnouncer();\n  }\n\n  liveAnnouncer.announce(message, assertiveness, timeout);\n}\n\n/**\n * Stops all queued announcements.\n */\nexport function clearAnnouncer(assertiveness: Assertiveness) {\n  if (liveAnnouncer) {\n    liveAnnouncer.clear(assertiveness);\n  }\n}\n\n/**\n * Removes the announcer from the DOM.\n */\nexport function destroyAnnouncer() {\n  if (liveAnnouncer) {\n    liveAnnouncer.destroy();\n    liveAnnouncer = null;\n  }\n}\n\n// LiveAnnouncer is implemented using vanilla DOM, not React. That's because as of React 18\n// ReactDOM.render is deprecated, and the replacement, ReactDOM.createRoot is moved into a\n// subpath import `react-dom/client`. That makes it hard for us to support multiple React versions.\n// As a global API, we can't use portals without introducing a breaking API change. LiveAnnouncer\n// is simple enough to implement without React, so that's what we do here.\n// See this discussion for more details: https://github.com/reactwg/react-18/discussions/125#discussioncomment-2382638\nclass LiveAnnouncer {\n  node: HTMLElement;\n  assertiveLog: HTMLElement;\n  politeLog: HTMLElement;\n\n  constructor() {\n    this.node = document.createElement('div');\n    this.node.dataset.liveAnnouncer = 'true';\n    // copied from VisuallyHidden\n    Object.assign(this.node.style, {\n      border: 0,\n      clip: 'rect(0 0 0 0)',\n      clipPath: 'inset(50%)',\n      height: 1,\n      margin: '0 -1px -1px 0',\n      overflow: 'hidden',\n      padding: 0,\n      position: 'absolute',\n      width: 1,\n      whiteSpace: 'nowrap'\n    });\n\n    this.assertiveLog = this.createLog('assertive');\n    this.node.appendChild(this.assertiveLog);\n\n    this.politeLog = this.createLog('polite');\n    this.node.appendChild(this.politeLog);\n\n    document.body.prepend(this.node);\n  }\n\n  createLog(ariaLive: string) {\n    let node = document.createElement('div');\n    node.setAttribute('role', 'log');\n    node.setAttribute('aria-live', ariaLive);\n    node.setAttribute('aria-relevant', 'additions');\n    return node;\n  }\n\n  destroy() {\n    if (!this.node) {\n      return;\n    }\n\n    document.body.removeChild(this.node);\n    this.node = null;\n  }\n\n  announce(message: string, assertiveness = 'assertive', timeout = LIVEREGION_TIMEOUT_DELAY) {\n    if (!this.node) {\n      return;\n    }\n\n    let node = document.createElement('div');\n    node.textContent = message;\n\n    if (assertiveness === 'assertive') {\n      this.assertiveLog.appendChild(node);\n    } else {\n      this.politeLog.appendChild(node);\n    }\n\n    if (message !== '') {\n      setTimeout(() => {\n        node.remove();\n      }, timeout);\n    }\n  }\n\n  clear(assertiveness: Assertiveness) {\n    if (!this.node) {\n      return;\n    }\n\n    if (!assertiveness || assertiveness === 'assertive') {\n      this.assertiveLog.innerHTML = '';\n    }\n\n    if (!assertiveness || assertiveness === 'polite') {\n      this.politeLog.innerHTML = '';\n    }\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nexport type {SpinButtonProps, SpinbuttonAria} from './useSpinButton';\nexport {useSpinButton} from './useSpinButton';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {announce} from '@react-aria/live-announcer';\nimport {AriaButtonProps} from '@react-types/button';\nimport {DOMAttributes, InputBase, RangeInputBase, Validation, ValueBase} from '@react-types/shared';\n// @ts-ignore\nimport intlMessages from '../intl/*.json';\nimport {useCallback, useEffect, useRef} from 'react';\nimport {useGlobalListeners} from '@react-aria/utils';\nimport {useLocalizedStringFormatter} from '@react-aria/i18n';\n\n\nexport interface SpinButtonProps extends InputBase, Validation, ValueBase<number>, RangeInputBase<number> {\n  textValue?: string,\n  onIncrement?: () => void,\n  onIncrementPage?: () => void,\n  onDecrement?: () => void,\n  onDecrementPage?: () => void,\n  onDecrementToMin?: () => void,\n  onIncrementToMax?: () => void\n}\n\nexport interface SpinbuttonAria {\n  spinButtonProps: DOMAttributes,\n  incrementButtonProps: AriaButtonProps,\n  decrementButtonProps: AriaButtonProps\n}\n\nexport function useSpinButton(\n  props: SpinButtonProps\n): SpinbuttonAria {\n  const _async = useRef<number>();\n  let {\n    value,\n    textValue,\n    minValue,\n    maxValue,\n    isDisabled,\n    isReadOnly,\n    isRequired,\n    onIncrement,\n    onIncrementPage,\n    onDecrement,\n    onDecrementPage,\n    onDecrementToMin,\n    onIncrementToMax\n  } = props;\n  const stringFormatter = useLocalizedStringFormatter(intlMessages);\n  const propsRef = useRef(props);\n  propsRef.current = props;\n\n  const clearAsync = () => clearTimeout(_async.current);\n\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return () => clearAsync();\n  }, []);\n\n  let onKeyDown = (e) => {\n    if (e.ctrlKey || e.metaKey || e.shiftKey || e.altKey || isReadOnly) {\n      return;\n    }\n\n    switch (e.key) {\n      case 'PageUp':\n        if (onIncrementPage) {\n          e.preventDefault();\n          onIncrementPage();\n          break;\n        }\n      // fallthrough!\n      case 'ArrowUp':\n      case 'Up':\n        if (onIncrement) {\n          e.preventDefault();\n          onIncrement();\n        }\n        break;\n      case 'PageDown':\n        if (onDecrementPage) {\n          e.preventDefault();\n          onDecrementPage();\n          break;\n        }\n      // fallthrough\n      case 'ArrowDown':\n      case 'Down':\n        if (onDecrement) {\n          e.preventDefault();\n          onDecrement();\n        }\n        break;\n      case 'Home':\n        if (onDecrementToMin) {\n          e.preventDefault();\n          onDecrementToMin();\n        }\n        break;\n      case 'End':\n        if (onIncrementToMax) {\n          e.preventDefault();\n          onIncrementToMax();\n        }\n        break;\n    }\n  };\n\n  let isFocused = useRef(false);\n  let onFocus = () => {\n    isFocused.current = true;\n  };\n\n  let onBlur = () => {\n    isFocused.current = false;\n  };\n\n  // Replace Unicode hyphen-minus (U+002D) with minus sign (U+2212).\n  // This ensures that macOS VoiceOver announces it as \"minus\" even with other characters between the minus sign\n  // and the number (e.g. currency symbol). Otherwise it announces nothing because it assumes the character is a hyphen.\n  // In addition, replace the empty string with the word \"Empty\" so that iOS VoiceOver does not read \"50%\" for an empty field.\n  textValue = textValue === '' ? stringFormatter.format('Empty') : (textValue || `${value}`).replace('-', '\\u2212');\n\n  useEffect(() => {\n    if (isFocused.current) {\n      announce(textValue, 'assertive');\n    }\n  }, [textValue]);\n\n  const onIncrementPressStart = useCallback(\n    (initialStepDelay: number) => {\n      clearAsync();\n      propsRef.current.onIncrement();\n      // Start spinning after initial delay\n      _async.current = window.setTimeout(\n        () => {\n          if (isNaN(maxValue) || isNaN(value) || value < maxValue) {\n            onIncrementPressStart(60);\n          }\n        },\n        initialStepDelay\n      );\n    },\n    [onIncrement, maxValue, value]\n  );\n\n  const onDecrementPressStart = useCallback(\n    (initialStepDelay: number) => {\n      clearAsync();\n      propsRef.current.onDecrement();\n      // Start spinning after initial delay\n      _async.current = window.setTimeout(\n        () => {\n          if (isNaN(minValue) || isNaN(value) || value > minValue) {\n            onDecrementPressStart(60);\n          }\n        },\n        initialStepDelay\n      );\n    },\n    [onDecrement, minValue, value]\n  );\n\n  let cancelContextMenu = (e) => {\n    e.preventDefault();\n  };\n\n  let {addGlobalListener, removeAllGlobalListeners} = useGlobalListeners();\n\n  return {\n    spinButtonProps: {\n      role: 'spinbutton',\n      'aria-valuenow': !isNaN(value) ? value : null,\n      'aria-valuetext': textValue,\n      'aria-valuemin': minValue,\n      'aria-valuemax': maxValue,\n      'aria-disabled': isDisabled || null,\n      'aria-readonly': isReadOnly || null,\n      'aria-required': isRequired || null,\n      onKeyDown,\n      onFocus,\n      onBlur\n    },\n    incrementButtonProps: {\n      onPressStart: () => {\n        onIncrementPressStart(400);\n        addGlobalListener(window, 'contextmenu', cancelContextMenu);\n      },\n      onPressEnd: () => {\n        clearAsync();\n        removeAllGlobalListeners();\n      },\n      onFocus,\n      onBlur\n    },\n    decrementButtonProps: {\n      onPressStart: () => {\n        onDecrementPressStart(400);\n        addGlobalListener(window, 'contextmenu', cancelContextMenu);\n      },\n      onPressEnd: () => {\n        clearAsync();\n        removeAllGlobalListeners();\n      },\n      onFocus,\n      onBlur\n    }\n  };\n}\n", "const _temp0 = require(\"./ar-AE.json\");\nconst _temp1 = require(\"./bg-BG.json\");\nconst _temp2 = require(\"./cs-CZ.json\");\nconst _temp3 = require(\"./da-DK.json\");\nconst _temp4 = require(\"./de-DE.json\");\nconst _temp5 = require(\"./el-GR.json\");\nconst _temp6 = require(\"./en-US.json\");\nconst _temp7 = require(\"./es-ES.json\");\nconst _temp8 = require(\"./et-EE.json\");\nconst _temp9 = require(\"./fi-FI.json\");\nconst _temp10 = require(\"./fr-FR.json\");\nconst _temp11 = require(\"./he-IL.json\");\nconst _temp12 = require(\"./hr-HR.json\");\nconst _temp13 = require(\"./hu-HU.json\");\nconst _temp14 = require(\"./it-IT.json\");\nconst _temp15 = require(\"./ja-JP.json\");\nconst _temp16 = require(\"./ko-KR.json\");\nconst _temp17 = require(\"./lt-LT.json\");\nconst _temp18 = require(\"./lv-LV.json\");\nconst _temp19 = require(\"./nb-NO.json\");\nconst _temp20 = require(\"./nl-NL.json\");\nconst _temp21 = require(\"./pl-PL.json\");\nconst _temp22 = require(\"./pt-BR.json\");\nconst _temp23 = require(\"./pt-PT.json\");\nconst _temp24 = require(\"./ro-RO.json\");\nconst _temp25 = require(\"./ru-RU.json\");\nconst _temp26 = require(\"./sk-SK.json\");\nconst _temp27 = require(\"./sl-SI.json\");\nconst _temp28 = require(\"./sr-SP.json\");\nconst _temp29 = require(\"./sv-SE.json\");\nconst _temp30 = require(\"./tr-TR.json\");\nconst _temp31 = require(\"./uk-UA.json\");\nconst _temp32 = require(\"./zh-CN.json\");\nconst _temp33 = require(\"./zh-TW.json\");\nmodule.exports = {\n  \"ar-AE\": _temp0,\n  \"bg-BG\": _temp1,\n  \"cs-CZ\": _temp2,\n  \"da-DK\": _temp3,\n  \"de-DE\": _temp4,\n  \"el-GR\": _temp5,\n  \"en-US\": _temp6,\n  \"es-ES\": _temp7,\n  \"et-EE\": _temp8,\n  \"fi-FI\": _temp9,\n  \"fr-FR\": _temp10,\n  \"he-IL\": _temp11,\n  \"hr-HR\": _temp12,\n  \"hu-HU\": _temp13,\n  \"it-IT\": _temp14,\n  \"ja-JP\": _temp15,\n  \"ko-KR\": _temp16,\n  \"lt-LT\": _temp17,\n  \"lv-LV\": _temp18,\n  \"nb-NO\": _temp19,\n  \"nl-NL\": _temp20,\n  \"pl-PL\": _temp21,\n  \"pt-BR\": _temp22,\n  \"pt-PT\": _temp23,\n  \"ro-RO\": _temp24,\n  \"ru-RU\": _temp25,\n  \"sk-SK\": _temp26,\n  \"sl-SI\": _temp27,\n  \"sr-SP\": _temp28,\n  \"sv-SE\": _temp29,\n  \"tr-TR\": _temp30,\n  \"uk-UA\": _temp31,\n  \"zh-CN\": _temp32,\n  \"zh-TW\": _temp33\n}", "{\n  \"Empty\": \"\"\n}\n", "{\n  \"Empty\": \"\"\n}\n", "{\n  \"Empty\": \"Przdn\"\n}\n", "{\n  \"Empty\": \"Tom\"\n}\n", "{\n  \"Empty\": \"Leer\"\n}\n", "{\n  \"Empty\": \"\"\n}\n", "{\n  \"Empty\": \"Empty\"\n}\n", "{\n  \"Empty\": \"Vaco\"\n}\n", "{\n  \"Empty\": \"Thjenda\"\n}\n", "{\n  \"Empty\": \"Tyhj\"\n}\n", "{\n  \"Empty\": \"Vide\"\n}\n", "{\n  \"Empty\": \"\"\n}\n", "{\n  \"Empty\": \"Prazno\"\n}\n", "{\n  \"Empty\": \"res\"\n}\n", "{\n  \"Empty\": \"Vuoto\"\n}\n", "{\n  \"Empty\": \"\"\n}\n", "{\n  \"Empty\": \" \"\n}\n", "{\n  \"Empty\": \"Tuias\"\n}\n", "{\n  \"Empty\": \"Tuks\"\n}\n", "{\n  \"Empty\": \"Tom\"\n}\n", "{\n  \"Empty\": \"Leeg\"\n}\n", "{\n  \"Empty\": \"Pusty\"\n}\n", "{\n  \"Empty\": \"Vazio\"\n}\n", "{\n  \"Empty\": \"Vazio\"\n}\n", "{\n  \"Empty\": \"Gol\"\n}\n", "{\n  \"Empty\": \" \"\n}\n", "{\n  \"Empty\": \"Przdne\"\n}\n", "{\n  \"Empty\": \"Prazen\"\n}\n", "{\n  \"Empty\": \"Prazno\"\n}\n", "{\n  \"Empty\": \"Tomt\"\n}\n", "{\n  \"Empty\": \"Bo\"\n}\n", "{\n  \"Empty\": \"\"\n}\n", "{\n  \"Empty\": \"\"\n}\n", "{\n  \"Empty\": \"\"\n}\n", "import {\n  getDate,\n  getDaysInMonth,\n  getHours,\n  getMinutes,\n  getMonth,\n  getSeconds,\n  getYear,\n  setDate,\n  setHours,\n  setMinutes,\n  setMonth,\n  setSeconds,\n  setYear,\n} from \"../../utils\";\n\nexport function convertValue(value: Date | undefined): Date | undefined {\n  if (!value) {\n    return undefined;\n  }\n\n  return new Date(value);\n}\n\nexport function getSegmentLimits(\n  date: Date,\n  type: string,\n  options: Intl.ResolvedDateTimeFormatOptions,\n) {\n  let value, minValue, maxValue;\n  switch (type) {\n    case \"day\":\n      value = getDate(date);\n      minValue = 1;\n      maxValue = getDaysInMonth(date);\n      break;\n    case \"dayPeriod\":\n      value = getHours(date) >= 12 ? 12 : 0;\n      minValue = 0;\n      maxValue = 12;\n      break;\n    case \"hour\":\n      value = getHours(date);\n      if (options.hour12) {\n        const isPM = value >= 12;\n        minValue = isPM ? 12 : 0;\n        maxValue = isPM ? 23 : 11;\n      } else {\n        minValue = 0;\n        maxValue = 23;\n      }\n      break;\n    case \"minute\":\n      value = getMinutes(date);\n      minValue = 0;\n      maxValue = 59;\n      break;\n    case \"second\":\n      value = getSeconds(date);\n      minValue = 0;\n      maxValue = 59;\n      break;\n    case \"month\":\n      value = getMonth(date) + 1;\n      minValue = 1;\n      maxValue = 12;\n      break;\n    case \"year\":\n      value = getYear(date);\n      minValue = 1;\n      maxValue = 9999;\n      break;\n    default:\n      return {};\n  }\n\n  return {\n    value,\n    minValue,\n    maxValue,\n  };\n}\n\nexport function add(\n  value: Date,\n  part: string,\n  amount: number,\n  options: Intl.ResolvedDateTimeFormatOptions,\n) {\n  switch (part) {\n    case \"day\": {\n      const day = getDate(value);\n      return setDate(value, cycleValue(day, amount, 1, getDaysInMonth(value)));\n    }\n    case \"dayPeriod\": {\n      const hours = getHours(value);\n      const isPM = hours >= 12;\n      return setHours(value, isPM ? hours - 12 : hours + 12);\n    }\n    case \"hour\": {\n      let hours = getHours(value);\n      let min = 0;\n      let max = 23;\n      if (options.hour12) {\n        const isPM = hours >= 12;\n        min = isPM ? 12 : 0;\n        max = isPM ? 23 : 11;\n      }\n      hours = cycleValue(hours, amount, min, max);\n      return setHours(value, hours);\n    }\n    case \"minute\": {\n      const minutes = cycleValue(getMinutes(value), amount, 0, 59, true);\n      return setMinutes(value, minutes);\n    }\n    case \"month\": {\n      const months = cycleValue(getMonth(value), amount, 0, 11);\n      return setMonth(value, months);\n    }\n    case \"second\": {\n      const seconds = cycleValue(getSeconds(value), amount, 0, 59, true);\n      return setSeconds(value, seconds);\n    }\n    case \"year\": {\n      const year = cycleValue(getYear(value), amount, 1, 9999, true);\n      return setYear(value, year);\n    }\n  }\n}\n\nexport function cycleValue(\n  value: number,\n  amount: number,\n  min: number,\n  max: number,\n  round = false,\n) {\n  if (round) {\n    value += amount > 0 ? 1 : -1;\n\n    if (value < min) {\n      value = max;\n    }\n\n    const div = Math.abs(amount);\n    if (amount > 0) {\n      value = Math.ceil(value / div) * div;\n    } else {\n      value = Math.floor(value / div) * div;\n    }\n\n    if (value > max) {\n      value = min;\n    }\n  } else {\n    value += amount;\n    if (value < min) {\n      value = max - (min - value - 1);\n    } else if (value > max) {\n      value = min + (value - max - 1);\n    }\n  }\n\n  return value;\n}\n\nexport function setSegment(\n  value: Date,\n  part: string,\n  segmentValue: number,\n  options: Intl.ResolvedDateTimeFormatOptions,\n) {\n  switch (part) {\n    case \"day\":\n      return setDate(value, segmentValue);\n    case \"dayPeriod\": {\n      const hours = getHours(value);\n      const wasPM = hours >= 12;\n      const isPM = segmentValue >= 12;\n      if (isPM === wasPM) {\n        return value;\n      }\n      return setHours(value, wasPM ? hours - 12 : hours + 12);\n    }\n    case \"hour\":\n      // In 12 hour time, ensure that AM/PM does not change\n      if (options.hour12) {\n        const hours = getHours(value);\n        const wasPM = hours >= 12;\n        if (!wasPM && segmentValue === 12) {\n          segmentValue = 0;\n        }\n        if (wasPM && segmentValue < 12) {\n          segmentValue += 12;\n        }\n      }\n      return setHours(value, segmentValue);\n    case \"minute\":\n      return setMinutes(value, segmentValue);\n    case \"month\":\n      return setMonth(value, segmentValue - 1);\n    case \"second\":\n      return setSeconds(value, segmentValue);\n    case \"year\":\n      return setYear(value, segmentValue);\n  }\n}\n\n// Converts unicode number strings to real JS numbers.\n// Numbers can be displayed and typed in many number systems, but JS\n// only understands latin numbers.\n// See https://www.fileformat.info/info/unicode/category/Nd/list.htm\n// for a list of unicode numeric characters.\n// Currently only Arabic and Latin numbers are supported, but more\n// could be added here in the future.\n// Keep this in sync with `isNumeric` below.\nexport function parseNumber(str: string): number {\n  str = str\n    // Arabic Indic\n    .replace(/[\\u0660-\\u0669]/g, c => String(c.charCodeAt(0) - 0x0660))\n    // Extended Arabic Indic\n    .replace(/[\\u06f0-\\u06f9]/g, c => String(c.charCodeAt(0) - 0x06f0));\n\n  return Number(str);\n}\n\n// Checks whether a unicode string could be converted to a number.\n// Keep this in sync with `parseNumber` above.\nexport function isNumeric(str: string) {\n  return /^[0-9\\u0660-\\u0669\\u06f0-\\u06f9]+$/.test(str);\n}\n", "import { CompositeHTMLProps, CompositeOptions, useComposite } from \"reakit\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { SEGMENT_FIELD_KEYS } from \"./__keys\";\n\nexport type SegmentFieldOptions = CompositeOptions;\n\nexport type SegmentFieldHTMLProps = CompositeHTMLProps;\n\nexport type SegmentFieldProps = SegmentFieldOptions & SegmentFieldHTMLProps;\n\nexport const useSegmentField = createHook<\n  SegmentFieldOptions,\n  SegmentFieldHTMLProps\n>({\n  name: \"SegmentField\",\n  compose: useComposite,\n  keys: SEGMENT_FIELD_KEYS,\n});\n\nexport const SegmentField = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useSegmentField,\n});\n", "/**\n * All credit goes to [React Spectrum](https://github.com/adobe/react-spectrum)\n * We improved the Calendar from Stately [useCalendarState](https://github.com/adobe/react-spectrum/tree/main/packages/%40react-stately/calendar)\n * to work with Reakit System\n */\n\nimport { useMemo, useState } from \"react\";\nimport { useCompositeState } from \"reakit\";\nimport { useDateFormatter } from \"@react-aria/i18n\";\n\nimport { useControllableState } from \"../utils\";\n\nimport { add, convertValue, getSegmentLimits, setSegment } from \"./helpers\";\n\nexport interface DateSegment {\n  type: Intl.DateTimeFormatPartTypes;\n  text: string;\n  value?: number;\n  minValue?: number;\n  maxValue?: number;\n  isPlaceholder: boolean;\n}\n\nconst EDITABLE_SEGMENTS = {\n  year: true,\n  month: true,\n  day: true,\n  hour: true,\n  minute: true,\n  second: true,\n  dayPeriod: true,\n};\n\nconst PAGE_STEP = {\n  year: 5,\n  month: 2,\n  day: 7,\n  hour: 2,\n  minute: 15,\n  second: 15,\n};\n\n// Node seems to convert everything to lowercase...\nconst TYPE_MAPPING = {\n  dayperiod: \"dayPeriod\",\n};\n\nexport type SegmentInitialState = {\n  /**\n   * Default segment value\n   */\n  defaultValue?: Date;\n  /**\n   * Segment value\n   */\n  value?: Date;\n  /**\n   * Callback to fire on value change\n   */\n  onChange?: (value: Date, ...args: any[]) => void;\n  /**\n   * Sets formmating of date based on Intl.DateFormatOptions\n   *\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat\n   *\n   * @example\n   * {\n   *   year: \"numeric\",\n   *   month: \"2-digit\",\n   *   day: \"2-digit\",\n   *   weekday: \"long\",\n   * }\n   *\n   */\n  formatOptions?: Intl.DateTimeFormatOptions;\n  /**\n   * Placeholder date\n   */\n  placeholderDate?: Date;\n};\n\nexport function useSegmentState(props: SegmentInitialState) {\n  const [validSegments, setValidSegments] = useState(\n    props.value || props.defaultValue ? { ...EDITABLE_SEGMENTS } : {},\n  );\n\n  // https://stackoverflow.com/a/9893752/10629172\n  const dateFormatter = useDateFormatter(props.formatOptions);\n  const resolvedOptions = useMemo(\n    () => dateFormatter.resolvedOptions(),\n    [dateFormatter],\n  );\n\n  // Determine how many editable segments there are for validation purposes.\n  // The result is cached for performance.\n  const numSegments = useMemo(\n    () =>\n      dateFormatter\n        .formatToParts(new Date())\n        .filter(seg => EDITABLE_SEGMENTS[seg.type]).length,\n    [dateFormatter],\n  );\n\n  // If there is a value prop, and some segments were previously placeholders, mark them all as valid.\n  if (props.value && Object.keys(validSegments).length < numSegments) {\n    setValidSegments({ ...EDITABLE_SEGMENTS });\n  }\n\n  // We keep track of the placeholder date separately in state so that onChange is not called\n  // until all segments are set. If the value === null (not undefined), then assume the component\n  // is controlled, so use the placeholder as the value until all segments are entered so it doesn't\n  // change from uncontrolled to controlled and emit a warning.\n  const [placeholderDate, setPlaceholderDate] = useState(\n    convertValue(props.placeholderDate) ||\n      new Date(new Date().getFullYear(), 0, 1),\n  );\n  const [date, setDate] = useControllableState<Date>({\n    value:\n      props.value === null\n        ? convertValue(placeholderDate)\n        : convertValue(props.value),\n    defaultValue: convertValue(props.defaultValue),\n    onChange: props.onChange,\n  });\n\n  // If all segments are valid, use the date from state, otherwise use the placeholder date.\n  const value =\n    Object.keys(validSegments).length >= numSegments ? date : placeholderDate;\n  const setValue = (value: Date) => {\n    if (Object.keys(validSegments).length >= numSegments) {\n      setDate(value);\n    } else {\n      setPlaceholderDate(value);\n    }\n  };\n\n  const segments = dateFormatter.formatToParts(value).map(\n    segment =>\n      ({\n        type: TYPE_MAPPING[segment.type] || segment.type,\n        text: segment.value,\n        ...getSegmentLimits(value, segment.type, resolvedOptions),\n        isPlaceholder: !validSegments[segment.type],\n      } as DateSegment),\n  );\n\n  const adjustSegment = (\n    type: Intl.DateTimeFormatPartTypes,\n    amount: number,\n  ) => {\n    validSegments[type] = true;\n    setValidSegments({ ...validSegments });\n    setValue(add(value, type, amount, resolvedOptions) as Date);\n  };\n\n  const segmentComposite = useCompositeState({ orientation: \"horizontal\" });\n\n  return {\n    ...segmentComposite,\n    fieldValue: value,\n    setFieldValue: setValue,\n    segments,\n    dateFormatter,\n    increment(part: Intl.DateTimeFormatPartTypes) {\n      adjustSegment(part, 1);\n    },\n    decrement(part: Intl.DateTimeFormatPartTypes) {\n      adjustSegment(part, -1);\n    },\n    incrementPage(part: Intl.DateTimeFormatPartTypes) {\n      adjustSegment(part, PAGE_STEP[part] || 1);\n    },\n    decrementPage(part: Intl.DateTimeFormatPartTypes) {\n      adjustSegment(part, -(PAGE_STEP[part] || 1));\n    },\n    setSegment(part: Intl.DateTimeFormatPartTypes, v: number) {\n      validSegments[part] = true;\n      setValidSegments({ ...validSegments });\n      // @ts-ignore\n      setValue(setSegment(value, part, v, resolvedOptions));\n    },\n    confirmPlaceholder(part: Intl.DateTimeFormatPartTypes) {\n      validSegments[part] = true;\n      setValidSegments({ ...validSegments });\n      setValue(new Date(value));\n    },\n  };\n}\n\nexport type SegmentStateReturn = ReturnType<typeof useSegmentState>;\n", "import { unstable_useId as useId } from \"reakit\";\n\nimport { SegmentHTMLProps, SegmentOptions, useSegment } from \"../segment\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { DATE_PICKER_SEGMENT_KEYS } from \"./__keys\";\nimport { DatePickerStateReturn } from \".\";\n\nexport type DatePickerSegmentOptions = SegmentOptions &\n  Partial<Pick<DatePickerStateReturn, \"pickerId\" | \"isDateRangePicker\">>;\n\nexport type DatePickerSegmentHTMLProps = SegmentHTMLProps;\n\nexport type DatePickerSegmentProps = DatePickerSegmentOptions &\n  DatePickerSegmentHTMLProps;\n\nexport const useDatePickerSegment = createHook<\n  DatePickerSegmentOptions,\n  DatePickerSegmentHTMLProps\n>({\n  name: \"DatePickerSegment\",\n  compose: useSegment,\n  keys: DATE_PICKER_SEGMENT_KEYS,\n\n  useProps(options, htmlProps) {\n    const { id } = useId({ baseId: \"datepicker-segment\" });\n    return {\n      id,\n      ...(options.isDateRangePicker\n        ? { \"aria-labelledby\": `${options.pickerId} ${options.baseId} ${id}` }\n        : { \"aria-labelledby\": id }),\n      ...htmlProps,\n    };\n  },\n});\n\nexport const DatePickerSegment = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useDatePickerSegment,\n});\n", "import {\n  SegmentFieldHTMLProps,\n  SegmentFieldOptions,\n  useSegmentField,\n} from \"../segment\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { DATE_PICKER_SEGMENT_FIELD_KEYS } from \"./__keys\";\nimport { DatePickerStateReturn } from \"./DatePickerState\";\nimport { DateRangePickerStateReturn } from \"./DateRangePickerState\";\n\nexport type DatePickerSegmentFieldOptions =\n  | SegmentFieldOptions\n  | Partial<DatePickerStateReturn>\n  | Partial<DateRangePickerStateReturn>;\n\nexport type DatePickerSegmentFieldHTMLProps = SegmentFieldHTMLProps;\n\nexport type DatePickerSegmentFieldProps = DatePickerSegmentFieldOptions &\n  DatePickerSegmentFieldHTMLProps;\n\nexport const useDatePickerSegmentField = createHook<\n  DatePickerSegmentFieldOptions,\n  DatePickerSegmentFieldHTMLProps\n>({\n  name: \"DatePickerSegmentField\",\n  compose: useSegmentField,\n  keys: DATE_PICKER_SEGMENT_FIELD_KEYS,\n});\n\nexport const DatePickerSegmentField = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useDatePickerSegmentField,\n});\n", "/**\n * All credit goes to [React Spectrum](https://github.com/adobe/react-spectrum)\n * We improved the Calendar from Stately [useDatePickerState](https://github.com/adobe/react-spectrum/blob/main/packages/%40react-stately/datepicker/src/useDatePickerState.ts)\n * to work with Reakit System\n */\n\nimport * as React from \"react\";\nimport { Validation, ValidationState, ValueBase } from \"@react-types/shared\";\n\nimport { useCalendarState } from \"../calendar\";\nimport { PickerBaseInitialState, usePickerBaseState } from \"../picker-base\";\nimport { SegmentInitialState, useSegmentState } from \"../segment\";\nimport { toUTCString, useControllableState } from \"../utils\";\nimport { RangeValueBase } from \"../utils/types\";\n\nexport type DatePickerInitialState = ValueBase<string> &\n  RangeValueBase<string> &\n  Validation &\n  PickerBaseInitialState &\n  Pick<Partial<SegmentInitialState>, \"formatOptions\" | \"placeholderDate\"> & {\n    /**\n     * Whether the element should receive focus on render.\n     */\n    autoFocus?: boolean;\n  };\n\nexport const useDatePickerState = (props: DatePickerInitialState = {}) => {\n  const {\n    value: initialValue,\n    defaultValue = toUTCString(new Date()),\n    onChange,\n    minValue,\n    maxValue,\n    isRequired,\n    autoFocus,\n    formatOptions,\n    placeholderDate,\n  } = props;\n\n  const [value, setValue] = useControllableState({\n    value: initialValue,\n    defaultValue,\n    onChange,\n  });\n\n  const date = new Date(value);\n  const setDate = (date: Date) => setValue(toUTCString(date));\n  const minDateValue = minValue ? new Date(minValue) : new Date(-864e13);\n  const maxDateValue = maxValue ? new Date(maxValue) : new Date(864e13);\n\n  const segmentState = useSegmentState({\n    value: date,\n    onChange: setDate,\n    formatOptions,\n    placeholderDate,\n  });\n\n  const popover = usePickerBaseState({\n    segmentFocus: segmentState.first,\n    ...props,\n  });\n\n  const selectDate = (newValue: string) => {\n    setValue(newValue);\n    popover.hide();\n  };\n\n  const calendar = useCalendarState({\n    value,\n    onChange: selectDate,\n    minValue: minValue,\n    maxValue: maxValue,\n  });\n\n  const validationState: ValidationState =\n    props.validationState || (isInvalidDateRange(date) ? \"invalid\" : \"valid\");\n\n  React.useEffect(() => {\n    if (popover.visible) {\n      calendar.setFocused(true);\n      calendar.focusCell(date);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [popover.visible]);\n\n  React.useEffect(() => {\n    if (autoFocus) {\n      segmentState.first();\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [autoFocus, segmentState.first]);\n\n  function isInvalidDateRange(value: Date) {\n    const min = new Date(minDateValue);\n    const max = new Date(maxDateValue);\n\n    return value < min || value > max;\n  }\n\n  return {\n    dateValue: value,\n    setDateValue: setValue,\n    selectDate,\n    validationState,\n    minValue,\n    maxValue,\n    isRequired,\n    ...popover,\n    ...segmentState,\n    calendar,\n    isDateRangePicker: false,\n  };\n};\n\nexport type DatePickerStateReturn = ReturnType<typeof useDatePickerState>;\n", "import {\n  PickerBaseTriggerHTMLProps,\n  PickerBaseTriggerOptions,\n  usePickerBaseTrigger,\n} from \"../picker-base\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { DATE_PICKER_TRIGGER_KEYS } from \"./__keys\";\n\nexport type DatePickerTriggerOptions = PickerBaseTriggerOptions;\n\nexport type DatePickerTriggerHTMLProps = PickerBaseTriggerHTMLProps;\n\nexport type DatePickerTriggerProps = DatePickerTriggerOptions &\n  DatePickerTriggerHTMLProps;\n\nexport const useDatePickerTrigger = createHook<\n  DatePickerTriggerOptions,\n  DatePickerTriggerHTMLProps\n>({\n  name: \"DatePickerTrigger\",\n  compose: usePickerBaseTrigger,\n  keys: DATE_PICKER_TRIGGER_KEYS,\n});\n\nexport const DatePickerTrigger = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useDatePickerTrigger,\n});\n", "/**\n * All credit goes to [React Spectrum](https://github.com/adobe/react-spectrum)\n * We improved the Calendar from Stately [useDatePickerState](https://github.com/adobe/react-spectrum/blob/main/packages/%40react-stately/datepicker/src/useDatePickerState.ts)\n * to work with Reakit System\n */\n\nimport * as React from \"react\";\nimport { unstable_useId as useId, useCompositeState } from \"reakit\";\nimport {\n  RangeValue,\n  Validation,\n  ValidationState,\n  ValueBase,\n} from \"@react-types/shared\";\n\nimport { useRangeCalendarState } from \"../calendar\";\nimport { makeRange } from \"../calendar/helpers\";\nimport { PickerBaseInitialState, usePickerBaseState } from \"../picker-base\";\nimport { SegmentInitialState, useSegmentState } from \"../segment\";\nimport {\n  addDays,\n  toUTCRangeString,\n  toUTCString,\n  useControllableState,\n} from \"../utils\";\nimport { RangeValueBase } from \"../utils/types\";\n\nexport type DateRangePickerInitialState = ValueBase<RangeValue<string>> &\n  RangeValueBase<string> &\n  Validation &\n  PickerBaseInitialState &\n  Pick<Partial<SegmentInitialState>, \"formatOptions\" | \"placeholderDate\"> & {\n    /**\n     * Whether the element should receive focus on render.\n     */\n    autoFocus?: boolean;\n  };\n\nexport const useDateRangePickerState = (\n  props: DateRangePickerInitialState = {},\n) => {\n  const {\n    value: initialValue,\n    defaultValue = {\n      start: toUTCString(new Date()),\n      end: toUTCString(addDays(new Date(), 1)),\n    },\n    onChange,\n    minValue,\n    maxValue,\n    isRequired,\n    autoFocus,\n    formatOptions,\n    placeholderDate,\n  } = props;\n\n  const [value, setValue] = useControllableState({\n    value: initialValue,\n    defaultValue,\n    onChange,\n  });\n\n  const dateRange: RangeValue<Date> = React.useMemo(\n    () => ({\n      start: new Date(value.start),\n      end: new Date(value.end),\n    }),\n    [value.end, value.start],\n  );\n  const minDateValue = minValue ? new Date(minValue) : new Date(-864e13);\n  const maxDateValue = maxValue ? new Date(maxValue) : new Date(864e13);\n\n  const selectDate = (date: RangeValue<string>) => {\n    if (props.isReadOnly || props.isDisabled) {\n      return;\n    }\n\n    setValue(\n      toUTCRangeString(makeRange(new Date(date.start), new Date(date.end))),\n    );\n\n    popover.hide();\n  };\n\n  const segmentComposite = useCompositeState({ orientation: \"horizontal\" });\n\n  const startSegmentState = useSegmentState({\n    value: dateRange.start,\n    defaultValue: new Date(defaultValue.start),\n    onChange: date =>\n      setValue(toUTCRangeString({ start: date, end: dateRange.end })),\n    formatOptions,\n    placeholderDate,\n  });\n\n  const endSegmentState = useSegmentState({\n    value: dateRange.end,\n    defaultValue: new Date(defaultValue.end),\n    onChange: date =>\n      setValue(toUTCRangeString({ start: dateRange.start, end: date })),\n    formatOptions,\n    placeholderDate,\n  });\n\n  const popover = usePickerBaseState({\n    segmentFocus: segmentComposite.first,\n    ...props,\n  });\n\n  const calendar = useRangeCalendarState({\n    value: { start: value.start, end: value.end },\n    onChange: selectDate,\n    minValue: minValue,\n    maxValue: maxValue,\n  });\n\n  function isInvalidDateRange(value: Date) {\n    const min = new Date(minDateValue);\n    const max = new Date(maxDateValue);\n\n    return value < min || value > max;\n  }\n\n  const isStartInRange = isInvalidDateRange(dateRange.start);\n  const isEndInRange = isInvalidDateRange(dateRange.end);\n\n  const validationState: ValidationState =\n    props.validationState ||\n    (value != null &&\n    (isStartInRange ||\n      isEndInRange ||\n      (value.end != null && value.start != null && value.end < value.start))\n      ? \"invalid\"\n      : \"valid\");\n\n  React.useEffect(() => {\n    if (popover.visible) {\n      calendar.setFocused(true);\n      value.start && calendar.focusCell(new Date(value.start));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [popover.visible]);\n\n  React.useEffect(() => {\n    if (autoFocus) {\n      segmentComposite.first();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [autoFocus, segmentComposite.first]);\n\n  const { id: startId } = useId({ baseId: \"startsegment\" });\n  const { id: endId } = useId({ baseId: \"endsegment\" });\n\n  return {\n    dateValue: value,\n    setDateValue: setValue,\n    selectDate,\n    validationState,\n    minValue,\n    maxValue,\n    isRequired,\n    ...popover,\n    startSegmentState: {\n      ...startSegmentState,\n      ...segmentComposite,\n      baseId: startId,\n    },\n    endSegmentState: {\n      ...endSegmentState,\n      ...segmentComposite,\n      baseId: endId,\n    },\n    calendar,\n    isDateRangePicker: true,\n  };\n};\n\nexport type DateRangePickerStateReturn = ReturnType<\n  typeof useDateRangePickerState\n>;\n", "// Automatically generated\nexport const USE_DIALOG_STATE_KEYS = [\n  \"baseId\",\n  \"visible\",\n  \"defaultVisible\",\n  \"onVisibleChange\",\n  \"modal\",\n] as const;\nexport const DIALOG_STATE_KEYS = [\n  \"baseId\",\n  \"unstable_idCountRef\",\n  \"visible\",\n  \"setBaseId\",\n  \"show\",\n  \"hide\",\n  \"toggle\",\n  \"setVisible\",\n  \"modal\",\n  \"disclosureRef\",\n  \"setModal\",\n] as const;\nexport const DIALOG_KEYS = [\n  ...DIALOG_STATE_KEYS,\n  \"hideOnEsc\",\n  \"hideOnClickOutside\",\n  \"preventBodyScroll\",\n  \"unstable_initialFocusRef\",\n  \"unstable_finalFocusRef\",\n  \"unstable_orphan\",\n  \"unstable_autoFocusOnShow\",\n  \"unstable_autoFocusOnHide\",\n] as const;\nexport const DIALOG_BACKDROP_KEYS = [\n  ...DIALOG_STATE_KEYS,\n  \"preventBodyScroll\",\n] as const;\nexport const DIALOG_DISCLOSURE_KEYS = DIALOG_STATE_KEYS;\n", "import * as React from \"react\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { createComponent, createHook, useCreateElement } from \"reakit-system\";\nimport { Portal } from \"reakit\";\nimport { useForkRef, useLiveRef } from \"reakit-utils\";\nimport { useWarning, warning } from \"reakit-warning\";\n\nimport {\n  DisclosureContentHTMLProps,\n  DisclosureContentOptions,\n  useDisclosureContent,\n} from \"../disclosure\";\n\nimport { DIALOG_KEYS } from \"./__keys\";\nimport { DialogStateReturn } from \"./DialogState\";\nimport {\n  DialogBackdropContext,\n  useDisableHoverOutside,\n  useDisclosureRef,\n  useFocusOnBlur,\n  useFocusOnChildUnmount,\n  useFocusOnHide,\n  useFocusOnShow,\n  useFocusTrap,\n  useHideOnClickOutside,\n  useNestedDialogs,\n} from \"./helpers\";\n\nexport type DialogOptions = DisclosureContentOptions &\n  Pick<Partial<DialogStateReturn>, \"modal\" | \"hide\" | \"disclosureRef\"> &\n  Pick<DialogStateReturn, \"baseId\"> & {\n    /**\n     * When enabled, user can hide the dialog by pressing `Escape`.\n     */\n    hideOnEsc?: boolean;\n\n    /**\n     * When enabled, user can hide the dialog by clicking outside it.\n     */\n    hideOnClickOutside?: boolean;\n\n    /**\n     * When enabled, user can't scroll on body when the dialog is visible.\n     * This option doesn't work if the dialog isn't modal.\n     */\n    preventBodyScroll?: boolean;\n\n    /**\n     * The element that will be focused when the dialog shows.\n     * When not set, the first tabbable element within the dialog will be used.\n     */\n    unstable_initialFocusRef?: React.RefObject<HTMLElement>;\n\n    /**\n     * The element that will be focused when the dialog hides.\n     * When not set, the disclosure component will be used.\n     */\n    unstable_finalFocusRef?: React.RefObject<HTMLElement>;\n\n    /**\n     * Whether or not the dialog should be a child of its parent.\n     * Opening a nested orphan dialog will close its parent dialog if\n     * `hideOnClickOutside` is set to `true` on the parent.\n     * It will be set to `false` if `modal` is `false`.\n     */\n    unstable_orphan?: boolean;\n\n    /**\n     * Whether or not to move focus when the dialog shows.\n     * @private\n     */\n    unstable_autoFocusOnShow?: boolean;\n\n    /**\n     * Whether or not to move focus when the dialog hides.\n     * @private\n     */\n    unstable_autoFocusOnHide?: boolean;\n  };\n\nexport type DialogHTMLProps = DisclosureContentHTMLProps;\n\nexport type DialogProps = DialogOptions & DialogHTMLProps;\n\nexport const useDialog = createHook<DialogOptions, DialogHTMLProps>({\n  name: \"Dialog\",\n  compose: useDisclosureContent,\n  keys: DIALOG_KEYS,\n\n  useOptions(options) {\n    const {\n      modal = true,\n      hideOnEsc = true,\n      hideOnClickOutside = true,\n      preventBodyScroll = modal,\n      unstable_autoFocusOnShow = true,\n      unstable_autoFocusOnHide = true,\n      unstable_orphan,\n      ...restOptions\n    } = options;\n\n    return {\n      modal,\n      hideOnEsc,\n      hideOnClickOutside,\n      preventBodyScroll: modal && preventBodyScroll,\n      unstable_autoFocusOnShow,\n      unstable_autoFocusOnHide,\n      unstable_orphan: modal && unstable_orphan,\n      ...restOptions,\n    };\n  },\n\n  useProps(options, htmlProps) {\n    const {\n      preventBodyScroll,\n      baseId,\n      hideOnEsc,\n      hide,\n      modal: optionsModal,\n    } = options;\n    const {\n      ref: htmlRef,\n      onKeyDown: htmlOnKeyDown,\n      onBlur: htmlOnBlur,\n      wrapElement: htmlWrapElement,\n      tabIndex,\n      ...restHtmlProps\n    } = htmlProps;\n    const dialog = React.useRef<HTMLElement>(null);\n    const backdrop = React.useContext(DialogBackdropContext);\n    const hasBackdrop = backdrop && backdrop === baseId;\n    const disclosure = useDisclosureRef(dialog, options);\n    const onKeyDownRef = useLiveRef(htmlOnKeyDown);\n    const onBlurRef = useLiveRef(htmlOnBlur);\n    const focusOnBlur = useFocusOnBlur(dialog, options);\n    const { dialogs, visibleModals, wrap } = useNestedDialogs(dialog, options);\n    // VoiceOver/Safari accepts only one `aria-modal` container, so if there\n    // are visible child modals, then we don't want to set aria-modal on the\n    // parent modal (this component).\n    const modal = optionsModal && !visibleModals.length ? true : undefined;\n\n    useFocusTrap(dialog, visibleModals, options);\n    useFocusOnChildUnmount(dialog, options);\n    useFocusOnShow(dialog, dialogs, options);\n    useFocusOnHide(dialog, disclosure, options);\n    useHideOnClickOutside(dialog, disclosure, dialogs, options);\n    useDisableHoverOutside(dialog, dialogs, options);\n\n    const onKeyDown = React.useCallback(\n      (event: React.KeyboardEvent) => {\n        onKeyDownRef.current?.(event);\n\n        if (event.defaultPrevented) return;\n        if (event.key !== \"Escape\") return;\n        if (!hideOnEsc) return;\n        if (!hide) {\n          warning(\n            true,\n            \"`hideOnEsc` prop is truthy, but `hide` prop wasn't provided.\",\n            dialog.current,\n          );\n          return;\n        }\n        event.stopPropagation();\n\n        hide();\n      },\n      [onKeyDownRef, hideOnEsc, hide],\n    );\n\n    const onBlur = React.useCallback(\n      (event: React.FocusEvent<HTMLElement>) => {\n        onBlurRef.current?.(event);\n\n        focusOnBlur(event);\n      },\n      [focusOnBlur, onBlurRef],\n    );\n\n    const wrapElement = React.useCallback(\n      (element: React.ReactNode) => {\n        element = wrap(element);\n\n        if (optionsModal && !hasBackdrop) {\n          if (preventBodyScroll) {\n            element = (\n              <Portal>\n                <RemoveScroll>{element}</RemoveScroll>\n              </Portal>\n            );\n          } else {\n            element = <Portal>{element}</Portal>;\n          }\n        }\n\n        if (htmlWrapElement) {\n          element = htmlWrapElement(element);\n        }\n\n        // return (\n        //   // Prevents Menu > Dialog > Menu to behave as a sub menu\n        //   <MenuContext.Provider value={null}>{element}</MenuContext.Provider>\n        // );\n        return element;\n      },\n      [wrap, optionsModal, hasBackdrop, htmlWrapElement, preventBodyScroll],\n    );\n\n    return {\n      ref: useForkRef(dialog, htmlRef),\n      role: \"dialog\",\n      tabIndex: tabIndex ?? -1,\n      \"aria-modal\": modal,\n      \"data-dialog\": true,\n      onKeyDown,\n      onBlur,\n      wrapElement,\n      ...restHtmlProps,\n    };\n  },\n});\n\nexport const Dialog = createComponent({\n  as: \"div\",\n  useHook: useDialog,\n  useCreateElement: (type, props, children) => {\n    useWarning(\n      !props[\"aria-label\"] && !props[\"aria-labelledby\"],\n      \"You should provide either `aria-label` or `aria-labelledby` props.\",\n    );\n    return useCreateElement(type, props, children);\n  },\n});\n", "import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScroll } from './UI';\nimport SideCar from './sidecar';\nvar ReactRemoveScroll = React.forwardRef(function (props, ref) { return (React.createElement(RemoveScroll, __assign({}, props, { ref: ref, sideCar: SideCar }))); });\nReactRemoveScroll.classNames = RemoveScroll.classNames;\nexport default ReactRemoveScroll;\n", "import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { fullWidthClassName, zeroRightClassName } from 'react-remove-scroll-bar/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { effectCar } from './medium';\nvar nothing = function () {\n    return;\n};\n/**\n * Removes scrollbar from the page and contain the scroll within the Lock\n */\nvar RemoveScroll = React.forwardRef(function (props, parentRef) {\n    var ref = React.useRef(null);\n    var _a = React.useState({\n        onScrollCapture: nothing,\n        onWheelCapture: nothing,\n        onTouchMoveCapture: nothing,\n    }), callbacks = _a[0], setCallbacks = _a[1];\n    var forwardProps = props.forwardProps, children = props.children, className = props.className, removeScrollBar = props.removeScrollBar, enabled = props.enabled, shards = props.shards, sideCar = props.sideCar, noIsolation = props.noIsolation, inert = props.inert, allowPinchZoom = props.allowPinchZoom, _b = props.as, Container = _b === void 0 ? 'div' : _b, rest = __rest(props, [\"forwardProps\", \"children\", \"className\", \"removeScrollBar\", \"enabled\", \"shards\", \"sideCar\", \"noIsolation\", \"inert\", \"allowPinchZoom\", \"as\"]);\n    var SideCar = sideCar;\n    var containerRef = useMergeRefs([ref, parentRef]);\n    var containerProps = __assign(__assign({}, rest), callbacks);\n    return (React.createElement(React.Fragment, null,\n        enabled && (React.createElement(SideCar, { sideCar: effectCar, removeScrollBar: removeScrollBar, shards: shards, noIsolation: noIsolation, inert: inert, setCallbacks: setCallbacks, allowPinchZoom: !!allowPinchZoom, lockRef: ref })),\n        forwardProps ? (React.cloneElement(React.Children.only(children), __assign(__assign({}, containerProps), { ref: containerRef }))) : (React.createElement(Container, __assign({}, containerProps, { className: className, ref: containerRef }), children))));\n});\nRemoveScroll.defaultProps = {\n    enabled: true,\n    removeScrollBar: true,\n    inert: false,\n};\nRemoveScroll.classNames = {\n    fullWidth: fullWidthClassName,\n    zeroRight: zeroRightClassName,\n};\nexport { RemoveScroll };\n", "export var zeroRightClassName = 'right-scroll-bar-position';\nexport var fullWidthClassName = 'width-before-scroll-bar';\nexport var noScrollbarsClassName = 'with-scroll-bars-hidden';\n/**\n * Name of a CSS variable containing the amount of \"hidden\" scrollbar\n * ! might be undefined ! use will fallback!\n */\nexport var removedBarSizeVariable = '--removed-body-scroll-bar-size';\n", "/**\n * Assigns a value for a given ref, no matter of the ref format\n * @param {RefObject} ref - a callback function or ref object\n * @param value - a new value\n *\n * @see https://github.com/theKashey/use-callback-ref#assignref\n * @example\n * const refObject = useRef();\n * const refFn = (ref) => {....}\n *\n * assignRef(refObject, \"refValue\");\n * assignRef(refFn, \"refValue\");\n */\nexport function assignRef(ref, value) {\n    if (typeof ref === 'function') {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n    return ref;\n}\n", "import { useState } from 'react';\n/**\n * creates a MutableRef with ref change callback\n * @param initialValue - initial ref value\n * @param {Function} callback - a callback to run when value changes\n *\n * @example\n * const ref = useCallbackRef(0, (newValue, oldValue) => console.log(oldValue, '->', newValue);\n * ref.current = 1;\n * // prints 0 -> 1\n *\n * @see https://reactjs.org/docs/hooks-reference.html#useref\n * @see https://github.com/theKashey/use-callback-ref#usecallbackref---to-replace-reactuseref\n * @returns {MutableRefObject}\n */\nexport function useCallbackRef(initialValue, callback) {\n    var ref = useState(function () { return ({\n        // value\n        value: initialValue,\n        // last callback\n        callback: callback,\n        // \"memoized\" public interface\n        facade: {\n            get current() {\n                return ref.value;\n            },\n            set current(value) {\n                var last = ref.value;\n                if (last !== value) {\n                    ref.value = value;\n                    ref.callback(value, last);\n                }\n            },\n        },\n    }); })[0];\n    // update callback\n    ref.callback = callback;\n    return ref.facade;\n}\n", "import { assignRef } from './assignRef';\nimport { useCallbackRef } from './useRef';\n/**\n * Merges two or more refs together providing a single interface to set their value\n * @param {RefObject|Ref} refs\n * @returns {MutableRefObject} - a new ref, which translates all changes to {refs}\n *\n * @see {@link mergeRefs} a version without buit-in memoization\n * @see https://github.com/theKashey/use-callback-ref#usemergerefs\n * @example\n * const Component = React.forwardRef((props, ref) => {\n *   const ownRef = useRef();\n *   const domRef = useMergeRefs([ref, ownRef]); //  merge together\n *   return <div ref={domRef}>...</div>\n * }\n */\nexport function useMergeRefs(refs, defaultValue) {\n    return useCallbackRef(defaultValue || null, function (newValue) { return refs.forEach(function (ref) { return assignRef(ref, newValue); }); });\n}\n", "import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { useSidecar } from './hook';\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function sidecar(importer, errorComponent) {\n    var ErrorCase = function () { return errorComponent; };\n    return function Sidecar(props) {\n        var _a = useSidecar(importer, props.sideCar), Car = _a[0], error = _a[1];\n        if (error && errorComponent) {\n            return ErrorCase;\n        }\n        // @ts-expect-error type shenanigans\n        return Car ? React.createElement(Car, __assign({}, props)) : null;\n    };\n}\n", "import { useState, useEffect } from 'react';\nimport { env } from './env';\nvar cache = new WeakMap();\nvar NO_OPTIONS = {};\nexport function useSidecar(importer, effect) {\n    var options = (effect && effect.options) || NO_OPTIONS;\n    if (env.isNode && !options.ssr) {\n        return [null, null];\n    }\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    return useRealSidecar(importer, effect);\n}\nfunction useRealSidecar(importer, effect) {\n    var options = (effect && effect.options) || NO_OPTIONS;\n    var couldUseCache = env.forceCache || (env.isNode && !!options.ssr) || !options.async;\n    var _a = useState(couldUseCache ? function () { return cache.get(importer); } : undefined), Car = _a[0], setCar = _a[1];\n    var _b = useState(null), error = _b[0], setError = _b[1];\n    useEffect(function () {\n        if (!Car) {\n            importer().then(function (car) {\n                var resolved = effect ? effect.read() : car.default || car;\n                if (!resolved) {\n                    console.error('Sidecar error: with importer', importer);\n                    var error_1;\n                    if (effect) {\n                        console.error('Sidecar error: with medium', effect);\n                        error_1 = new Error('Sidecar medium was not found');\n                    }\n                    else {\n                        error_1 = new Error('Sidecar was not found in exports');\n                    }\n                    setError(function () { return error_1; });\n                    throw error_1;\n                }\n                cache.set(importer, resolved);\n                setCar(function () { return resolved; });\n            }, function (e) { return setError(function () { return e; }); });\n        }\n    }, []);\n    return [Car, error];\n}\n", "import { __assign } from \"tslib\";\nfunction ItoI(a) {\n    return a;\n}\nfunction innerCreateMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    var buffer = [];\n    var assigned = false;\n    var medium = {\n        read: function () {\n            if (assigned) {\n                throw new Error('Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.');\n            }\n            if (buffer.length) {\n                return buffer[buffer.length - 1];\n            }\n            return defaults;\n        },\n        useMedium: function (data) {\n            var item = middleware(data, assigned);\n            buffer.push(item);\n            return function () {\n                buffer = buffer.filter(function (x) { return x !== item; });\n            };\n        },\n        assignSyncMedium: function (cb) {\n            assigned = true;\n            while (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n            }\n            buffer = {\n                push: function (x) { return cb(x); },\n                filter: function () { return buffer; },\n            };\n        },\n        assignMedium: function (cb) {\n            assigned = true;\n            var pendingQueue = [];\n            if (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n                pendingQueue = buffer;\n            }\n            var executeQueue = function () {\n                var cbs = pendingQueue;\n                pendingQueue = [];\n                cbs.forEach(cb);\n            };\n            var cycle = function () { return Promise.resolve().then(executeQueue); };\n            cycle();\n            buffer = {\n                push: function (x) {\n                    pendingQueue.push(x);\n                    cycle();\n                },\n                filter: function (filter) {\n                    pendingQueue = pendingQueue.filter(filter);\n                    return buffer;\n                },\n            };\n        },\n    };\n    return medium;\n}\nexport function createMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    return innerCreateMedium(defaults, middleware);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function createSidecarMedium(options) {\n    if (options === void 0) { options = {}; }\n    var medium = innerCreateMedium(null);\n    medium.options = __assign({ async: true, ssr: false }, options);\n    return medium;\n}\n", "import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { useState, useCallback, useEffect, useLayoutEffect } from 'react';\nexport function renderCar(WrappedComponent, defaults) {\n    function State(_a) {\n        var stateRef = _a.stateRef, props = _a.props;\n        var renderTarget = useCallback(function SideTarget() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            useLayoutEffect(function () {\n                stateRef.current(args);\n            });\n            return null;\n        }, []);\n        // @ts-ignore\n        return React.createElement(WrappedComponent, __assign({}, props, { children: renderTarget }));\n    }\n    var Children = React.memo(function (_a) {\n        var stateRef = _a.stateRef, defaultState = _a.defaultState, children = _a.children;\n        var _b = useState(defaultState.current), state = _b[0], setState = _b[1];\n        useEffect(function () {\n            stateRef.current = setState;\n        }, []);\n        return children.apply(void 0, state);\n    }, function () { return true; });\n    return function Combiner(props) {\n        var defaultState = React.useRef(defaults(props));\n        var ref = React.useRef(function (state) { return (defaultState.current = state); });\n        return (React.createElement(React.Fragment, null,\n            React.createElement(State, { stateRef: ref, props: props }),\n            React.createElement(Children, { stateRef: ref, defaultState: defaultState, children: props.children })));\n    };\n}\n", "import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nvar SideCar = function (_a) {\n    var sideCar = _a.sideCar, rest = __rest(_a, [\"sideCar\"]);\n    if (!sideCar) {\n        throw new Error('Sidecar: please provide `sideCar` property to import the right car');\n    }\n    var Target = sideCar.read();\n    if (!Target) {\n        throw new Error('Sidecar medium not found');\n    }\n    return React.createElement(Target, __assign({}, rest));\n};\nSideCar.isSideCarExport = true;\nexport function exportSidecar(medium, exported) {\n    medium.useMedium(exported);\n    return SideCar;\n}\n", "import { createSidecarMedium } from 'use-sidecar';\nexport var effectCar = createSidecarMedium();\n", "import { __spreadArray } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScrollBar } from 'react-remove-scroll-bar';\nimport { styleSingleton } from 'react-style-singleton';\nimport { nonPassive } from './aggresiveCapture';\nimport { handleScroll, locationCouldBeScrolled } from './handleScroll';\nexport var getTouchXY = function (event) {\n    return 'changedTouches' in event ? [event.changedTouches[0].clientX, event.changedTouches[0].clientY] : [0, 0];\n};\nexport var getDeltaXY = function (event) { return [event.deltaX, event.deltaY]; };\nvar extractRef = function (ref) {\n    return ref && 'current' in ref ? ref.current : ref;\n};\nvar deltaCompare = function (x, y) { return x[0] === y[0] && x[1] === y[1]; };\nvar generateStyle = function (id) { return \"\\n  .block-interactivity-\".concat(id, \" {pointer-events: none;}\\n  .allow-interactivity-\").concat(id, \" {pointer-events: all;}\\n\"); };\nvar idCounter = 0;\nvar lockStack = [];\nexport function RemoveScrollSideCar(props) {\n    var shouldPreventQueue = React.useRef([]);\n    var touchStartRef = React.useRef([0, 0]);\n    var activeAxis = React.useRef();\n    var id = React.useState(idCounter++)[0];\n    var Style = React.useState(function () { return styleSingleton(); })[0];\n    var lastProps = React.useRef(props);\n    React.useEffect(function () {\n        lastProps.current = props;\n    }, [props]);\n    React.useEffect(function () {\n        if (props.inert) {\n            document.body.classList.add(\"block-interactivity-\".concat(id));\n            var allow_1 = __spreadArray([props.lockRef.current], (props.shards || []).map(extractRef), true).filter(Boolean);\n            allow_1.forEach(function (el) { return el.classList.add(\"allow-interactivity-\".concat(id)); });\n            return function () {\n                document.body.classList.remove(\"block-interactivity-\".concat(id));\n                allow_1.forEach(function (el) { return el.classList.remove(\"allow-interactivity-\".concat(id)); });\n            };\n        }\n        return;\n    }, [props.inert, props.lockRef.current, props.shards]);\n    var shouldCancelEvent = React.useCallback(function (event, parent) {\n        if ('touches' in event && event.touches.length === 2) {\n            return !lastProps.current.allowPinchZoom;\n        }\n        var touch = getTouchXY(event);\n        var touchStart = touchStartRef.current;\n        var deltaX = 'deltaX' in event ? event.deltaX : touchStart[0] - touch[0];\n        var deltaY = 'deltaY' in event ? event.deltaY : touchStart[1] - touch[1];\n        var currentAxis;\n        var target = event.target;\n        var moveDirection = Math.abs(deltaX) > Math.abs(deltaY) ? 'h' : 'v';\n        // allow horizontal touch move on Range inputs. They will not cause any scroll\n        if ('touches' in event && moveDirection === 'h' && target.type === 'range') {\n            return false;\n        }\n        var canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n        if (!canBeScrolledInMainDirection) {\n            return true;\n        }\n        if (canBeScrolledInMainDirection) {\n            currentAxis = moveDirection;\n        }\n        else {\n            currentAxis = moveDirection === 'v' ? 'h' : 'v';\n            canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n            // other axis might be not scrollable\n        }\n        if (!canBeScrolledInMainDirection) {\n            return false;\n        }\n        if (!activeAxis.current && 'changedTouches' in event && (deltaX || deltaY)) {\n            activeAxis.current = currentAxis;\n        }\n        if (!currentAxis) {\n            return true;\n        }\n        var cancelingAxis = activeAxis.current || currentAxis;\n        return handleScroll(cancelingAxis, parent, event, cancelingAxis === 'h' ? deltaX : deltaY, true);\n    }, []);\n    var shouldPrevent = React.useCallback(function (_event) {\n        var event = _event;\n        if (!lockStack.length || lockStack[lockStack.length - 1] !== Style) {\n            // not the last active\n            return;\n        }\n        var delta = 'deltaY' in event ? getDeltaXY(event) : getTouchXY(event);\n        var sourceEvent = shouldPreventQueue.current.filter(function (e) { return e.name === event.type && e.target === event.target && deltaCompare(e.delta, delta); })[0];\n        // self event, and should be canceled\n        if (sourceEvent && sourceEvent.should) {\n            if (event.cancelable) {\n                event.preventDefault();\n            }\n            return;\n        }\n        // outside or shard event\n        if (!sourceEvent) {\n            var shardNodes = (lastProps.current.shards || [])\n                .map(extractRef)\n                .filter(Boolean)\n                .filter(function (node) { return node.contains(event.target); });\n            var shouldStop = shardNodes.length > 0 ? shouldCancelEvent(event, shardNodes[0]) : !lastProps.current.noIsolation;\n            if (shouldStop) {\n                if (event.cancelable) {\n                    event.preventDefault();\n                }\n            }\n        }\n    }, []);\n    var shouldCancel = React.useCallback(function (name, delta, target, should) {\n        var event = { name: name, delta: delta, target: target, should: should };\n        shouldPreventQueue.current.push(event);\n        setTimeout(function () {\n            shouldPreventQueue.current = shouldPreventQueue.current.filter(function (e) { return e !== event; });\n        }, 1);\n    }, []);\n    var scrollTouchStart = React.useCallback(function (event) {\n        touchStartRef.current = getTouchXY(event);\n        activeAxis.current = undefined;\n    }, []);\n    var scrollWheel = React.useCallback(function (event) {\n        shouldCancel(event.type, getDeltaXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    var scrollTouchMove = React.useCallback(function (event) {\n        shouldCancel(event.type, getTouchXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    React.useEffect(function () {\n        lockStack.push(Style);\n        props.setCallbacks({\n            onScrollCapture: scrollWheel,\n            onWheelCapture: scrollWheel,\n            onTouchMoveCapture: scrollTouchMove,\n        });\n        document.addEventListener('wheel', shouldPrevent, nonPassive);\n        document.addEventListener('touchmove', shouldPrevent, nonPassive);\n        document.addEventListener('touchstart', scrollTouchStart, nonPassive);\n        return function () {\n            lockStack = lockStack.filter(function (inst) { return inst !== Style; });\n            document.removeEventListener('wheel', shouldPrevent, nonPassive);\n            document.removeEventListener('touchmove', shouldPrevent, nonPassive);\n            document.removeEventListener('touchstart', scrollTouchStart, nonPassive);\n        };\n    }, []);\n    var removeScrollBar = props.removeScrollBar, inert = props.inert;\n    return (React.createElement(React.Fragment, null,\n        inert ? React.createElement(Style, { styles: generateStyle(id) }) : null,\n        removeScrollBar ? React.createElement(RemoveScrollBar, { gapMode: \"margin\" }) : null));\n}\n", "import * as React from 'react';\nimport { styleSingleton } from 'react-style-singleton';\nimport { fullWidthClassName, zeroRightClassName, noScrollbarsClassName, removedBarSizeVariable } from './constants';\nimport { getGapWidth } from './utils';\nvar Style = styleSingleton();\n// important tip - once we measure scrollBar width and remove them\n// we could not repeat this operation\n// thus we are using style-singleton - only the first \"yet correct\" style will be applied.\nvar getStyles = function (_a, allowRelative, gapMode, important) {\n    var left = _a.left, top = _a.top, right = _a.right, gap = _a.gap;\n    if (gapMode === void 0) { gapMode = 'margin'; }\n    return \"\\n  .\".concat(noScrollbarsClassName, \" {\\n   overflow: hidden \").concat(important, \";\\n   padding-right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  body {\\n    overflow: hidden \").concat(important, \";\\n    overscroll-behavior: contain;\\n    \").concat([\n        allowRelative && \"position: relative \".concat(important, \";\"),\n        gapMode === 'margin' &&\n            \"\\n    padding-left: \".concat(left, \"px;\\n    padding-top: \").concat(top, \"px;\\n    padding-right: \").concat(right, \"px;\\n    margin-left:0;\\n    margin-top:0;\\n    margin-right: \").concat(gap, \"px \").concat(important, \";\\n    \"),\n        gapMode === 'padding' && \"padding-right: \".concat(gap, \"px \").concat(important, \";\"),\n    ]\n        .filter(Boolean)\n        .join(''), \"\\n  }\\n  \\n  .\").concat(zeroRightClassName, \" {\\n    right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  \\n  .\").concat(fullWidthClassName, \" {\\n    margin-right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  \\n  .\").concat(zeroRightClassName, \" .\").concat(zeroRightClassName, \" {\\n    right: 0 \").concat(important, \";\\n  }\\n  \\n  .\").concat(fullWidthClassName, \" .\").concat(fullWidthClassName, \" {\\n    margin-right: 0 \").concat(important, \";\\n  }\\n  \\n  body {\\n    \").concat(removedBarSizeVariable, \": \").concat(gap, \"px;\\n  }\\n\");\n};\n/**\n * Removes page scrollbar and blocks page scroll when mounted\n */\nexport var RemoveScrollBar = function (props) {\n    var noRelative = props.noRelative, noImportant = props.noImportant, _a = props.gapMode, gapMode = _a === void 0 ? 'margin' : _a;\n    var gap = React.useMemo(function () { return getGapWidth(gapMode); }, [gapMode]);\n    return React.createElement(Style, { styles: getStyles(gap, !noRelative, gapMode, !noImportant ? '!important' : '') });\n};\n", "import * as React from 'react';\nimport { stylesheetSingleton } from './singleton';\n/**\n * creates a hook to control style singleton\n * @see {@link styleSingleton} for a safer component version\n * @example\n * ```tsx\n * const useStyle = styleHookSingleton();\n * ///\n * useStyle('body { overflow: hidden}');\n */\nexport var styleHookSingleton = function () {\n    var sheet = stylesheetSingleton();\n    return function (styles, isDynamic) {\n        React.useEffect(function () {\n            sheet.add(styles);\n            return function () {\n                sheet.remove();\n            };\n        }, [styles && isDynamic]);\n    };\n};\n", "var currentNonce;\nexport var setNonce = function (nonce) {\n    currentNonce = nonce;\n};\nexport var getNonce = function () {\n    if (currentNonce) {\n        return currentNonce;\n    }\n    if (typeof __webpack_nonce__ !== 'undefined') {\n        return __webpack_nonce__;\n    }\n    return undefined;\n};\n", "import { getNonce } from 'get-nonce';\nfunction makeStyleTag() {\n    if (!document)\n        return null;\n    var tag = document.createElement('style');\n    tag.type = 'text/css';\n    var nonce = getNonce();\n    if (nonce) {\n        tag.setAttribute('nonce', nonce);\n    }\n    return tag;\n}\nfunction injectStyles(tag, css) {\n    // @ts-ignore\n    if (tag.styleSheet) {\n        // @ts-ignore\n        tag.styleSheet.cssText = css;\n    }\n    else {\n        tag.appendChild(document.createTextNode(css));\n    }\n}\nfunction insertStyleTag(tag) {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    head.appendChild(tag);\n}\nexport var stylesheetSingleton = function () {\n    var counter = 0;\n    var stylesheet = null;\n    return {\n        add: function (style) {\n            if (counter == 0) {\n                if ((stylesheet = makeStyleTag())) {\n                    injectStyles(stylesheet, style);\n                    insertStyleTag(stylesheet);\n                }\n            }\n            counter++;\n        },\n        remove: function () {\n            counter--;\n            if (!counter && stylesheet) {\n                stylesheet.parentNode && stylesheet.parentNode.removeChild(stylesheet);\n                stylesheet = null;\n            }\n        },\n    };\n};\n", "import { styleHookSingleton } from './hook';\n/**\n * create a Component to add styles on demand\n * - styles are added when first instance is mounted\n * - styles are removed when the last instance is unmounted\n * - changing styles in runtime does nothing unless dynamic is set. But with multiple components that can lead to the undefined behavior\n */\nexport var styleSingleton = function () {\n    var useStyle = styleHookSingleton();\n    var Sheet = function (_a) {\n        var styles = _a.styles, dynamic = _a.dynamic;\n        useStyle(styles, dynamic);\n        return null;\n    };\n    return Sheet;\n};\n", "export var zeroGap = {\n    left: 0,\n    top: 0,\n    right: 0,\n    gap: 0,\n};\nvar parse = function (x) { return parseInt(x || '', 10) || 0; };\nvar getOffset = function (gapMode) {\n    var cs = window.getComputedStyle(document.body);\n    if (process.env.NODE_ENV !== 'production') {\n        if (cs.overflowY === 'hidden') {\n            console.error('react-remove-scroll-bar: cannot calculate scrollbar size because it is removed (overflow:hidden on body');\n        }\n    }\n    var left = cs[gapMode === 'padding' ? 'paddingLeft' : 'marginLeft'];\n    var top = cs[gapMode === 'padding' ? 'paddingTop' : 'marginTop'];\n    var right = cs[gapMode === 'padding' ? 'paddingRight' : 'marginRight'];\n    return [parse(left), parse(top), parse(right)];\n};\nexport var getGapWidth = function (gapMode) {\n    if (gapMode === void 0) { gapMode = 'margin'; }\n    if (typeof window === 'undefined') {\n        return zeroGap;\n    }\n    var offsets = getOffset(gapMode);\n    var documentWidth = document.documentElement.clientWidth;\n    var windowWidth = window.innerWidth;\n    return {\n        left: offsets[0],\n        top: offsets[1],\n        right: offsets[2],\n        gap: Math.max(0, windowWidth - documentWidth + offsets[2] - offsets[0]),\n    };\n};\n", "var passiveSupported = false;\nif (typeof window !== 'undefined') {\n    try {\n        var options = Object.defineProperty({}, 'passive', {\n            get: function () {\n                passiveSupported = true;\n                return true;\n            },\n        });\n        // @ts-ignore\n        window.addEventListener('test', options, options);\n        // @ts-ignore\n        window.removeEventListener('test', options, options);\n    }\n    catch (err) {\n        passiveSupported = false;\n    }\n}\nexport var nonPassive = passiveSupported ? { passive: false } : false;\n", "var alwaysContainsScroll = function (node) {\n    // textarea will always _contain_ scroll inside self. It only can be hidden\n    return node.tagName === 'TEXTAREA';\n};\nvar elementCanBeScrolled = function (node, overflow) {\n    var styles = window.getComputedStyle(node);\n    return (\n    // not-not-scrollable\n    styles[overflow] !== 'hidden' &&\n        // contains scroll inside self\n        !(styles.overflowY === styles.overflowX && !alwaysContainsScroll(node) && styles[overflow] === 'visible'));\n};\nvar elementCouldBeVScrolled = function (node) { return elementCanBeScrolled(node, 'overflowY'); };\nvar elementCouldBeHScrolled = function (node) { return elementCanBeScrolled(node, 'overflowX'); };\nexport var locationCouldBeScrolled = function (axis, node) {\n    var current = node;\n    do {\n        // Skip over shadow root\n        if (typeof ShadowRoot !== 'undefined' && current instanceof ShadowRoot) {\n            current = current.host;\n        }\n        var isScrollable = elementCouldBeScrolled(axis, current);\n        if (isScrollable) {\n            var _a = getScrollVariables(axis, current), s = _a[1], d = _a[2];\n            if (s > d) {\n                return true;\n            }\n        }\n        current = current.parentNode;\n    } while (current && current !== document.body);\n    return false;\n};\nvar getVScrollVariables = function (_a) {\n    var scrollTop = _a.scrollTop, scrollHeight = _a.scrollHeight, clientHeight = _a.clientHeight;\n    return [\n        scrollTop,\n        scrollHeight,\n        clientHeight,\n    ];\n};\nvar getHScrollVariables = function (_a) {\n    var scrollLeft = _a.scrollLeft, scrollWidth = _a.scrollWidth, clientWidth = _a.clientWidth;\n    return [\n        scrollLeft,\n        scrollWidth,\n        clientWidth,\n    ];\n};\nvar elementCouldBeScrolled = function (axis, node) {\n    return axis === 'v' ? elementCouldBeVScrolled(node) : elementCouldBeHScrolled(node);\n};\nvar getScrollVariables = function (axis, node) {\n    return axis === 'v' ? getVScrollVariables(node) : getHScrollVariables(node);\n};\nvar getDirectionFactor = function (axis, direction) {\n    /**\n     * If the element's direction is rtl (right-to-left), then scrollLeft is 0 when the scrollbar is at its rightmost position,\n     * and then increasingly negative as you scroll towards the end of the content.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollLeft\n     */\n    return axis === 'h' && direction === 'rtl' ? -1 : 1;\n};\nexport var handleScroll = function (axis, endTarget, event, sourceDelta, noOverscroll) {\n    var directionFactor = getDirectionFactor(axis, window.getComputedStyle(endTarget).direction);\n    var delta = directionFactor * sourceDelta;\n    // find scrollable target\n    var target = event.target;\n    var targetInLock = endTarget.contains(target);\n    var shouldCancelScroll = false;\n    var isDeltaPositive = delta > 0;\n    var availableScroll = 0;\n    var availableScrollTop = 0;\n    do {\n        var _a = getScrollVariables(axis, target), position = _a[0], scroll_1 = _a[1], capacity = _a[2];\n        var elementScroll = scroll_1 - capacity - directionFactor * position;\n        if (position || elementScroll) {\n            if (elementCouldBeScrolled(axis, target)) {\n                availableScroll += elementScroll;\n                availableScrollTop += position;\n            }\n        }\n        target = target.parentNode;\n    } while (\n    // portaled content\n    (!targetInLock && target !== document.body) ||\n        // self content\n        (targetInLock && (endTarget.contains(target) || endTarget === target)));\n    if (isDeltaPositive && ((noOverscroll && availableScroll === 0) || (!noOverscroll && delta > availableScroll))) {\n        shouldCancelScroll = true;\n    }\n    else if (!isDeltaPositive &&\n        ((noOverscroll && availableScrollTop === 0) || (!noOverscroll && -delta > availableScrollTop))) {\n        shouldCancelScroll = true;\n    }\n    return shouldCancelScroll;\n};\n", "import { exportSidecar } from 'use-sidecar';\nimport { RemoveScrollSideCar } from './SideEffect';\nimport { effectCar } from './medium';\nexport default exportSidecar(effectCar, RemoveScrollSideCar);\n", "// Automatically generated\nexport const DISCLOSURE_STATE_KEYS = [\n  \"baseId\",\n  \"unstable_idCountRef\",\n  \"visible\",\n  \"setBaseId\",\n  \"show\",\n  \"hide\",\n  \"toggle\",\n  \"setVisible\",\n] as const;\nexport const USE_DISCLOSURE_STATE_KEYS = [\n  \"baseId\",\n  \"visible\",\n  \"defaultVisible\",\n  \"onVisibleChange\",\n] as const;\nexport const DISCLOSURE_KEYS = DISCLOSURE_STATE_KEYS;\nexport const DISCLOSURE_COLLAPSE_CONTENT_KEYS = [\n  ...DISCLOSURE_KEYS,\n  \"direction\",\n  \"contentSize\",\n  \"duration\",\n  \"easing\",\n  \"onExpandStart\",\n  \"onExpandEnd\",\n  \"onCollapseStart\",\n  \"onCollapseEnd\",\n] as const;\nexport const DISCLOSURE_CONTENT_KEYS = [\n  ...DISCLOSURE_KEYS,\n  \"animationPresent\",\n  \"state\",\n  \"animating\",\n  \"onEnd\",\n  \"isVisible\",\n  \"isHidden\",\n] as const;\n", "import React from \"react\";\nimport { createComponent } from \"reakit-system\";\nimport {\n  ButtonHTMLProps,\n  ButtonOptions,\n  useButton as useReakitButton,\n} from \"reakit\";\nimport { useLiveRef } from \"reakit-utils\";\n\nimport { createComposableHook } from \"../system\";\n\nimport { DISCLOSURE_KEYS } from \"./__keys\";\nimport { DisclosureStateReturn } from \"./DisclosureState\";\n\nexport type DisclosureOptions = ButtonOptions &\n  Pick<DisclosureStateReturn, \"baseId\" | \"toggle\" | \"visible\">;\n\nexport type DisclosureHTMLProps = ButtonHTMLProps;\n\nexport type DisclosureProps = DisclosureOptions & DisclosureHTMLProps;\n\nexport const disclosureComposableButton = createComposableHook<\n  DisclosureOptions,\n  DisclosureHTMLProps\n>({\n  name: \"Disclosure\",\n  compose: useReakitButton,\n  keys: DISCLOSURE_KEYS,\n\n  useProps(options, htmlProps) {\n    const { toggle, visible, baseId } = options;\n    const {\n      onClick: htmlOnClick,\n      \"aria-controls\": ariaControls,\n      ...restHtmlProps\n    } = htmlProps;\n    const controls = ariaControls ? `${ariaControls} ${baseId}` : baseId;\n\n    const onClickRef = useLiveRef(htmlOnClick);\n\n    const onClick = React.useCallback(\n      (event: React.MouseEvent) => {\n        onClickRef.current?.(event);\n        if (event.defaultPrevented) return;\n\n        toggle?.();\n      },\n      [onClickRef, toggle],\n    );\n\n    return {\n      \"aria-controls\": controls,\n      \"aria-expanded\": visible,\n      \"data-enter\": visible ? \"\" : undefined,\n      \"data-leave\": !visible ? \"\" : undefined,\n      onClick,\n      ...restHtmlProps,\n    };\n  },\n});\n\nexport const useDisclosure = disclosureComposableButton();\n\nexport const Disclosure = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useDisclosure,\n});\n", "// Core Logic for transition is based on https://github.com/roginfarrer/react-collapsed\nimport * as React from \"react\";\nimport { flushSync } from \"react-dom\";\nimport { createComponent } from \"reakit-system\";\nimport { BoxHTMLProps, BoxOptions, useBox } from \"reakit\";\nimport { useForkRef, useLiveRef, useUpdateEffect } from \"reakit-utils\";\nimport raf from \"raf\";\n\nimport { createComposableHook } from \"../system\";\n\nimport { DISCLOSURE_COLLAPSE_CONTENT_KEYS } from \"./__keys\";\nimport { DisclosureStateReturn } from \"./DisclosureState\";\nimport {\n  getAutoSizeDuration,\n  getElementHeight,\n  getElementWidth,\n} from \"./helpers\";\n\nexport type DisclosureCollapseContentOptions = BoxOptions &\n  Pick<DisclosureStateReturn, \"baseId\" | \"visible\"> & {\n    /**\n     * Direction of the transition.\n     *\n     * @default vertical\n     */\n    direction: \"vertical\" | \"horizontal\";\n\n    /**\n     * Size of the content.\n     *\n     * @default 0\n     */\n    contentSize: number;\n\n    /**\n     * Duration of the transition.\n     * By default the duration is calculated based on the size of change.\n     */\n    duration?: number;\n\n    /**\n     * Transition Easing.\n     *\n     * @default cubic-bezier(0.4, 0, 0.2, 1)\n     */\n    easing: string;\n\n    /**\n     * Callback called before the expand transition starts.\n     */\n    onExpandStart?: () => void;\n\n    /**\n     * Callback called after the expand transition ends.\n     */\n    onExpandEnd?: () => void;\n\n    /**\n     * Callback called before the collapse transition starts.\n     */\n    onCollapseStart?: () => void;\n\n    /**\n     * Callback called after the collapse transition ends..\n     */\n    onCollapseEnd?: () => void;\n  };\n\nexport type DisclosureCollapseContentHTMLProps = BoxHTMLProps;\n\nexport type DisclosureCollapseContentProps = DisclosureCollapseContentOptions &\n  DisclosureCollapseContentHTMLProps;\n\nexport const disclosureCollapseComposableContent = createComposableHook<\n  DisclosureCollapseContentOptions,\n  DisclosureCollapseContentHTMLProps\n>({\n  name: \"DisclosureCollapseContent\",\n  compose: useBox,\n  keys: DISCLOSURE_COLLAPSE_CONTENT_KEYS,\n\n  useOptions(options, htmlProps) {\n    const {\n      direction = \"vertical\",\n      contentSize = 0,\n      easing = \"cubic-bezier(0.4, 0, 0.2, 1)\",\n      ...restOptions\n    } = options;\n    return { direction, contentSize, easing, ...restOptions };\n  },\n\n  useProps(options, htmlProps) {\n    const {\n      contentSize,\n      visible,\n      direction,\n      duration,\n      easing,\n      onCollapseEnd,\n      onCollapseStart,\n      onExpandEnd,\n      onExpandStart,\n    } = options;\n    const {\n      ref: htmlRef,\n      style: htmlStyle,\n      onTransitionEnd: htmlOnTransitionEnd,\n      ...restHtmlProps\n    } = htmlProps;\n    const ref = React.useRef<HTMLElement>(null);\n    const onTransitionEndRef = useLiveRef(htmlOnTransitionEnd);\n    const isVertical = direction === \"vertical\";\n    const currentSize = isVertical ? \"height\" : \"width\";\n    const getCurrentSizeStyle = React.useCallback(\n      (size: number) => ({\n        [currentSize]: `${size}px`,\n      }),\n      [currentSize],\n    );\n    const collapsedStyles = React.useMemo(() => {\n      return {\n        ...getCurrentSizeStyle(contentSize),\n        overflow: \"hidden\",\n      };\n    }, [contentSize, getCurrentSizeStyle]);\n\n    const [styles, setStylesRaw] = React.useState<React.CSSProperties>(\n      visible ? {} : collapsedStyles,\n    );\n    const setStyles = (newStyles: {} | ((oldStyles: {}) => {})): void => {\n      // We rely on reading information from layout\n      // at arbitrary times, so ensure all style changes\n      // happen before we might attempt to read them.\n      flushSync(() => {\n        setStylesRaw(newStyles);\n      });\n    };\n    const mergeStyles = React.useCallback((newStyles: {}): void => {\n      setStyles(oldStyles => ({ ...oldStyles, ...newStyles }));\n    }, []);\n\n    function getTransitionStyles(size: number | string): {\n      transition?: string;\n    } {\n      const _duration = duration || getAutoSizeDuration(size);\n\n      return {\n        transition: `${currentSize} ${_duration}ms ${easing}`,\n      };\n    }\n\n    useUpdateEffect(() => {\n      if (visible) {\n        raf(() => {\n          onExpandStart?.();\n\n          mergeStyles({\n            willChange: `${currentSize}`,\n            overflow: \"hidden\",\n          });\n\n          raf(() => {\n            const size = isVertical\n              ? getElementHeight(ref)\n              : getElementWidth(ref);\n\n            mergeStyles({\n              ...getTransitionStyles(size),\n              ...(isVertical ? { height: size } : { width: size }),\n            });\n          });\n        });\n      } else {\n        raf(() => {\n          onCollapseStart?.();\n\n          const size = isVertical\n            ? getElementHeight(ref)\n            : getElementWidth(ref);\n\n          mergeStyles({\n            willChange: `${currentSize}`,\n            ...(isVertical ? { height: size } : { width: size }),\n            ...getTransitionStyles(size),\n          });\n          raf(() => {\n            mergeStyles({\n              ...getCurrentSizeStyle(contentSize),\n              overflow: \"hidden\",\n            });\n          });\n        });\n      }\n    }, [visible]);\n\n    const onTransitionEnd = React.useCallback(\n      (event: React.TransitionEvent) => {\n        onTransitionEndRef.current?.(event);\n\n        if (event.defaultPrevented) return;\n\n        // Sometimes onTransitionEnd is triggered by another transition,\n        // such as a nested collapse panel transitioning. But we only\n        // want to handle this if this component's element is transitioning\n        if (\n          event.target !== ref.current ||\n          event.propertyName !== currentSize\n        ) {\n          return;\n        }\n\n        // The height comparisons below are a final check before\n        // completing the transition\n        // Sometimes this callback is run even though we've already begun\n        // transitioning the other direction\n        // The conditions give us the opportunity to bail out,\n        // which will prevent the collapsed content from flashing on the screen\n        const stylesSize = isVertical ? styles.height : styles.width;\n\n        if (visible) {\n          const size = isVertical\n            ? getElementHeight(ref)\n            : getElementWidth(ref);\n\n          // If the height at the end of the transition\n          // matches the height we're animating to,\n          if (size === stylesSize) {\n            setStyles({});\n          } else {\n            // If the heights don't match, this could be due the height\n            // of the content changing mid-transition\n            mergeStyles({\n              ...getCurrentSizeStyle(contentSize),\n            });\n          }\n\n          onExpandEnd?.();\n\n          // If the height we should be animating to matches the collapsed height,\n          // it's safe to apply the collapsed overrides\n        } else if (stylesSize === `${contentSize}px`) {\n          setStyles(collapsedStyles);\n\n          onCollapseEnd?.();\n        }\n      },\n      [\n        onTransitionEndRef,\n        currentSize,\n        isVertical,\n        styles.height,\n        styles.width,\n        visible,\n        contentSize,\n        onExpandEnd,\n        mergeStyles,\n        getCurrentSizeStyle,\n        collapsedStyles,\n        onCollapseEnd,\n      ],\n    );\n\n    const style = { ...styles, ...htmlStyle };\n\n    return {\n      ref: useForkRef(ref, htmlRef),\n      id: options.baseId,\n      \"aria-hidden\": !visible,\n      style,\n      onTransitionEnd,\n      ...restHtmlProps,\n    };\n  },\n});\n\nexport const useDisclosureCollapseContent =\n  disclosureCollapseComposableContent();\n\nexport const DisclosureCollapseContent = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useDisclosureCollapseContent,\n});\n", "import * as React from \"react\";\nimport { isSelfTarget } from \"reakit-utils\";\nimport { useSafeLayoutEffect } from \"@chakra-ui/hooks\";\n\nfunction useLastValue<T>(value: T) {\n  const lastValue = React.useRef<T | null>(null);\n\n  useSafeLayoutEffect(() => {\n    lastValue.current = value;\n  }, [value]);\n\n  return lastValue;\n}\n\nexport type useAnimationProps = {\n  visible: boolean;\n};\n\nexport const useAnimation = (props: useAnimationProps) => {\n  const { visible } = props;\n\n  const [animating, setAnimating] = React.useState(false);\n  const lastVisible = useLastValue(visible);\n  const visibleHasChanged =\n    lastVisible.current != null && lastVisible.current !== visible;\n  const [state, setState] = React.useState<TransitionState>(null);\n  const raf = React.useRef(0);\n\n  if (!animating && visibleHasChanged) {\n    // Sets animating to true when when visible is updated\n    setAnimating(true);\n  }\n\n  React.useEffect(() => {\n    // Double RAF is needed so the browser has enough time to paint the\n    // default styles before processing the `data-enter` attribute. Otherwise\n    // it wouldn't be considered a transition.\n    // See https://github.com/reakit/reakit/issues/643\n    raf.current = window.requestAnimationFrame(() => {\n      raf.current = window.requestAnimationFrame(() => {\n        if (visible) {\n          setState(\"enter\");\n        } else if (animating) {\n          setState(\"leave\");\n        } else {\n          setState(null);\n        }\n      });\n    });\n\n    return () => window.cancelAnimationFrame(raf.current);\n  }, [visible, animating]);\n\n  const stopAnimation = React.useCallback(() => setAnimating(false), []);\n\n  const onEnd = React.useCallback(\n    (event: React.SyntheticEvent) => {\n      if (!isSelfTarget(event)) return;\n      if (!animating) return;\n\n      // Ignores number animated\n      stopAnimation();\n    },\n    [animating, stopAnimation],\n  );\n\n  return { state, animating, onEnd };\n};\n\nexport type useAnimationReturnType = ReturnType<typeof useAnimation>;\n\nexport type TransitionState = \"enter\" | \"leave\" | null;\n\nexport function getElementHeight(\n  el: React.RefObject<HTMLElement> | { current?: { scrollHeight: number } },\n): string | number {\n  if (!el?.current) {\n    return \"auto\";\n  }\n\n  return el.current.scrollHeight;\n}\n\nexport function getElementWidth(\n  el: React.RefObject<HTMLElement> | { current?: { scrollWidth: number } },\n): string | number {\n  if (!el?.current) {\n    return \"auto\";\n  }\n\n  return el.current.scrollWidth;\n}\n\n// https://github.com/mui-org/material-ui/blob/da362266f7c137bf671d7e8c44c84ad5cfc0e9e2/packages/material-ui/src/styles/transitions.js#L89-L98\nexport function getAutoSizeDuration(size: number | string): number {\n  if (!size || typeof size === \"string\") {\n    return 0;\n  }\n\n  const constant = size / 36;\n\n  // https://www.wolframalpha.com/input/?i=(4+%2B+15+*+(x+%2F+36+)+**+0.25+%2B+(x+%2F+36)+%2F+5)+*+10\n  return Math.round((4 + 15 * constant ** 0.25 + constant / 5) * 10);\n}\n", "// Inspired from Radix UI https://github.com/radix-ui/primitives/tree/main/packages/react/collapsible\nimport * as React from \"react\";\nimport { createComponent } from \"reakit-system\";\nimport { BoxHTMLProps, BoxOptions, useBox } from \"reakit\";\nimport { useLiveRef } from \"reakit-utils\";\n\nimport { createComposableHook } from \"../system\";\n\nimport { DISCLOSURE_CONTENT_KEYS } from \"./__keys\";\nimport { DisclosureStateReturn } from \"./DisclosureState\";\nimport {\n  TransitionState,\n  useAnimation,\n  useAnimationReturnType,\n} from \"./helpers\";\n\nexport type DisclosureContentOptions = BoxOptions &\n  Pick<DisclosureStateReturn, \"baseId\" | \"visible\"> & {\n    animationPresent?: boolean;\n    state: TransitionState;\n    animating: useAnimationReturnType[\"animating\"];\n    onEnd: useAnimationReturnType[\"onEnd\"];\n    isVisible: boolean;\n    isHidden: boolean;\n  };\n\nexport type DisclosureContentHTMLProps = BoxHTMLProps;\n\nexport type DisclosureContentProps = DisclosureContentOptions &\n  DisclosureContentHTMLProps;\n\nexport const disclosureComposableContent = createComposableHook<\n  DisclosureContentOptions,\n  DisclosureContentHTMLProps\n>({\n  name: \"DisclosureContent\",\n  compose: useBox,\n  keys: DISCLOSURE_CONTENT_KEYS,\n\n  useOptions(options, htmlProps) {\n    const { visible, animationPresent = false, ...restOptions } = options;\n    const { state, animating, onEnd } = useAnimation({\n      visible,\n    });\n\n    const isVisible = visible && animating;\n    const isHidden = !visible && !animating;\n\n    return {\n      animationPresent,\n      visible,\n      ...restOptions,\n      isVisible,\n      isHidden,\n      state,\n      animating,\n      onEnd,\n    };\n  },\n\n  useProps(options, htmlProps) {\n    const { baseId, onEnd, isHidden, isVisible, state, animationPresent } =\n      options;\n    const {\n      style: htmlStyle,\n      onTransitionEnd: htmlOnTransitionEnd,\n      onAnimationEnd: htmlOnAnimationEnd,\n      ...restHtmlProps\n    } = htmlProps;\n\n    const onTransitionEndRef = useLiveRef(htmlOnTransitionEnd);\n    const onAnimationEndRef = useLiveRef(htmlOnAnimationEnd);\n\n    const onTransitionEnd = React.useCallback(\n      (event: React.TransitionEvent) => {\n        onTransitionEndRef.current?.(event);\n\n        onEnd?.(event);\n      },\n      [onEnd, onTransitionEndRef],\n    );\n\n    const onAnimationEnd = React.useCallback(\n      (event: React.AnimationEvent) => {\n        onAnimationEndRef.current?.(event);\n        onEnd?.(event);\n      },\n      [onAnimationEndRef, onEnd],\n    );\n\n    const style = {\n      display: isHidden ? \"none\" : undefined,\n      ...htmlStyle,\n    };\n\n    return {\n      id: baseId,\n      hidden: isHidden,\n      \"data-enter\": animationPresent\n        ? isVisible\n          ? \"\"\n          : undefined\n        : state === \"enter\"\n        ? \"\"\n        : undefined,\n      \"data-leave\": state === \"leave\" ? \"\" : undefined,\n      onTransitionEnd,\n      onAnimationEnd,\n      style,\n      ...restHtmlProps,\n    };\n  },\n});\n\nexport const useDisclosureContent = disclosureComposableContent();\n\nexport const DisclosureContent = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useDisclosureContent,\n});\n", "import * as React from \"react\";\nimport {\n  unstable_IdActions,\n  unstable_IdInitialState,\n  unstable_IdState,\n  unstable_useIdState,\n} from \"reakit\";\n\nimport { useControllableState } from \"../utils\";\n\nexport type DisclosureState = unstable_IdState & {\n  /**\n   * Whether it's expanded or not.\n   */\n  visible: boolean;\n};\n\nexport type DisclosureActions = unstable_IdActions & {\n  /**\n   * Changes the `expanded` state to `true`\n   */\n  show: () => void;\n\n  /**\n   * Changes the `expanded` state to `false`\n   */\n  hide: () => void;\n\n  /**\n   * Toggles the `expanded` state\n   */\n  toggle: () => void;\n\n  /**\n   * Sets `expanded`.\n   */\n  setVisible: React.Dispatch<React.SetStateAction<DisclosureState[\"visible\"]>>;\n};\n\nexport type DisclosureStateReturn = DisclosureState & DisclosureActions;\n\nexport type DisclosureInitialState = unstable_IdInitialState &\n  Partial<Pick<DisclosureState, \"visible\">> & {\n    /**\n     * Default uncontrolled state.\n     */\n    defaultVisible?: boolean;\n\n    /**\n     * Controllabele state.\n     */\n    visible?: boolean;\n\n    /**\n     * controllable state callback.\n     */\n    onVisibleChange?: (expanded: boolean) => void;\n  };\n\nexport const useDisclosureState = (\n  props: DisclosureInitialState = {},\n): DisclosureStateReturn => {\n  const {\n    defaultVisible = false,\n    visible: initialVisible,\n    onVisibleChange,\n  } = props;\n  const id = unstable_useIdState();\n  const [visible, setVisible] = useControllableState({\n    defaultValue: defaultVisible,\n    value: initialVisible,\n    onChange: onVisibleChange,\n  });\n\n  const show = React.useCallback(() => setVisible(true), [setVisible]);\n  const hide = React.useCallback(() => setVisible(false), [setVisible]);\n  const toggle = React.useCallback(() => setVisible(e => !e), [setVisible]);\n\n  return {\n    ...id,\n    visible,\n    setVisible,\n    show,\n    hide,\n    toggle,\n  };\n};\n", "import * as React from \"react\";\n\nexport const DialogBackdropContext = React.createContext<string | undefined>(\n  undefined,\n);\n", "import * as React from \"react\";\nimport { contains, getDocument, useLiveRef } from \"reakit-utils\";\nimport { warning } from \"reakit-warning\";\n\nimport { isFocusTrap } from \"./useFocusTrap\";\n\nfunction dialogContains(target: Element) {\n  return (dialogRef: React.RefObject<HTMLElement>) => {\n    const dialog = dialogRef.current;\n    if (!dialog) return false;\n    if (contains(dialog, target)) return true;\n    const document = getDocument(dialog);\n    const backdrop = document.querySelector(`[data-dialog-ref=\"${dialog.id}\"]`);\n    if (backdrop) {\n      return contains(backdrop, target);\n    }\n    return false;\n  };\n}\n\nfunction isDisclosure(target: Element, disclosure: HTMLElement) {\n  return contains(disclosure, target);\n}\n\nfunction isInDocument(target: Element) {\n  const document = getDocument(target);\n  if (target.tagName === \"HTML\") {\n    return true;\n  }\n  return contains(document.body, target);\n}\n\nexport function useEventListenerOutside(\n  containerRef: React.RefObject<HTMLElement>,\n  disclosureRef: React.RefObject<HTMLElement>,\n  nestedDialogs: Array<React.RefObject<HTMLElement>>,\n  eventType: string,\n  listener?: (e: Event) => void,\n  shouldListen?: boolean,\n  capture?: boolean,\n) {\n  const listenerRef = useLiveRef(listener);\n\n  React.useEffect(() => {\n    if (!shouldListen) return undefined;\n\n    const onEvent = (event: Event) => {\n      if (!listenerRef.current) return;\n      const container = containerRef.current;\n      const disclosure = disclosureRef.current;\n      const target = event.target as Element;\n      if (!container) {\n        warning(\n          true,\n          \"Can't detect events outside dialog because `ref` wasn't passed to component.\",\n        );\n        return;\n      }\n      // When an element is unmounted right after it receives focus, the focus\n      // event is triggered after that, when the element isn't part of the\n      // current document anymore. So we ignore it.\n      if (!isInDocument(target)) return;\n      // Event inside dialog\n      if (contains(container, target)) return;\n      // Event on disclosure\n      if (disclosure && isDisclosure(target, disclosure)) return;\n      // Event inside a nested dialog or focus trap\n      if (isFocusTrap(target) || nestedDialogs.some(dialogContains(target))) {\n        return;\n      }\n      listenerRef.current(event);\n    };\n\n    const document = getDocument(containerRef.current);\n    document.addEventListener(eventType, onEvent, capture);\n    return () => document.removeEventListener(eventType, onEvent, capture);\n  }, [\n    containerRef,\n    disclosureRef,\n    nestedDialogs,\n    eventType,\n    shouldListen,\n    listenerRef,\n    capture,\n  ]);\n}\n", "import * as React from \"react\";\nimport {\n  getDocument,\n  getFirstTabbableIn,\n  getLastTabbableIn,\n} from \"reakit-utils\";\nimport { warning } from \"reakit-warning\";\n\nimport { DialogOptions } from \"../Dialog\";\n\nimport { usePortalRef } from \"./usePortalRef\";\n\nfunction removeFromDOM(element: Element) {\n  if (element.parentNode == null) return;\n  element.parentNode.removeChild(element);\n}\n\nconst focusTrapClassName = \"__reakit-focus-trap\";\n\nexport function isFocusTrap(element: Element) {\n  return element.classList?.contains(focusTrapClassName);\n}\n\nexport function useFocusTrap(\n  dialogRef: React.RefObject<HTMLElement>,\n  visibleModals: Array<React.RefObject<HTMLElement>>,\n  options: DialogOptions,\n) {\n  const portalRef = usePortalRef(dialogRef, options);\n  const shouldTrap = options.visible && options.modal;\n  const beforeElement = React.useRef<HTMLElement | null>(null);\n  const afterElement = React.useRef<HTMLElement | null>(null);\n\n  // Create before and after elements\n  // https://github.com/w3c/aria-practices/issues/545\n  React.useEffect(() => {\n    if (!shouldTrap) return undefined;\n    const portal = portalRef.current;\n\n    if (!portal) {\n      warning(\n        true,\n        \"Can't trap focus within modal dialog because either `ref` wasn't passed to component or the component wasn't rendered within a portal\",\n      );\n      return undefined;\n    }\n\n    if (!beforeElement.current) {\n      const document = getDocument(portal);\n      beforeElement.current = document.createElement(\"div\");\n      beforeElement.current.className = focusTrapClassName;\n      beforeElement.current.tabIndex = 0;\n      beforeElement.current.style.position = \"fixed\";\n      beforeElement.current.setAttribute(\"aria-hidden\", \"true\");\n    }\n\n    if (!afterElement.current) {\n      afterElement.current = beforeElement.current.cloneNode() as HTMLElement;\n    }\n\n    portal.insertAdjacentElement(\"beforebegin\", beforeElement.current);\n    portal.insertAdjacentElement(\"afterend\", afterElement.current);\n\n    return () => {\n      if (beforeElement.current) removeFromDOM(beforeElement.current);\n      if (afterElement.current) removeFromDOM(afterElement.current);\n    };\n  }, [portalRef, shouldTrap]);\n\n  // Focus trap\n  React.useEffect(() => {\n    const before = beforeElement.current;\n    const after = afterElement.current;\n    if (!shouldTrap || !before || !after) return undefined;\n\n    const handleFocus = (event: FocusEvent) => {\n      const dialog = dialogRef.current;\n      if (!dialog || visibleModals.length) return;\n\n      event.preventDefault();\n\n      const isAfter = event.target === after;\n\n      const tabbable = isAfter\n        ? getFirstTabbableIn(dialog)\n        : getLastTabbableIn(dialog);\n\n      if (tabbable) {\n        tabbable.focus();\n      } else {\n        // fallback to dialog\n        dialog.focus();\n      }\n    };\n\n    before.addEventListener(\"focus\", handleFocus);\n    after.addEventListener(\"focus\", handleFocus);\n    return () => {\n      before.removeEventListener(\"focus\", handleFocus);\n      after.removeEventListener(\"focus\", handleFocus);\n    };\n  }, [dialogRef, visibleModals, shouldTrap]);\n}\n", "import * as React from \"react\";\nimport { Portal } from \"reakit\";\nimport { closest } from \"reakit-utils/closest\";\n\nimport { DialogOptions } from \"../Dialog\";\n\nexport function usePortalRef(\n  dialogRef: React.RefObject<HTMLElement>,\n  options: DialogOptions,\n) {\n  const { visible } = options;\n  const portalRef = React.useRef<HTMLElement | null>(null);\n\n  React.useEffect(() => {\n    const dialog = dialogRef.current;\n\n    if (!dialog || !visible) return;\n\n    portalRef.current = closest(dialog, Portal.__selector) as HTMLElement;\n  }, [dialogRef, visible]);\n\n  return portalRef;\n}\n", "import * as React from \"react\";\n\nimport { DialogOptions } from \"../Dialog\";\n\nimport { useEventListenerOutside } from \"./useEventListenerOutside\";\n\nexport function useDisableHoverOutside(\n  portalRef: React.RefObject<HTMLElement>,\n  nestedDialogs: Array<React.RefObject<HTMLElement>>,\n  options: DialogOptions,\n) {\n  const useEvent = (eventType: string) =>\n    useEventListenerOutside(\n      portalRef,\n      { current: null },\n      nestedDialogs,\n      eventType,\n      event => {\n        event.stopPropagation();\n        event.preventDefault();\n      },\n      options.visible && options.modal,\n      true,\n    );\n  useEvent(\"mouseover\");\n  useEvent(\"mousemove\");\n  useEvent(\"mouseout\");\n}\n", "import * as React from \"react\";\nimport { getDocument, isButton } from \"reakit-utils\";\n\nimport { DialogOptions } from \"../Dialog\";\n\nexport function useDisclosureRef(\n  dialogRef: React.RefObject<HTMLElement>,\n  options: DialogOptions,\n) {\n  const ref = React.useRef<HTMLElement | null>(null);\n\n  React.useEffect(() => {\n    if (options.visible || options.animating) return undefined;\n\n    // We get the last focused element before the dialog opens, so we can move\n    // focus back to it when the dialog closes.\n    const onFocus = (event: FocusEvent) => {\n      const target = event.target as HTMLElement;\n\n      if (\"focus\" in target) {\n        ref.current = target;\n\n        if (options.disclosureRef) {\n          options.disclosureRef.current = target;\n        }\n      }\n    };\n\n    const document = getDocument(dialogRef.current);\n    document.addEventListener(\"focusin\", onFocus);\n\n    return () => document.removeEventListener(\"focusin\", onFocus);\n  }, [options.visible, options.animating, options.disclosureRef, dialogRef]);\n\n  React.useEffect(() => {\n    if (!options.visible || options.animating) return undefined;\n\n    // Safari and Firefox on MacOS don't focus on buttons on mouse down.\n    // Instead, they focus on the closest focusable parent (ultimately, the\n    // body element). This works around that by preventing that behavior and\n    // forcing focus on the disclosure button. Otherwise, we wouldn't be able\n    // to close the dialog by clicking again on the disclosure.\n    const onMouseDown = (event: MouseEvent) => {\n      const element = event.currentTarget as HTMLElement;\n\n      if (!isButton(element)) return;\n\n      event.preventDefault();\n      element.focus();\n    };\n\n    const disclosure = options.disclosureRef?.current || ref.current;\n    disclosure?.addEventListener(\"mousedown\", onMouseDown);\n\n    return () => disclosure?.removeEventListener(\"mousedown\", onMouseDown);\n  }, [options.visible, options.animating, options.disclosureRef]);\n\n  return options.disclosureRef || ref;\n}\n", "import * as React from \"react\";\nimport {\n  getActiveElement,\n  getDocument,\n  getNextActiveElementOnBlur,\n} from \"reakit-utils\";\nimport { warning } from \"reakit-warning\";\nimport { useSafeLayoutEffect } from \"@chakra-ui/hooks\";\n\nimport { DialogOptions } from \"../Dialog\";\n\nfunction isActualElement(element?: Element | null) {\n  return (\n    element &&\n    element.tagName &&\n    element.tagName !== \"HTML\" &&\n    element !== getDocument(element).body\n  );\n}\n\nexport function useFocusOnBlur(\n  dialogRef: React.RefObject<HTMLElement>,\n  options: DialogOptions,\n) {\n  const [blurred, scheduleFocus] = React.useReducer((n: number) => n + 1, 0);\n\n  useSafeLayoutEffect(() => {\n    const dialog = dialogRef.current;\n    if (!options.visible) return;\n    if (!blurred) return;\n    // After blur, if the active element isn't an actual element, this probably\n    // means that element.blur() was called on an element inside the dialog.\n    // In this case, the browser will automatically focus the body element.\n    // So we move focus back to the dialog.\n    if (!isActualElement(getActiveElement(dialog))) {\n      warning(\n        !dialog,\n        \"Can't focus dialog after a nested element got blurred because `ref` wasn't passed to the component\",\n      );\n      dialog?.focus();\n    }\n  }, [blurred, dialogRef]);\n\n  const onBlur = React.useCallback(\n    (event: React.FocusEvent<HTMLElement>) => {\n      if (!options.visible) return;\n      const nextActiveElement = getNextActiveElementOnBlur(event);\n      if (!isActualElement(nextActiveElement)) {\n        scheduleFocus();\n      }\n    },\n    [options.visible],\n  );\n\n  return onBlur;\n}\n", "import * as React from \"react\";\nimport { getActiveElement, getDocument, isEmpty } from \"reakit-utils\";\n\nimport { DialogOptions } from \"../Dialog\";\n\n/**\n * When the focused child gets removed from the DOM, we make sure to move focus\n * to the dialog.\n */\nexport function useFocusOnChildUnmount(\n  dialogRef: React.RefObject<HTMLElement>,\n  options: DialogOptions,\n) {\n  React.useEffect(() => {\n    const dialog = dialogRef.current;\n    if (!options.visible || !dialog) return undefined;\n\n    const observer = new MutationObserver(mutations => {\n      const [{ target }] = mutations;\n      // If target is not this dialog, then this observer was triggered by a\n      // nested dialog, so we just ignore it here and let the nested dialog\n      // handle it there.\n      if (target !== dialog) return;\n      const document = getDocument(dialog);\n      const activeElement = getActiveElement(dialog);\n      // We can check if the current focused element is the document body. On\n      // IE 11, it's an empty object when the current document is in a frame or\n      // iframe.\n      if (activeElement === document.body || isEmpty(activeElement)) {\n        dialog.focus();\n      }\n    });\n\n    observer.observe(dialog, { childList: true, subtree: true });\n    return () => {\n      observer.disconnect();\n    };\n  }, [options.visible, dialogRef]);\n}\n", "import * as React from \"react\";\nimport {\n  contains,\n  ensureFocus,\n  getActiveElement,\n  getDocument,\n  isTabbable,\n  useUpdateEffect,\n} from \"reakit-utils\";\nimport { warning } from \"reakit-warning\";\n\nimport { DialogOptions } from \"../Dialog\";\n\nfunction hidByFocusingAnotherElement(dialogRef: React.RefObject<HTMLElement>) {\n  const dialog = dialogRef.current;\n  if (!dialog) return false;\n\n  const activeElement = getActiveElement(dialog);\n\n  if (!activeElement) return false;\n  if (contains(dialog, activeElement)) return false;\n  if (isTabbable(activeElement)) return true;\n  if (activeElement.getAttribute(\"data-dialog\") === \"true\") return true;\n\n  return false;\n}\n\nexport function useFocusOnHide(\n  dialogRef: React.RefObject<HTMLElement>,\n  disclosureRef: React.RefObject<HTMLElement>,\n  options: DialogOptions,\n) {\n  const shouldFocus = options.unstable_autoFocusOnHide && !options.visible;\n\n  useUpdateEffect(() => {\n    if (!shouldFocus) return;\n    if (options.animating) return;\n    console.log(\"%canimating\", \"color: #ffa280\", options.animating);\n\n    // Hide was triggered by a click/focus on a tabbable element outside\n    // the dialog or on another dialog. We won't change focus then.\n    if (hidByFocusingAnotherElement(dialogRef)) {\n      return;\n    }\n\n    const finalFocusEl =\n      options.unstable_finalFocusRef?.current || disclosureRef.current;\n\n    if (finalFocusEl) {\n      if (finalFocusEl.id) {\n        const document = getDocument(finalFocusEl);\n        const compositeElement = document.querySelector<HTMLElement>(\n          `[aria-activedescendant='${finalFocusEl.id}']`,\n        );\n\n        if (compositeElement) {\n          ensureFocus(compositeElement);\n\n          return;\n        }\n      }\n\n      ensureFocus(finalFocusEl);\n\n      return;\n    }\n\n    warning(\n      true,\n      \"Can't return focus after closing dialog. Either render a disclosure component or provide a `unstable_finalFocusRef` prop.\",\n      dialogRef.current,\n    );\n  }, [shouldFocus, options.animating, dialogRef, disclosureRef]);\n}\n", "import * as React from \"react\";\nimport {\n  ensureFocus,\n  getFirstTabbableIn,\n  hasFocusWithin,\n  useUpdateEffect,\n} from \"reakit-utils\";\nimport { warning } from \"reakit-warning\";\n\nimport { DialogOptions } from \"../Dialog\";\n\nexport function useFocusOnShow(\n  dialogRef: React.RefObject<HTMLElement>,\n  nestedDialogs: Array<React.RefObject<HTMLElement>>,\n  options: DialogOptions,\n) {\n  const initialFocusRef = options.unstable_initialFocusRef;\n  const shouldFocus = options.visible && options.unstable_autoFocusOnShow;\n\n  useUpdateEffect(() => {\n    const dialog = dialogRef.current;\n\n    warning(\n      !!shouldFocus && !dialog,\n      \"[reakit/Dialog]\",\n      \"Can't set initial focus on dialog because `ref` wasn't passed to the dialog element.\",\n    );\n\n    if (!shouldFocus) return;\n    if (!dialog) return;\n    if (options.animating) return;\n\n    // If there're nested open dialogs, let them handle focus\n    if (nestedDialogs.some(child => child.current && !child.current.hidden)) {\n      return;\n    }\n\n    if (initialFocusRef?.current) {\n      initialFocusRef.current.focus({ preventScroll: true });\n    } else {\n      const tabbable = getFirstTabbableIn(dialog, true);\n      const isActive = () => hasFocusWithin(dialog);\n      if (tabbable) {\n        ensureFocus(tabbable, { preventScroll: true, isActive });\n      } else {\n        ensureFocus(dialog, { preventScroll: true, isActive });\n        warning(\n          dialog.tabIndex === undefined || dialog.tabIndex < 0,\n          \"It's recommended to have at least one tabbable element inside dialog. The dialog element has been automatically focused.\",\n          \"If this is the intended behavior, pass `tabIndex={0}` to the dialog element to disable this warning.\",\n          dialog,\n        );\n      }\n    }\n  }, [\n    dialogRef,\n    shouldFocus,\n    options.animating,\n    nestedDialogs,\n    initialFocusRef,\n  ]);\n}\n", "import * as React from \"react\";\nimport { getDocument } from \"reakit-utils/getDocument\";\n\nimport { DialogOptions } from \"../Dialog\";\n\nimport { useEventListenerOutside } from \"./useEventListenerOutside\";\n\nfunction useMouseDownRef(\n  dialogRef: React.RefObject<HTMLElement>,\n  options: DialogOptions,\n) {\n  const mouseDownRef = React.useRef<EventTarget | null>();\n\n  React.useEffect(() => {\n    if (!options.visible) return undefined;\n    if (!options.hideOnClickOutside) return undefined;\n    const document = getDocument(dialogRef.current);\n    const onMouseDown = (event: MouseEvent) => {\n      mouseDownRef.current = event.target;\n    };\n    document.addEventListener(\"mousedown\", onMouseDown);\n    return () => document.removeEventListener(\"mousedown\", onMouseDown);\n  }, [options.visible, options.hideOnClickOutside, dialogRef]);\n\n  return mouseDownRef;\n}\n\nexport function useHideOnClickOutside(\n  dialogRef: React.RefObject<HTMLElement>,\n  disclosureRef: React.RefObject<HTMLElement>,\n  nestedDialogs: Array<React.RefObject<HTMLElement>>,\n  options: DialogOptions,\n) {\n  const mouseDownRef = useMouseDownRef(dialogRef, options);\n\n  useEventListenerOutside(\n    dialogRef,\n    disclosureRef,\n    nestedDialogs,\n    \"click\",\n    event => {\n      // Make sure the element that has been clicked is the same that last\n      // triggered the mousedown event. This prevents the dialog from closing\n      // by dragging the cursor (for example, selecting some text inside the\n      // dialog and releasing the mouse outside of it).\n      if (mouseDownRef.current === event.target) {\n        options.hide?.();\n      }\n    },\n    options.visible && options.hideOnClickOutside,\n  );\n\n  useEventListenerOutside(\n    dialogRef,\n    disclosureRef,\n    nestedDialogs,\n    \"focusin\",\n    event => {\n      const document = getDocument(dialogRef.current);\n      // Fix for https://github.com/reakit/reakit/issues/619\n      // On IE11, calling element.blur() triggers the focus event on\n      // document.body, so we make sure to ignore it as well.\n      if (event.target !== document && event.target !== document.body) {\n        options.hide?.();\n      }\n    },\n    options.visible && options.hideOnClickOutside,\n  );\n}\n", "import * as React from \"react\";\nimport { removeItemFromArray } from \"reakit-utils/removeItemFromArray\";\n\nimport { DialogOptions } from \"../Dialog\";\n\ntype DialogRef = React.RefObject<HTMLElement>;\n\nconst DialogContext = React.createContext<{\n  visible?: boolean;\n  addDialog?: (ref: DialogRef) => void;\n  removeDialog?: (ref: DialogRef) => void;\n  showDialog?: (ref: DialogRef) => void;\n  hideDialog?: (ref: DialogRef) => void;\n}>({});\n\nexport function useNestedDialogs(dialogRef: DialogRef, options: DialogOptions) {\n  const context = React.useContext(DialogContext);\n\n  const [dialogs, setDialogs] = React.useState<Array<DialogRef>>([]);\n  const [visibleModals, setVisibleModals] = React.useState(dialogs);\n\n  const addDialog = React.useCallback(\n    (ref: DialogRef) => {\n      context.addDialog?.(ref);\n      setDialogs(prevDialogs => [...prevDialogs, ref]);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [context.addDialog],\n  );\n\n  const removeDialog = React.useCallback(\n    (ref: DialogRef) => {\n      context.removeDialog?.(ref);\n      setDialogs(prevDialogs => removeItemFromArray(prevDialogs, ref));\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [context.removeDialog],\n  );\n\n  const showDialog = React.useCallback(\n    (ref: DialogRef) => {\n      context.showDialog?.(ref);\n      setVisibleModals(prevDialogs => [...prevDialogs, ref]);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [context.showDialog],\n  );\n\n  const hideDialog = React.useCallback(\n    (ref: DialogRef) => {\n      context.hideDialog?.(ref);\n      setVisibleModals(prevDialogs => removeItemFromArray(prevDialogs, ref));\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [context.hideDialog],\n  );\n\n  // If it's a nested dialog, add it to context\n  React.useEffect(() => {\n    if (options.unstable_orphan) return undefined;\n    context.addDialog?.(dialogRef);\n    return () => {\n      context.removeDialog?.(dialogRef);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    options.unstable_orphan,\n    context.addDialog,\n    dialogRef,\n    context.removeDialog,\n  ]);\n\n  React.useEffect(() => {\n    if (options.unstable_orphan) return undefined;\n    if (!options.modal) return undefined;\n    if (!options.visible) return undefined;\n    context.showDialog?.(dialogRef);\n    return () => {\n      context.hideDialog?.(dialogRef);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    options.unstable_orphan,\n    options.modal,\n    options.visible,\n    context.showDialog,\n    dialogRef,\n    context.hideDialog,\n  ]);\n\n  // Close all nested dialogs when parent dialog closes\n  React.useEffect(() => {\n    if (\n      context.visible === false &&\n      options.visible &&\n      !options.unstable_orphan\n    ) {\n      options.hide?.();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [context.visible, options.visible, options.hide, options.unstable_orphan]);\n\n  // Provider\n  const providerValue = React.useMemo(\n    () => ({\n      visible: options.visible,\n      addDialog,\n      removeDialog,\n      showDialog,\n      hideDialog,\n    }),\n    [options.visible, addDialog, removeDialog, showDialog, hideDialog],\n  );\n\n  const wrap = React.useCallback(\n    (element: React.ReactNode) => (\n      <DialogContext.Provider value={providerValue}>\n        {element}\n      </DialogContext.Provider>\n    ),\n    [providerValue],\n  );\n\n  return { dialogs, visibleModals, wrap };\n}\n", "import * as React from \"react\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { Portal } from \"reakit\";\n\nimport {\n  DisclosureContentHTMLProps,\n  DisclosureContentOptions,\n  useDisclosureContent,\n} from \"../disclosure/DisclosureContent\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { DIALOG_BACKDROP_KEYS } from \"./__keys\";\nimport { DialogStateReturn } from \"./DialogState\";\nimport { DialogBackdropContext } from \"./helpers\";\n\nexport type DialogBackdropOptions = DisclosureContentOptions &\n  Pick<Partial<DialogStateReturn>, \"modal\"> & {\n    /**\n     * When enabled, user can't scroll on body when the dialog is visible.\n     * This option doesn't work if the dialog isn't modal.\n     */\n    preventBodyScroll?: boolean;\n  };\n\nexport type DialogBackdropHTMLProps = DisclosureContentHTMLProps;\n\nexport type DialogBackdropProps = DialogBackdropOptions &\n  DialogBackdropHTMLProps;\n\nexport const useDialogBackdrop = createHook<\n  DialogBackdropOptions,\n  DialogBackdropHTMLProps\n>({\n  name: \"DialogBackdrop\",\n  compose: useDisclosureContent,\n  keys: DIALOG_BACKDROP_KEYS,\n\n  useOptions({ modal = true, preventBodyScroll = modal, ...options }) {\n    return { modal, preventBodyScroll: modal && preventBodyScroll, ...options };\n  },\n\n  useProps(options, htmlProps) {\n    const { modal, baseId, preventBodyScroll } = options;\n    const { wrapElement: htmlWrapElement, ...restHtmlProps } = htmlProps;\n    const wrapElement = React.useCallback(\n      (element: React.ReactNode) => {\n        if (modal) {\n          if (preventBodyScroll) {\n            element = (\n              <Portal>\n                <DialogBackdropContext.Provider value={baseId}>\n                  <RemoveScroll>{element}</RemoveScroll>\n                </DialogBackdropContext.Provider>\n              </Portal>\n            );\n          } else {\n            element = (\n              <Portal>\n                <DialogBackdropContext.Provider value={baseId}>\n                  {element}\n                </DialogBackdropContext.Provider>\n              </Portal>\n            );\n          }\n        }\n\n        if (htmlWrapElement) {\n          return htmlWrapElement(element);\n        }\n\n        return element;\n      },\n      [modal, htmlWrapElement, preventBodyScroll, baseId],\n    );\n\n    return {\n      id: undefined,\n      \"data-dialog-ref\": baseId,\n      wrapElement,\n      ...restHtmlProps,\n    };\n  },\n});\n\nexport const DialogBackdrop = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useDialogBackdrop,\n});\n", "import * as React from \"react\";\nimport { useForkRef, useLiveRef } from \"reakit-utils\";\nimport { warning } from \"reakit-warning\";\nimport { useSafeLayoutEffect } from \"@chakra-ui/hooks\";\n\nimport {\n  DisclosureHTMLProps,\n  DisclosureOptions,\n  useDisclosure,\n} from \"../disclosure\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { DIALOG_DISCLOSURE_KEYS } from \"./__keys\";\nimport { DialogStateReturn } from \"./DialogState\";\n\nexport type DialogDisclosureOptions = DisclosureOptions &\n  Pick<Partial<DialogStateReturn>, \"disclosureRef\">;\n\nexport type DialogDisclosureHTMLProps = DisclosureHTMLProps;\n\nexport type DialogDisclosureProps = DialogDisclosureOptions &\n  DialogDisclosureHTMLProps;\n\nexport const useDialogDisclosure = createHook<\n  DialogDisclosureOptions,\n  DialogDisclosureHTMLProps\n>({\n  name: \"DialogDisclosure\",\n  compose: useDisclosure,\n  keys: DIALOG_DISCLOSURE_KEYS,\n\n  useProps(options, htmlProps) {\n    const { disclosureRef, visible } = options;\n    const { ref: htmlRef, onClick: htmlOnClick, ...restHtmlProps } = htmlProps;\n    const ref = React.useRef<HTMLElement>(null);\n    const onClickRef = useLiveRef(htmlOnClick);\n    const [expanded, setExpanded] = React.useState(false);\n\n    // aria-expanded may be used for styling purposes, so we useLayoutEffect\n    useSafeLayoutEffect(() => {\n      const element = ref.current;\n\n      warning(\n        !element,\n        \"Can't determine whether the element is the current disclosure because `ref` wasn't passed to the component\",\n      );\n\n      if (disclosureRef && !disclosureRef.current) {\n        disclosureRef.current = element;\n      }\n\n      const isCurrentDisclosure =\n        !disclosureRef?.current || disclosureRef.current === element;\n\n      setExpanded(!!visible && isCurrentDisclosure);\n    }, [visible, disclosureRef]);\n\n    const onClick = React.useCallback(\n      (event: React.MouseEvent<HTMLElement, MouseEvent>) => {\n        onClickRef.current?.(event);\n\n        if (event.defaultPrevented) return;\n\n        if (disclosureRef) {\n          disclosureRef.current = event.currentTarget;\n        }\n      },\n      [disclosureRef, onClickRef],\n    );\n\n    return {\n      ref: useForkRef(ref, htmlRef),\n      \"aria-haspopup\": \"dialog\",\n      \"aria-expanded\": expanded,\n      onClick,\n      ...restHtmlProps,\n    };\n  },\n});\n\nexport const DialogDisclosure = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useDialogDisclosure,\n});\n", "import * as React from \"react\";\n\nimport {\n  DisclosureActions,\n  DisclosureInitialState,\n  DisclosureState,\n  DisclosureStateReturn,\n  useDisclosureState,\n} from \"../disclosure\";\n\nexport type DialogState = DisclosureState & {\n  /**\n   * Toggles Dialog's `modal` state.\n   *   - Non-modal: `preventBodyScroll` doesn't work and focus is free.\n   *   - Modal: `preventBodyScroll` is automatically enabled, focus is\n   * trapped within the dialog and the dialog is rendered within a `Portal`\n   * by default.\n   */\n  modal: boolean;\n\n  /**\n   * @private\n   */\n  disclosureRef: React.MutableRefObject<HTMLElement | null>;\n};\n\nexport type DialogActions = DisclosureActions & {\n  /**\n   * Sets `modal`.\n   */\n  setModal: React.Dispatch<React.SetStateAction<DialogState[\"modal\"]>>;\n};\n\nexport type DialogInitialState = DisclosureInitialState &\n  Partial<Pick<DialogState, \"modal\">>;\n\nexport type DialogStateReturn = DisclosureStateReturn &\n  DialogState &\n  DialogActions;\n\nexport function useDialogState(\n  props: DialogInitialState = {},\n): DialogStateReturn {\n  const { modal: initialModal = true, ...restProps } = props;\n  const disclosure = useDisclosureState(restProps);\n  const [modal, setModal] = React.useState(initialModal);\n  const disclosureRef = React.useRef<HTMLElement | null>(null);\n\n  return {\n    ...disclosure,\n    modal,\n    setModal,\n    disclosureRef: disclosureRef,\n  };\n}\n", "// Automatically generated\nexport const USE_DRAWER_STATE_KEYS = [\n  \"baseId\",\n  \"visible\",\n  \"defaultVisible\",\n  \"onVisibleChange\",\n  \"modal\",\n] as const;\nexport const DRAWER_STATE_KEYS = [\n  \"baseId\",\n  \"unstable_idCountRef\",\n  \"visible\",\n  \"modal\",\n  \"disclosureRef\",\n  \"setBaseId\",\n  \"show\",\n  \"hide\",\n  \"toggle\",\n  \"setVisible\",\n  \"setModal\",\n] as const;\nexport const DRAWER_KEYS = [...DRAWER_STATE_KEYS, \"placement\"] as const;\nexport const DRAWER_BACKDROP_KEYS = DRAWER_STATE_KEYS;\nexport const DRAWER_DISCLOSURE_KEYS = DRAWER_BACKDROP_KEYS;\n", "import { DialogHTMLProps, DialogOptions, useDialog } from \"../dialog\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { DRAWER_KEYS } from \"./__keys\";\n\nexport type DrawerOptions = DialogOptions & {\n  /**\n   * Direction to place the drawer.\n   *\n   * @default left\n   */\n  placement: Placement;\n};\n\nexport type DrawerHTMLProps = DialogHTMLProps;\n\nexport type DrawerProps = DrawerOptions & DrawerHTMLProps;\n\nexport const useDrawer = createHook<DrawerOptions, DrawerHTMLProps>({\n  name: \"Drawer\",\n  compose: useDialog,\n  keys: DRAWER_KEYS,\n\n  useOptions(options, htmlProps) {\n    const { placement = \"left\" } = options;\n\n    return {\n      ...options,\n      placement,\n    };\n  },\n\n  useProps(options, htmlProps) {\n    const { placement } = options;\n    const { style: htmlStyles, ...restHtmlProps } = htmlProps;\n\n    return {\n      style: {\n        ...PLACEMENTS[placement],\n        position: \"fixed\",\n        ...htmlStyles,\n      },\n      ...restHtmlProps,\n    };\n  },\n});\n\nexport const Drawer = createComponent({\n  as: \"div\",\n  useHook: useDrawer,\n});\n\nexport type Placement = keyof typeof PLACEMENTS;\n\nconst PLACEMENTS = {\n  left: {\n    left: 0,\n    top: 0,\n    bottom: 0,\n    height: \"100vh\",\n  },\n  right: {\n    right: 0,\n    top: 0,\n    bottom: 0,\n    height: \"100vh\",\n  },\n  top: {\n    right: 0,\n    left: 0,\n    top: 0,\n    width: \"100vw\",\n  },\n  bottom: {\n    right: 0,\n    left: 0,\n    bottom: 0,\n    width: \"100vw\",\n  },\n};\n", "import {\n  DialogBackdropHTMLProps,\n  DialogBackdropOptions,\n  useDialogBackdrop,\n} from \"../dialog\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { DRAWER_BACKDROP_KEYS } from \"./__keys\";\n\nexport type DrawerBackdropOptions = DialogBackdropOptions;\n\nexport type DrawerBackdropHTMLProps = DialogBackdropHTMLProps;\n\nexport type DrawerBackdropProps = DrawerBackdropOptions &\n  DrawerBackdropHTMLProps;\n\nexport const useDrawerBackdrop = createHook<\n  DrawerBackdropOptions,\n  DrawerBackdropHTMLProps\n>({\n  name: \"DrawerBackdrop\",\n  compose: useDialogBackdrop,\n  keys: DRAWER_BACKDROP_KEYS,\n\n  useOptions({ modal = false, ...options }) {\n    return { modal, ...options };\n  },\n});\n\nexport const DrawerBackdrop = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useDrawerBackdrop,\n});\n", "import {\n  DialogDisclosureHTMLProps,\n  DialogDisclosureOptions,\n  useDialogDisclosure,\n} from \"../dialog\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { DRAWER_DISCLOSURE_KEYS } from \"./__keys\";\n\nexport type DrawerDisclosureOptions = DialogDisclosureOptions & {};\nexport type DrawerDisclosureHTMLProps = DialogDisclosureHTMLProps;\n\nexport type DrawerDisclosureProps = DrawerDisclosureOptions &\n  DrawerDisclosureHTMLProps;\n\nexport const useDrawerDisclosure = createHook<\n  DrawerDisclosureOptions,\n  DrawerDisclosureHTMLProps\n>({\n  name: \"DrawerDisclosure\",\n  compose: useDialogDisclosure,\n  keys: DRAWER_DISCLOSURE_KEYS,\n\n  useOptions(options, htmlProps) {\n    return options;\n  },\n\n  useProps(options, htmlProps) {\n    return htmlProps;\n  },\n});\n\nexport const DrawerDisclosure = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useDrawerDisclosure,\n});\n", "import {\n  DialogActions,\n  DialogInitialState,\n  DialogState,\n  useDialogState,\n} from \"../dialog\";\n\nexport type DrawerState = DialogState & {};\n\nexport type DrawerActions = DialogActions & {};\n\nexport type DrawerInitialState = DialogInitialState;\n\nexport type DrawerStateReturn = DrawerState & DrawerActions;\n\nexport function useDrawerState(\n  props: DrawerInitialState = {},\n): DrawerStateReturn {\n  const dialog = useDialogState(props);\n\n  return {\n    ...dialog,\n  };\n}\n", "// Automatically generated\nexport const USE_METER_STATE_KEYS = [\n  \"value\",\n  \"min\",\n  \"max\",\n  \"low\",\n  \"optimum\",\n  \"high\",\n] as const;\nexport const METER_STATE_KEYS = [\n  ...USE_METER_STATE_KEYS,\n  \"percent\",\n  \"status\",\n] as const;\nexport const METER_KEYS = METER_STATE_KEYS;\n", "import { createComponent, createHook, useCreateElement } from \"reakit-system\";\nimport { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\nimport { useWarning } from \"reakit-warning\";\n\nimport { METER_KEYS } from \"./__keys\";\nimport { MeterStateReturn } from \"./MeterState\";\n\nexport type MeterOptions = RoleOptions &\n  Pick<MeterStateReturn, \"value\" | \"max\" | \"min\" | \"percent\">;\n\nexport type MeterHTMLProps = RoleHTMLProps;\n\nexport type MeterProps = MeterOptions & MeterHTMLProps;\n\nexport const useMeter = createHook<MeterOptions, MeterHTMLProps>({\n  name: \"Meter\",\n  compose: useRole,\n  keys: METER_KEYS,\n\n  useProps(options, htmlProps) {\n    const { value, max, min, percent } = options;\n\n    // Use the meter role if available, but fall back to progressbar if not\n    // Chrome currently falls back from meter automatically, and Firefox\n    // does not support meter at all. Safari 13+ seems to support meter properly.\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=944542\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1460378\n    // @see https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/meter/src/useMeter.ts\n    return {\n      role: \"meter progressbar\",\n      \"aria-valuemax\": max,\n      \"aria-valuemin\": min,\n      \"aria-valuenow\": value,\n      \"aria-valuetext\": !percent.toString() ? undefined : `${percent}%`,\n      ...htmlProps,\n    };\n  },\n});\n\nexport const Meter = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useMeter,\n  useCreateElement: (type, props, children) => {\n    useWarning(\n      !props[\"aria-label\"] && !props[\"aria-labelledby\"],\n      \"You should provide either `aria-label` or `aria-labelledby` props.\",\n      \"See https://w3c.github.io/aria-practices/#wai-aria-roles-states-and-properties-15\",\n    );\n    return useCreateElement(type, props, children);\n  },\n});\n", "import { isNull } from \"../utils\";\n\n/**\n * Handle Inequalities with received values\n *\n * minimum  value  maximum\n * minimum  low  maximum (if low is specified)\n * minimum  high  maximum (if high is specified)\n * minimum  optimum  maximum (if optimum is specified)\n *\n * @see https://html.spec.whatwg.org/multipage/form-elements.html#the-meter-element:attr-meter-max-3:~:text=following%20inequalities%20must%20hold\n */\nexport function clamp(value: number, min: number, max: number) {\n  if (isNull(value)) return 0;\n\n  return Math.min(Math.max(value, min), max);\n}\n\ntype CalculateStatusProps = {\n  value: number;\n  optimum: number;\n  min: number;\n  max: number;\n  low: number;\n  high: number;\n};\n\nexport const calculateStatus = (props: CalculateStatusProps) => {\n  const { value, optimum, min, max, low, high } = props;\n\n  // This check always comes first\n  if (isInRange(optimum, low, high)) {\n    if (isInRange(value, low, high)) return \"safe\";\n    return \"caution\";\n  }\n\n  if (isInRange(optimum, min, low)) {\n    if (isInRange(value, min, low)) return \"safe\";\n    if (value > low && value <= high) return \"caution\";\n    return \"danger\";\n  }\n\n  if (isInRange(optimum, high, max)) {\n    if (isInRange(value, high, max)) return \"safe\";\n    if (value < high && value >= low) return \"caution\";\n    return \"danger\";\n  }\n\n  // A safe return\n  return \"safe\";\n};\n\nexport const isInRange = (value: number, min: number, max: number) =>\n  value >= min && value <= max;\n", "import { getOptimumValue, valueToPercent } from \"../utils\";\n\nimport { calculateStatus, clamp } from \"./helpers\";\n\ntype Status = \"safe\" | \"caution\" | \"danger\" | undefined;\n\nexport type MeterState = {\n  /**\n   * The `value` of the meter indicator.\n   *\n   * If `undefined`/`not valid` the meter bar will be equal to `min`\n   *\n   * @default 0\n   */\n  value: number;\n  /**\n   * The minimum value of the meter\n   * @default 0\n   */\n  min: number;\n  /**\n   * The maximum value of the meter\n   * @default 1\n   */\n  max: number;\n  /**\n   * The higher limit of min range.\n   *\n   * Defaults to `min`.\n   * @default 0\n   */\n  low: number;\n  /**\n   * The lower limit of max range.\n   *\n   * Defaults to `max`.\n   * @default 1\n   */\n  high: number;\n  /**\n   * The lower limit of max range.\n   *\n   * Defaults to `median of low & high`.\n   * @default 0.5\n   */\n  optimum: number;\n  /**\n   * Percentage of the value progressed with respect to min & max\n   */\n  percent: number;\n  /**\n   * Status of the Meter based on the optimum value\n   */\n  status: Status;\n};\n\nexport type MeterInitialState = Pick<\n  Partial<MeterState>,\n  \"value\" | \"min\" | \"max\" | \"low\" | \"optimum\" | \"high\"\n>;\n\nexport type MeterStateReturn = MeterState;\n\nexport const useMeterState = (\n  props: MeterInitialState = {},\n): MeterStateReturn => {\n  const { value: defaultValue = 0, min = 0, max = 1, ...sealed } = props;\n  const initialLow = sealed.low ?? min;\n  const initialHigh = sealed.high ?? max;\n  const initialOptimum =\n    sealed.optimum ?? getOptimumValue(initialLow, initialHigh);\n\n  const value = clamp(defaultValue, min, max);\n  const optimum = clamp(initialOptimum, min, max);\n  let low = clamp(initialLow, min, max);\n  let high = clamp(initialHigh, min, max);\n\n  // More inequalities handled\n  //  low  high (if both low and high are specified)\n  if (low >= high) low = high;\n  if (high <= low) high = low;\n\n  const status: Status = calculateStatus({\n    value,\n    min,\n    max,\n    low,\n    optimum,\n    high,\n  });\n  const percent = valueToPercent(value, min, max);\n\n  return {\n    value,\n    min,\n    max,\n    low,\n    optimum,\n    high,\n    status,\n    percent,\n  };\n};\n", "// Automatically generated\nexport const USE_NUMBERINPUT_STATE_KEYS = [\n  \"isDisabled\",\n  \"isReadOnly\",\n  \"value\",\n  \"min\",\n  \"max\",\n  \"keepWithinRange\",\n  \"step\",\n  \"precision\",\n  \"isInvalid\",\n  \"isRequired\",\n  \"defaultValue\",\n  \"onChange\",\n  \"focusInputOnChange\",\n] as const;\nexport const NUMBER_INPUT_STATE_KEYS = [\n  \"value\",\n  \"min\",\n  \"max\",\n  \"step\",\n  \"precision\",\n  \"keepWithinRange\",\n  \"valueAsNumber\",\n  \"isOutOfRange\",\n  \"isAtMax\",\n  \"isAtMin\",\n  \"inputRef\",\n  \"isReadOnly\",\n  \"isInvalid\",\n  \"isDisabled\",\n  \"isRequired\",\n  \"updateValue\",\n  \"setValue\",\n  \"setCastedValue\",\n  \"increment\",\n  \"decrement\",\n  \"reset\",\n  \"clampToPrecision\",\n  \"focusInput\",\n  \"spinUp\",\n  \"spinDown\",\n  \"spinStop\",\n] as const;\nexport const NUMBER_INPUT_KEYS = [\n  ...NUMBER_INPUT_STATE_KEYS,\n  \"clampValueOnBlur\",\n  \"allowMouseWheel\",\n] as const;\nexport const NUMBER_INPUT_DECREMENT_BUTTON_KEYS = NUMBER_INPUT_STATE_KEYS;\nexport const NUMBER_INPUT_INCREMENT_BUTTON_KEYS =\n  NUMBER_INPUT_DECREMENT_BUTTON_KEYS;\n", "import * as React from \"react\";\nimport { InputHTMLProps, InputOptions, useInput } from \"reakit\";\nimport { EventKeyMap, mergeRefs } from \"@chakra-ui/react-utils\";\nimport {\n  callAllHandlers,\n  normalizeEventKey,\n  StringOrNumber,\n} from \"@chakra-ui/utils\";\n\nimport { createComponent, createHook } from \"../system\";\nimport { ariaAttr } from \"../utils\";\n\nimport { NUMBER_INPUT_KEYS } from \"./__keys\";\nimport {\n  getStepFactor,\n  isValidNumericKeyboardEvent,\n  sanitize,\n} from \"./helpers\";\nimport { NumberInputStateReturn } from \"./NumberInputState\";\n\nexport type NumberInputOptions = InputOptions &\n  Pick<Partial<NumberInputStateReturn>, \"keepWithinRange\"> &\n  Pick<\n    NumberInputStateReturn,\n    | \"min\"\n    | \"max\"\n    | \"step\"\n    | \"updateValue\"\n    | \"increment\"\n    | \"decrement\"\n    | \"value\"\n    | \"valueAsNumber\"\n    | \"isOutOfRange\"\n    | \"setCastedValue\"\n    | \"inputRef\"\n    | \"isInvalid\"\n    | \"isDisabled\"\n    | \"isReadOnly\"\n    | \"isRequired\"\n  > & {\n    /**\n     * This controls the value update when you blur out of the input.\n     * - If `true` and the value is greater than `max`, the value will be reset to `max`\n     * - Else, the value remains the same.\n     *\n     * @default true\n     */\n    clampValueOnBlur?: boolean;\n    /**\n     * If `true`, the input's value will change based on mouse wheel\n     *\n     * @default true\n     */\n    allowMouseWheel?: boolean;\n  };\n\nexport type NumberInputHTMLProps = InputHTMLProps;\n\nexport type NumberInputProps = NumberInputOptions & NumberInputHTMLProps;\n\nexport const useNumberInput = createHook<\n  NumberInputOptions,\n  NumberInputHTMLProps\n>({\n  name: \"NumberInput\",\n  compose: useInput,\n  keys: NUMBER_INPUT_KEYS,\n\n  useOptions({ allowMouseWheel = true, clampValueOnBlur = true, ...options }) {\n    const disabled = options.disabled || options.isDisabled;\n\n    return {\n      allowMouseWheel,\n      clampValueOnBlur,\n      ...options,\n      disabled,\n    };\n  },\n\n  useProps(\n    options,\n    {\n      ref: htmlRef,\n      onChange: htmlOnChange,\n      onKeyDown: htmlOnKeyDown,\n      onFocus: htmlOnFocus,\n      onBlur: htmlOnBlur,\n      onWheel: htmlOnWheel,\n      required: htmlRequired,\n      readOnly: htmlReadOnly,\n      ...htmlProps\n    },\n  ) {\n    const {\n      min,\n      max,\n      step,\n      updateValue,\n      increment,\n      decrement,\n      value,\n      valueAsNumber,\n      clampValueOnBlur,\n      setCastedValue,\n      inputRef,\n      disabled,\n      isInvalid,\n      isReadOnly,\n      isRequired,\n      isOutOfRange,\n    } = options;\n\n    const readOnly = htmlReadOnly || isReadOnly;\n    const required = htmlRequired || isRequired;\n\n    /**\n     * The `onChange` handler filters out any character typed\n     * that isn't floating point compatible.\n     */\n    const onChange = React.useCallback(\n      (event: React.ChangeEvent<HTMLInputElement>) => {\n        updateValue(sanitize(event.target.value));\n      },\n      [updateValue],\n    );\n\n    const onKeyDown = React.useCallback(\n      (event: React.KeyboardEvent) => {\n        /**\n         * only allow valid numeric keys\n         */\n        if (!isValidNumericKeyboardEvent(event)) {\n          event.preventDefault();\n        }\n\n        /**\n         * Keyboard Accessibility\n         *\n         * We want to increase or decrease the input's value\n         * based on if the user the arrow keys.\n         *\n         * @see https://www.w3.org/TR/wai-aria-practices-1.1/#keyboard-interaction-17\n         */\n        const stepFactor = getStepFactor(event) * step;\n\n        const eventKey = normalizeEventKey(event);\n\n        const keyMap: EventKeyMap = {\n          ArrowUp: () => increment(stepFactor),\n          ArrowDown: () => decrement(stepFactor),\n          Home: () => updateValue(min),\n          End: () => updateValue(max),\n        };\n\n        const action = keyMap[eventKey];\n\n        if (action) {\n          event.preventDefault();\n          action(event);\n        }\n      },\n      [decrement, increment, max, min, step, updateValue],\n    );\n\n    const onBlur = React.useCallback(() => {\n      if (!clampValueOnBlur) return;\n\n      let next = value as StringOrNumber;\n\n      if (next === \"\") return;\n\n      if (valueAsNumber < min) {\n        next = min;\n      }\n\n      if (valueAsNumber > max) {\n        next = max;\n      }\n\n      /**\n       * `setCastedValue` does 2 things:\n       *\n       * - sanitize the value by using parseFloat and some Regex\n       * - used to round value to computed precision or decimal points\n       */\n      setCastedValue(next);\n    }, [setCastedValue, clampValueOnBlur, max, min, value, valueAsNumber]);\n\n    React.useEffect(() => {\n      const input = inputRef.current;\n      if (!input) return undefined;\n\n      function onWheel(event: WheelEvent) {\n        const isInputFocused = document.activeElement === inputRef.current;\n        if (!options.allowMouseWheel || !isInputFocused) return;\n\n        event.preventDefault();\n\n        const stepFactor = getStepFactor(event as any) * step;\n        const direction = Math.sign(event.deltaY);\n\n        if (direction === -1) {\n          increment(stepFactor);\n        } else if (direction === 1) {\n          decrement(stepFactor);\n        }\n      }\n\n      input.addEventListener(\"wheel\", onWheel);\n\n      return () => {\n        input.removeEventListener(\"wheel\", onWheel);\n      };\n    }, [decrement, increment, inputRef, options.allowMouseWheel, step]);\n\n    const onWheel = React.useCallback(\n      (event: React.WheelEvent) => {\n        if (!options.allowMouseWheel) return;\n\n        event.preventDefault();\n\n        const stepFactor = getStepFactor(event as any) * step;\n        const direction = Math.sign(event.deltaY);\n\n        if (direction === -1) {\n          increment(stepFactor);\n        } else if (direction === 1) {\n          decrement(stepFactor);\n        }\n      },\n      [decrement, increment, options.allowMouseWheel, step],\n    );\n\n    return {\n      ref: mergeRefs(htmlRef, inputRef),\n      value,\n      type: \"text\",\n      role: \"spinbutton\",\n      inputMode: \"decimal\",\n      pattern: \"[0-9]*(.[0-9]+)?\",\n      autoComplete: \"off\",\n      autoCorrect: \"off\",\n      spellCheck: false,\n      disabled,\n      readOnly,\n      required,\n      onChange: callAllHandlers(htmlOnChange, onChange),\n      onKeyDown: callAllHandlers(htmlOnKeyDown, onKeyDown),\n      onBlur: callAllHandlers(htmlOnBlur, onBlur),\n      onWheel: callAllHandlers(htmlOnWheel, onWheel),\n      \"aria-readonly\": readOnly,\n      \"aria-required\": required,\n      \"aria-invalid\": ariaAttr(isInvalid ?? isOutOfRange),\n      \"aria-valuemin\": min,\n      \"aria-valuemax\": max,\n      \"aria-valuenow\": Number.isNaN(valueAsNumber) ? undefined : valueAsNumber,\n      \"aria-valuetext\": !value.toString() ? undefined : value.toString(),\n      ...htmlProps,\n    };\n  },\n});\n\nexport const NumberInput = createComponent({\n  as: \"input\",\n  memo: true,\n  useHook: useNumberInput,\n});\n", "import { isFunction } from '@chakra-ui/utils';\nimport * as React from 'react';\n\n/**\n * Assigns a value to a ref function or object\n *\n * @param ref the ref to assign to\n * @param value the value\n */\nfunction assignRef(ref, value) {\n  if (ref == null) return;\n\n  if (isFunction(ref)) {\n    ref(value);\n    return;\n  }\n\n  try {\n    // @ts-ignore\n    ref.current = value;\n  } catch (error) {\n    throw new Error(\"Cannot assign value '\" + value + \"' to ref '\" + ref + \"'\");\n  }\n}\n/**\n * Combine multiple React refs into a single ref function.\n * This is used mostly when you need to allow consumers forward refs to\n * internal components\n *\n * @param refs refs to assign to value to\n */\n\nfunction mergeRefs() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return function (node) {\n    refs.forEach(function (ref) {\n      return assignRef(ref, node);\n    });\n  };\n}\n\n/**\n * Creates a named context, provider, and hook.\n *\n * @param options create context options\n */\nfunction createContext(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$strict = _options.strict,\n      strict = _options$strict === void 0 ? true : _options$strict,\n      _options$errorMessage = _options.errorMessage,\n      errorMessage = _options$errorMessage === void 0 ? \"useContext: `context` is undefined. Seems you forgot to wrap component within the Provider\" : _options$errorMessage,\n      name = _options.name;\n  var Context = /*#__PURE__*/React.createContext(undefined);\n  Context.displayName = name;\n\n  function useContext() {\n    var context = React.useContext(Context);\n\n    if (!context && strict) {\n      var error = new Error(errorMessage);\n      error.name = \"ContextError\";\n      Error.captureStackTrace == null ? void 0 : Error.captureStackTrace(error, useContext);\n      throw error;\n    }\n\n    return context;\n  }\n\n  return [Context.Provider, useContext, Context];\n}\n\n/**\n * Gets only the valid children of a component,\n * and ignores any nullish or falsy child.\n *\n * @param children the children\n */\n\nfunction getValidChildren(children) {\n  return React.Children.toArray(children).filter(function (child) {\n    return /*#__PURE__*/React.isValidElement(child);\n  });\n}\n\nexport { assignRef, createContext, getValidChildren, mergeRefs };\n", "import { useCallback, useRef, useState } from \"react\";\nimport { useInterval, useUnmountEffect } from \"@chakra-ui/hooks\";\n\n/**\n * When click and hold on a button - the speed of auto changing the value.\n */\nconst CONTINUOUS_CHANGE_INTERVAL = 50;\n\n/**\n * When click and hold on a button - the delay before auto changing the value.\n */\nconst CONTINUOUS_CHANGE_DELAY = 300;\n\ntype Action = \"increment\" | \"decrement\";\n\n/**\n * React hook used in the number input to spin it's\n * value on long press of the spin buttons\n *\n * @param increment the function to increment\n * @param decrement the function to decrement\n */\nexport function useSpinner(increment: Function, decrement: Function) {\n  /**\n   * To keep incrementing/decrementing on press, we call that `spinning`\n   */\n  const [isSpinning, setIsSpinning] = useState(false);\n\n  // This state keeps track of the action (\"increment\" or \"decrement\")\n  const [action, setAction] = useState<Action | null>(null);\n\n  // To increment the value the first time you mousedown, we call that `runOnce`\n  const [runOnce, setRunOnce] = useState(true);\n\n  // Store the timeout instance id in a ref, so we can clear the timeout later\n  const timeoutRef = useRef<any>(null);\n\n  // Clears the timeout from memory\n  const removeTimeout = () => clearTimeout(timeoutRef.current);\n\n  /**\n   * useInterval hook provides a performant way to\n   * update the state value at specific interval\n   */\n  useInterval(\n    () => {\n      if (action === \"increment\") {\n        increment();\n      }\n      if (action === \"decrement\") {\n        decrement();\n      }\n    },\n    isSpinning ? CONTINUOUS_CHANGE_INTERVAL : null,\n  );\n\n  // Function to activate the spinning and increment the value\n  const up = useCallback(() => {\n    // increment the first fime\n    if (runOnce) {\n      increment();\n    }\n\n    // after a delay, keep incrementing at interval (\"spinning up\")\n    timeoutRef.current = setTimeout(() => {\n      setRunOnce(false);\n      setIsSpinning(true);\n      setAction(\"increment\");\n    }, CONTINUOUS_CHANGE_DELAY);\n  }, [increment, runOnce]);\n\n  // Function to activate the spinning and increment the value\n  const down = useCallback(() => {\n    // decrement the first fime\n    if (runOnce) {\n      decrement();\n    }\n\n    // after a delay, keep decrementing at interval (\"spinning down\")\n    timeoutRef.current = setTimeout(() => {\n      setRunOnce(false);\n      setIsSpinning(true);\n      setAction(\"decrement\");\n    }, CONTINUOUS_CHANGE_DELAY);\n  }, [decrement, runOnce]);\n\n  // Function to stop spinng (useful for mouseup, keyup handlers)\n  const stop = useCallback(() => {\n    setRunOnce(true);\n    setIsSpinning(false);\n    removeTimeout();\n  }, []);\n\n  /**\n   * If the component unmounts while spinning,\n   * let's clear the timeout as well\n   */\n  useUnmountEffect(removeTimeout);\n\n  return { up, down, stop };\n}\n\nexport type useSpinnerReturn = ReturnType<typeof useSpinner>;\n", "import { KeyboardEvent } from \"react\";\n\nconst FLOATING_POINT_REGEX = /^[Ee0-9+\\-.]$/;\n\n/**\n * Determine if a character is a DOM floating point character\n * @see https://www.w3.org/TR/2012/WD-html-markup-20120329/datatypes.html#common.data.float\n */\nexport function isFloatingPointNumericCharacter(character: string) {\n  return FLOATING_POINT_REGEX.test(character);\n}\n\nexport const sanitize = (value: string) =>\n  value.split(\"\").filter(isFloatingPointNumericCharacter).join(\"\");\n\n/**\n * Determine if the event is a valid numeric keyboard event.\n * We use this so we can prevent non-number characters in the input\n */\nexport function isValidNumericKeyboardEvent(event: React.KeyboardEvent) {\n  if (event.key == null) return true;\n\n  const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n\n  if (isModifierKey) {\n    return true;\n  }\n\n  const isSingleCharacterKey = event.key.length === 1;\n\n  if (!isSingleCharacterKey) {\n    return true;\n  }\n\n  return isFloatingPointNumericCharacter(event.key);\n}\n\nexport function getStepFactor(event: KeyboardEvent) {\n  let ratio = 1;\n\n  if (event.metaKey || event.ctrlKey) {\n    ratio = 0.1;\n  }\n\n  if (event.shiftKey) {\n    ratio = 10;\n  }\n\n  return ratio;\n}\n\nexport * from \"./useSpinner\";\n", "import * as React from \"react\";\nimport { ButtonHTMLProps, ButtonOptions, useButton } from \"reakit\";\nimport { callAllHandlers } from \"@chakra-ui/utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { NUMBER_INPUT_DECREMENT_BUTTON_KEYS } from \"./__keys\";\nimport { NumberInputStateReturn } from \"./index\";\n\nexport type NumberInputDecrementButtonOptions = ButtonOptions &\n  Pick<Partial<NumberInputStateReturn>, \"keepWithinRange\"> &\n  Pick<\n    NumberInputStateReturn,\n    \"focusInput\" | \"isAtMin\" | \"spinDown\" | \"spinStop\" | \"isDisabled\"\n  >;\n\nexport type NumberInputDecrementButtonHTMLProps = ButtonHTMLProps;\n\nexport type NumberInputDecrementButtonProps =\n  NumberInputDecrementButtonOptions & NumberInputDecrementButtonHTMLProps;\n\nexport const useNumberInputDecrementButton = createHook<\n  NumberInputDecrementButtonOptions,\n  NumberInputDecrementButtonHTMLProps\n>({\n  name: `NumberInput`,\n  compose: useButton,\n  keys: NUMBER_INPUT_DECREMENT_BUTTON_KEYS,\n\n  useOptions(options) {\n    const { keepWithinRange, isAtMin } = options;\n    const disabled =\n      options.disabled || (keepWithinRange && isAtMin) || options.isDisabled;\n\n    return { ...options, disabled };\n  },\n\n  useProps(\n    options,\n    {\n      onMouseDown,\n      onMouseUp,\n      onMouseLeave,\n      onTouchStart,\n      onTouchEnd,\n      ...htmlProps\n    },\n  ) {\n    const {\n      spinDown: spinDownProp,\n      spinStop: spinStopProp,\n      focusInput,\n    } = options;\n\n    const spinDown = React.useCallback(\n      (event: any) => {\n        event.preventDefault();\n        spinDownProp();\n        focusInput();\n      },\n      [focusInput, spinDownProp],\n    );\n\n    const spinStop = React.useCallback(\n      (event: any) => {\n        event.preventDefault();\n        spinStopProp();\n      },\n      [spinStopProp],\n    );\n\n    React.useEffect(() => {\n      // Need to stop the spinner when isAtMin\n      if (options.disabled) spinStopProp();\n    }, [options.disabled, spinStopProp]);\n\n    return {\n      \"aria-hidden\": true,\n      tabIndex: -1,\n      onMouseDown: callAllHandlers(onMouseDown, spinDown),\n      onTouchStart: callAllHandlers(onTouchStart, spinDown),\n      onMouseUp: callAllHandlers(onMouseUp, spinStop),\n      onMouseLeave: callAllHandlers(onMouseLeave, spinStop),\n      onTouchEnd: callAllHandlers(onTouchEnd, spinStop),\n      ...htmlProps,\n    };\n  },\n});\n\nexport const NumberInputDecrementButton = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useNumberInputDecrementButton,\n});\n", "import * as React from \"react\";\nimport { ButtonHTMLProps, ButtonOptions, useButton } from \"reakit\";\nimport { callAllHandlers } from \"@chakra-ui/utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { NUMBER_INPUT_INCREMENT_BUTTON_KEYS } from \"./__keys\";\nimport { NumberInputStateReturn } from \"./index\";\n\nexport type NumberInputIncrementButtonOptions = ButtonOptions &\n  Pick<Partial<NumberInputStateReturn>, \"keepWithinRange\"> &\n  Pick<\n    NumberInputStateReturn,\n    \"focusInput\" | \"isAtMax\" | \"spinUp\" | \"spinStop\" | \"isDisabled\"\n  >;\n\nexport type NumberInputIncrementButtonHTMLProps = ButtonHTMLProps;\n\nexport type NumberInputIncrementButtonProps =\n  NumberInputIncrementButtonOptions & NumberInputIncrementButtonHTMLProps;\n\nexport const useNumberInputIncrementButton = createHook<\n  NumberInputIncrementButtonOptions,\n  NumberInputIncrementButtonHTMLProps\n>({\n  name: `NumberInput`,\n  compose: useButton,\n  keys: NUMBER_INPUT_INCREMENT_BUTTON_KEYS,\n\n  useOptions(options) {\n    const { keepWithinRange, isAtMax } = options;\n    const disabled =\n      options.disabled || (keepWithinRange && isAtMax) || options.isDisabled;\n\n    return { ...options, disabled };\n  },\n\n  useProps(\n    options,\n    {\n      onMouseDown,\n      onMouseUp,\n      onMouseLeave,\n      onTouchStart,\n      onTouchEnd,\n      ...htmlProps\n    },\n  ) {\n    const { spinUp: spinUpProp, spinStop: spinStopProp, focusInput } = options;\n\n    const spinUp = React.useCallback(\n      (event: any) => {\n        event.preventDefault();\n        spinUpProp();\n        focusInput();\n      },\n      [focusInput, spinUpProp],\n    );\n\n    const spinStop = React.useCallback(\n      (event: any) => {\n        event.preventDefault();\n        spinStopProp();\n      },\n      [spinStopProp],\n    );\n\n    React.useEffect(() => {\n      // Need to stop the spinner when isAtMax\n      if (options.disabled) spinStopProp();\n    }, [options.disabled, spinStopProp]);\n\n    return {\n      \"aria-hidden\": true,\n      tabIndex: -1,\n      onMouseDown: callAllHandlers(onMouseDown, spinUp),\n      onTouchStart: callAllHandlers(onTouchStart, spinUp),\n      onMouseUp: callAllHandlers(onMouseUp, spinStop),\n      onMouseLeave: callAllHandlers(onMouseLeave, spinStop),\n      onTouchEnd: callAllHandlers(onTouchEnd, spinStop),\n      ...htmlProps,\n    };\n  },\n});\n\nexport const NumberInputIncrementButton = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useNumberInputIncrementButton,\n});\n", "/**\n * All credit goes to [Segun Adebayo](https://github.com/segunadebayo) for\n * creating an Awesome Library [Chakra UI](https://github.com/chakra-ui/chakra-ui/)\n * We improved the hook [useNumberInput](https://github.com/chakra-ui/chakra-ui/blob/develop/packages/number-input/src/use-number-input.ts)\n * to work with Reakit System\n */\nimport * as React from \"react\";\nimport { useCounter } from \"@chakra-ui/counter\";\nimport { useSafeLayoutEffect } from \"@chakra-ui/hooks\";\nimport {\n  focus,\n  maxSafeInteger,\n  minSafeInteger,\n  StringOrNumber,\n} from \"@chakra-ui/utils\";\n\nimport { sanitize, useSpinner, useSpinnerReturn } from \"./helpers\";\n\nexport type NumberInputState = {\n  /**\n   * The value of the counter. Should be less than `max` and greater than `min`\n   *\n   * If no value, initial value is set to `\"\"`\n   */\n  value: StringOrNumber;\n  /**\n   * The minimum value of the counter\n   *\n   * @default Number.MIN_SAFE_INTEGER\n   */\n  min: number;\n  /**\n   * The maximum value of the counter\n   *\n   * @default Number.MAX_SAFE_INTEGER\n   */\n  max: number;\n  /**\n   * The step used to increment or decrement the value\n   *\n   * @default 1\n   */\n  step: number;\n  /**\n   * The number of decimal points used to round the value\n   *\n   * If no precision, initial value is from the decimal places from value/step - `0`\n   */\n  precision: number;\n  /**\n   * This controls the value update behavior in general.\n   *\n   * - If `true` and you use the stepper or up/down arrow keys,\n   *  the value will not exceed the `max` or go lower than `min`\n   *\n   * - If `false`, the value will be allowed to go out of range.\n   *\n   * @default true\n   */\n  keepWithinRange: boolean;\n  /**\n   * The value of the counter in number.\n   */\n  valueAsNumber: number;\n  /**\n   * True, if value is less than `min` & greater than `max`.\n   */\n  isOutOfRange: boolean;\n  /**\n   * True, if value is equal to max.\n   */\n  isAtMax: boolean;\n  /**\n   * Truw, if value is equal to min.\n   */\n  isAtMin: boolean;\n  /**\n   * The Input Element.\n   */\n  inputRef: React.RefObject<HTMLElement | null>;\n  /**\n   * If `true`, the input will be in readonly mode\n   */\n  isReadOnly?: boolean;\n  /**\n   * If `true`, the input will have `aria-invalid` set to `true`\n   */\n  isInvalid?: boolean;\n  /**\n   * If `true`, the input will be disabled\n   */\n  isDisabled?: boolean;\n  /**\n   * If `true`, the input will required to be given a value\n   */\n  isRequired?: boolean;\n};\n\nexport type NumberInputAction = {\n  /**\n   * Set the value which will be converted to string.\n   */\n  updateValue: (next: StringOrNumber) => void;\n  /**\n   * Set the value which will be converted to string.\n   */\n  setValue: (next: StringOrNumber) => void;\n  /**\n   * Set the casted value based on precision & step.\n   */\n  setCastedValue: (value: StringOrNumber) => void;\n  /**\n   * Increment the value based on the step\n   */\n  increment: (step: NumberInputState[\"step\"]) => void;\n  /**\n   * Decrement the value based on the step\n   */\n  decrement: (step: NumberInputState[\"step\"]) => void;\n  /**\n   * Reset the value back to initial value\n   */\n  reset: () => void;\n  /**\n   * Clamp value with precision\n   */\n  clampToPrecision: (value: number) => void;\n  /**\n   * Focus input if focus input on value change is `true`\n   */\n  focusInput: () => void;\n  /**\n   * Spinner handler that increments the value after an interval\n   */\n  spinUp: useSpinnerReturn[\"up\"];\n  /**\n   * Spinner handler that decrements the value after an interval\n   */\n  spinDown: useSpinnerReturn[\"down\"];\n  /**\n   * Spinner handler that Stop it from incrementing or decrementing\n   */\n  spinStop: useSpinnerReturn[\"stop\"];\n};\n\nexport type NumberinputInitialState = Pick<\n  Partial<NumberInputState>,\n  | \"value\"\n  | \"keepWithinRange\"\n  | \"min\"\n  | \"max\"\n  | \"step\"\n  | \"precision\"\n  | \"isDisabled\"\n  | \"isInvalid\"\n  | \"isReadOnly\"\n  | \"isRequired\"\n> & {\n  /**\n   * The initial value of the counter. Should be less than `max` and greater than `min`\n   *\n   * @default \"\"\n   */\n  defaultValue?: StringOrNumber;\n  /**\n   * The callback fired when the value changes\n   */\n  onChange?(valueAsString: string, valueAsNumber: number): void;\n  /**\n   * If `true`, the input will be focused as you increment\n   * or decrement the value with the stepper\n   *\n   * @default true\n   */\n  focusInputOnChange?: boolean;\n};\n\nexport type NumberInputStateReturn = NumberInputState & NumberInputAction;\n\nexport function useNumberInputState(\n  props: NumberinputInitialState = {},\n): NumberInputStateReturn {\n  const {\n    min = minSafeInteger,\n    max = maxSafeInteger,\n    step: stepProp = 1,\n    keepWithinRange = true,\n    focusInputOnChange = true,\n    isReadOnly,\n    isDisabled,\n    isInvalid,\n    isRequired,\n  } = props;\n\n  /**\n   * Leverage the `useCounter` hook since it provides\n   * the functionality to `increment`, `decrement` and `update`\n   * counter values\n   */\n  const counter = useCounter(props);\n\n  const {\n    update: updateValue,\n    cast: setCastedValue,\n    clamp: clampToPrecision,\n    increment: incrementFn,\n    decrement: decrementFn,\n    ...counterProps\n  } = counter;\n\n  const isInteractive = !(isReadOnly || isDisabled);\n\n  const increment = React.useCallback(\n    (step = stepProp) => {\n      if (isInteractive) {\n        incrementFn(step);\n      }\n    },\n    [incrementFn, isInteractive, stepProp],\n  );\n\n  const decrement = React.useCallback(\n    (step = stepProp) => {\n      if (isInteractive) {\n        decrementFn(step);\n      }\n    },\n    [decrementFn, isInteractive, stepProp],\n  );\n\n  /**\n   * Leverage the `useSpinner` hook to spin the input's value\n   * when long press on the up and down buttons.\n   *\n   * This leverages `setInterval` internally\n   */\n  const spinner = useSpinner(increment, decrement);\n\n  const inputRef = React.useRef<HTMLInputElement>(null);\n\n  /**\n   * Sync state with uncontrolled form libraries like `react-hook-form`.\n   */\n  useSafeLayoutEffect(() => {\n    if (!inputRef.current) return;\n\n    const notInSync = inputRef.current.value !== counter.value;\n\n    if (notInSync) {\n      counter.setValue(sanitize(inputRef.current.value));\n    }\n  }, [counter.value]);\n\n  const focusInput = React.useCallback(() => {\n    if (focusInputOnChange && inputRef.current) {\n      focus(inputRef.current, { nextTick: true });\n    }\n  }, [focusInputOnChange]);\n\n  return {\n    min,\n    max,\n    step: stepProp,\n    keepWithinRange,\n    updateValue,\n    setCastedValue,\n    clampToPrecision,\n    increment,\n    decrement,\n    ...counterProps,\n    inputRef,\n    focusInput,\n    spinUp: spinner.up,\n    spinDown: spinner.down,\n    spinStop: spinner.stop,\n    isReadOnly,\n    isDisabled,\n    isInvalid,\n    isRequired,\n  };\n}\n", "import { useCallbackRef, useControllableProp } from '@chakra-ui/hooks';\nimport { countDecimalPlaces, clampValue, toPrecision, minSafeInteger, maxSafeInteger } from '@chakra-ui/utils';\nimport { useState, useCallback } from 'react';\n\nfunction useCounter(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      onChange = _props.onChange,\n      precisionProp = _props.precision,\n      defaultValue = _props.defaultValue,\n      valueProp = _props.value,\n      _props$step = _props.step,\n      stepProp = _props$step === void 0 ? 1 : _props$step,\n      _props$min = _props.min,\n      min = _props$min === void 0 ? minSafeInteger : _props$min,\n      _props$max = _props.max,\n      max = _props$max === void 0 ? maxSafeInteger : _props$max,\n      _props$keepWithinRang = _props.keepWithinRange,\n      keepWithinRange = _props$keepWithinRang === void 0 ? true : _props$keepWithinRang;\n  var onChangeProp = useCallbackRef(onChange);\n\n  var _useState = useState(function () {\n    var _cast;\n\n    if (defaultValue == null) return \"\";\n    return (_cast = cast(defaultValue, stepProp, precisionProp)) != null ? _cast : \"\";\n  }),\n      valueState = _useState[0],\n      setValue = _useState[1];\n  /**\n   * Because the component that consumes this hook can be controlled or uncontrolled\n   * we'll keep track of that\n   */\n\n\n  var _useControllableProp = useControllableProp(valueProp, valueState),\n      isControlled = _useControllableProp[0],\n      value = _useControllableProp[1];\n\n  var decimalPlaces = getDecimalPlaces(parse(value), stepProp);\n  var precision = precisionProp != null ? precisionProp : decimalPlaces;\n  var update = useCallback(function (next) {\n    if (next === value) return;\n\n    if (!isControlled) {\n      setValue(next.toString());\n    }\n\n    onChangeProp == null ? void 0 : onChangeProp(next.toString(), parse(next));\n  }, [onChangeProp, isControlled, value]); // Function to clamp the value and round it to the precision\n\n  var clamp = useCallback(function (value) {\n    var nextValue = value;\n\n    if (keepWithinRange) {\n      nextValue = clampValue(nextValue, min, max);\n    }\n\n    return toPrecision(nextValue, precision);\n  }, [precision, keepWithinRange, max, min]);\n  var increment = useCallback(function (step) {\n    if (step === void 0) {\n      step = stepProp;\n    }\n\n    var next;\n    /**\n     * Let's follow the native browser behavior for\n     * scenarios where the input starts empty (\"\")\n     */\n\n    if (value === \"\") {\n      /**\n       * If `min` is set, native input, starts at the `min`.\n       * Else, it starts at `step`\n       */\n      next = parse(step);\n    } else {\n      next = parse(value) + step;\n    }\n\n    next = clamp(next);\n    update(next);\n  }, [clamp, stepProp, update, value]);\n  var decrement = useCallback(function (step) {\n    if (step === void 0) {\n      step = stepProp;\n    }\n\n    var next; // Same thing here. We'll follow native implementation\n\n    if (value === \"\") {\n      next = parse(-step);\n    } else {\n      next = parse(value) - step;\n    }\n\n    next = clamp(next);\n    update(next);\n  }, [clamp, stepProp, update, value]);\n  var reset = useCallback(function () {\n    var next;\n\n    if (defaultValue == null) {\n      next = \"\";\n    } else {\n      var _cast2;\n\n      next = (_cast2 = cast(defaultValue, stepProp, precisionProp)) != null ? _cast2 : min;\n    }\n\n    update(next);\n  }, [defaultValue, precisionProp, stepProp, update, min]);\n  var castValue = useCallback(function (value) {\n    var _cast3;\n\n    var nextValue = (_cast3 = cast(value, stepProp, precision)) != null ? _cast3 : min;\n    update(nextValue);\n  }, [precision, stepProp, update, min]);\n  var valueAsNumber = parse(value);\n  /**\n   * Common range checks\n   */\n\n  var isOutOfRange = valueAsNumber > max || valueAsNumber < min;\n  var isAtMax = valueAsNumber === max;\n  var isAtMin = valueAsNumber === min;\n  return {\n    isOutOfRange: isOutOfRange,\n    isAtMax: isAtMax,\n    isAtMin: isAtMin,\n    precision: precision,\n    value: value,\n    valueAsNumber: valueAsNumber,\n    update: update,\n    reset: reset,\n    increment: increment,\n    decrement: decrement,\n    clamp: clamp,\n    cast: castValue,\n    setValue: setValue\n  };\n}\n\nfunction parse(value) {\n  return parseFloat(value.toString().replace(/[^\\w.-]+/g, \"\"));\n}\n\nfunction getDecimalPlaces(value, step) {\n  return Math.max(countDecimalPlaces(step), countDecimalPlaces(value));\n}\n\nfunction cast(value, step, precision) {\n  var parsedValue = parse(value);\n  if (Number.isNaN(parsedValue)) return undefined;\n  var decimalPlaces = getDecimalPlaces(parsedValue, step);\n  return toPrecision(parsedValue, precision != null ? precision : decimalPlaces);\n}\n\nexport { useCounter };\n", "// Automatically generated\nexport const USE_PAGINATION_STATE_KEYS = [\n  \"defaultPage\",\n  \"page\",\n  \"onChange\",\n  \"count\",\n  \"boundaryCount\",\n  \"siblingCount\",\n] as const;\nexport const PAGINATION_STATE_KEYS = [\n  \"currentPage\",\n  \"pages\",\n  \"isAtFirstPage\",\n  \"isAtLastPage\",\n  \"movePage\",\n  \"nextPage\",\n  \"prevPage\",\n  \"firstPage\",\n  \"lastPage\",\n] as const;\nexport const PAGINATION_KEYS = PAGINATION_STATE_KEYS;\nexport const PAGINATION_BUTTON_KEYS = [...PAGINATION_KEYS, \"goto\"] as const;\n", "import { createComponent, createHook, useCreateElement } from \"reakit-system\";\nimport { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\nimport { useWarning } from \"reakit-warning\";\n\nimport { PAGINATION_KEYS } from \"./__keys\";\nimport { PaginationStateReturn } from \"./PaginationState\";\n\nexport type PaginationOptions = RoleOptions & PaginationStateReturn;\n\nexport type PaginationHTMLProps = RoleHTMLProps;\n\nexport type PaginationProps = PaginationOptions & PaginationHTMLProps;\n\nexport const usePagination = createHook<PaginationOptions, PaginationHTMLProps>(\n  {\n    name: \"Pagination\",\n    compose: useRole,\n    keys: PAGINATION_KEYS,\n  },\n);\n\nexport const Pagination = createComponent({\n  as: \"nav\",\n  memo: true,\n  useHook: usePagination,\n  useCreateElement: (type, props, children) => {\n    useWarning(\n      !props[\"aria-label\"] && !props[\"aria-labelledby\"],\n      \"You should provide either `aria-label` or `aria-labelledby` props.\",\n      \"See https://mzl.la/2VCL8ys\",\n    );\n    return useCreateElement(type, props, children);\n  },\n});\n", "import * as React from \"react\";\nimport { ButtonHTMLProps, ButtonOptions, useButton } from \"reakit\";\nimport { callAllHandlers, isNumber } from \"@chakra-ui/utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { PAGINATION_BUTTON_KEYS } from \"./__keys\";\nimport { PaginationStateReturn } from \"./PaginationState\";\n\nexport type TGoto = \"nextPage\" | \"prevPage\" | \"lastPage\" | \"firstPage\" | number;\n\nexport type PaginationButtonOptions = ButtonOptions &\n  Pick<\n    PaginationStateReturn,\n    | \"currentPage\"\n    | \"movePage\"\n    | \"nextPage\"\n    | \"prevPage\"\n    | \"firstPage\"\n    | \"lastPage\"\n    | \"isAtLastPage\"\n    | \"isAtFirstPage\"\n  > & {\n    goto: TGoto;\n  };\n\nexport type PaginationButtonHTMLProps = ButtonHTMLProps;\n\nexport type PaginationButtonProps = PaginationButtonOptions &\n  PaginationButtonHTMLProps;\n\nexport const usePaginationButton = createHook<\n  PaginationButtonOptions,\n  PaginationButtonHTMLProps\n>({\n  name: \"PaginationButton\",\n  compose: useButton,\n  keys: PAGINATION_BUTTON_KEYS,\n\n  useOptions(options, { disabled: htmlDisabled }) {\n    const { goto, isAtLastPage, isAtFirstPage } = options;\n    let disabled = false;\n\n    if (goto === \"nextPage\" || goto === \"lastPage\") {\n      disabled = isAtLastPage;\n    }\n\n    if (goto === \"prevPage\" || goto === \"firstPage\") {\n      disabled = isAtFirstPage;\n    }\n\n    return {\n      disabled: htmlDisabled || disabled,\n      ...options,\n    };\n  },\n\n  useProps(options, { onClick: htmlOnClick, ...htmlProps }) {\n    const { currentPage, goto } = options;\n    const isCurrent = currentPage === goto;\n\n    const onClick = React.useCallback(() => {\n      if (options.disabled) return;\n\n      if (isNumber(goto)) {\n        options.movePage?.(goto);\n        return;\n      }\n\n      if ([\"nextPage\", \"prevPage\", \"lastPage\", \"firstPage\"].includes(goto)) {\n        options[goto]?.();\n        return;\n      }\n    }, [goto, options]);\n\n    const ariaLabel = isCurrent\n      ? `Page ${goto}`\n      : `Go to ${goto === \"prevPage\" ? \"previous\" : goto} Page`;\n\n    return {\n      \"aria-label\": ariaLabel,\n      \"aria-current\": isCurrent ? true : undefined,\n      onClick: callAllHandlers(onClick, htmlOnClick),\n      ...htmlProps,\n    };\n  },\n});\n\nexport const PaginationButton = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: usePaginationButton,\n});\n", "/**\n * Thanks to [Material UI](https://material-ui.com/)\n * Based on the logic from [usePagination Hook](https://github.com/mui-org/material-ui/blob/master/packages/material-ui-lab/src/Pagination/usePagination.js)\n */\nimport React from \"react\";\n\nimport { useControllableState } from \"../utils\";\n\nexport type PaginationState = {\n  /**\n   * The current active page\n   */\n  currentPage: number;\n  /**\n   * All the page with start & end ellipsis\n   */\n  pages: (string | number)[];\n  /**\n   * True, if the currentPage is at first page\n   */\n  isAtFirstPage: boolean;\n  /**\n   * True, if the currentPage is at last page\n   */\n  isAtLastPage: boolean;\n};\n\nexport type PaginationAction = {\n  /**\n   * Go to the specified page number\n   */\n  movePage: (page: number) => void;\n  /**\n   * Go to next page\n   */\n  nextPage: () => void;\n  /**\n   * Go to previous page\n   */\n  prevPage: () => void;\n  /**\n   * Go to first page\n   */\n  firstPage: () => void;\n  /**\n   * Go to last page\n   */\n  lastPage: () => void;\n};\n\nexport type PaginationInitialState = {\n  /**\n   * Set the default page(uncontrollable)\n   *\n   * @default 1\n   */\n  defaultPage?: number;\n  /**\n   * Set the page(controllable)\n   */\n  page?: number;\n  /**\n   *\n   */\n  onChange?: (page: number) => void;\n  /**\n   * Total no. of pages\n   *\n   * @default 1\n   */\n  count?: number;\n  /**\n   * No. of boundary pages to be visible\n   *\n   * @default 1\n   */\n  boundaryCount?: number;\n  /**\n   * No. of sibiling pages allowed before/after the current page\n   *\n   * @default 1\n   */\n  siblingCount?: number;\n};\n\nexport type PaginationStateReturn = PaginationState & PaginationAction;\n\nexport const usePaginationState = (\n  props: PaginationInitialState = {},\n): PaginationStateReturn => {\n  const {\n    defaultPage = 1,\n    page: currentPageProp,\n    onChange,\n    count = 1,\n    boundaryCount = 1,\n    siblingCount = 1,\n  } = props;\n\n  const [currentPage, setCurrentPage] = useControllableState({\n    value: currentPageProp,\n    defaultValue: defaultPage,\n    onChange,\n  });\n\n  const startPages = range(1, Math.min(boundaryCount, count));\n  const endPages = range(\n    Math.max(count - boundaryCount + 1, boundaryCount + 1),\n    count,\n  );\n\n  const siblingsStart = Math.max(\n    Math.min(\n      // Natural start\n      currentPage - siblingCount,\n      // Lower boundary when page is high\n      count - boundaryCount - siblingCount * 2 - 1,\n    ),\n    // Greater than startPages\n    boundaryCount + 2,\n  );\n\n  const siblingsEnd = Math.min(\n    Math.max(\n      // Natural end\n      currentPage + siblingCount,\n      // Upper boundary when page is low\n      boundaryCount + siblingCount * 2 + 2,\n    ),\n    // Less than endPages\n    endPages[0] - 2,\n  );\n\n  // Page to render\n  // e.g. pages = [1, 'start-ellipsis', 4, 5, 6, 'end-ellipsis', 10]\n  const pages = [\n    ...startPages,\n\n    // Start ellipsis\n    ...(siblingsStart > boundaryCount + 2\n      ? [\"start-ellipsis\"]\n      : boundaryCount + 1 < count - boundaryCount\n      ? [boundaryCount + 1]\n      : []),\n\n    // Sibling pages\n    ...range(siblingsStart, siblingsEnd),\n\n    // End ellipsis\n    ...(siblingsEnd < count - boundaryCount - 1\n      ? [\"end-ellipsis\"]\n      : count - boundaryCount > boundaryCount\n      ? [count - boundaryCount]\n      : []),\n\n    ...endPages,\n  ];\n\n  const nextPage = React.useCallback(() => {\n    setCurrentPage(prevPage => prevPage + 1);\n  }, [setCurrentPage]);\n\n  const prevPage = React.useCallback(() => {\n    setCurrentPage(prevPage => prevPage - 1);\n  }, [setCurrentPage]);\n\n  const firstPage = React.useCallback(() => {\n    setCurrentPage(1);\n  }, [setCurrentPage]);\n\n  const lastPage = React.useCallback(() => {\n    setCurrentPage(count);\n  }, [count, setCurrentPage]);\n\n  const movePage = React.useCallback(\n    page => {\n      if (page >= 1 && page <= count) setCurrentPage(page);\n    },\n    [count, setCurrentPage],\n  );\n\n  return {\n    pages,\n    currentPage,\n    isAtLastPage: currentPage >= count,\n    isAtFirstPage: currentPage <= 1,\n    nextPage,\n    prevPage,\n    movePage,\n    firstPage,\n    lastPage,\n  };\n};\n\nfunction range(start: number, end: number) {\n  const length = end - start + 1;\n\n  return Array.from({ length }, (_, i) => start + i);\n}\n", "// Automatically generated\nexport const POPOVER_STATE_KEYS = [\n  \"baseId\",\n  \"unstable_idCountRef\",\n  \"visible\",\n  \"modal\",\n  \"disclosureRef\",\n  \"popperStyles\",\n  \"arrowStyles\",\n  \"placedSide\",\n  \"placedAlign\",\n  \"side\",\n  \"align\",\n  \"sideOffset\",\n  \"alignOffset\",\n  \"arrowOffset\",\n  \"collisionTolerance\",\n  \"anchor\",\n  \"popper\",\n  \"arrow\",\n  \"setBaseId\",\n  \"show\",\n  \"hide\",\n  \"toggle\",\n  \"setVisible\",\n  \"setModal\",\n  \"setSide\",\n  \"setAlign\",\n  \"setSideOffset\",\n  \"setAlignOffset\",\n  \"setArrowOffset\",\n  \"setCollisionTolerance\",\n  \"setAnchor\",\n  \"setPopper\",\n  \"setArrow\",\n] as const;\nexport const USE_POPOVER_STATE_KEYS = [\n  \"baseId\",\n  \"visible\",\n  \"defaultVisible\",\n  \"onVisibleChange\",\n  \"modal\",\n  \"side\",\n  \"align\",\n  \"sideOffset\",\n  \"alignOffset\",\n  \"arrowOffset\",\n  \"collisionTolerance\",\n  \"enableCollisionsDetection\",\n] as const;\nexport const POPOVER_KEYS = POPOVER_STATE_KEYS;\nexport const POPOVER_ANCHOR_KEYS = POPOVER_KEYS;\nexport const POPOVER_ARROW_KEYS = POPOVER_ANCHOR_KEYS;\nexport const POPOVER_ARROW_CONTENT_KEYS = POPOVER_ARROW_KEYS;\nexport const POPOVER_BACKDROP_KEYS = POPOVER_ARROW_CONTENT_KEYS;\nexport const POPOVER_CONTENT_KEYS = POPOVER_BACKDROP_KEYS;\nexport const POPOVER_DISCLOSURE_KEYS = POPOVER_CONTENT_KEYS;\nexport const POPOVER_TRIGGER_KEYS = POPOVER_DISCLOSURE_KEYS;\n", "import { CSSProperties } from \"react\";\nimport { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { POPOVER_KEYS } from \"./__keys\";\nimport { PopoverStateReturn } from \"./PopoverState\";\n\nexport type PopoverOptions = RoleOptions &\n  Pick<PopoverStateReturn, \"popperStyles\">;\n\nexport type PopoverHTMLProps = RoleHTMLProps;\n\nexport type PopoverProps = PopoverOptions & PopoverHTMLProps;\n\nexport const usePopover = createHook<PopoverOptions, PopoverHTMLProps>({\n  name: \"Popover\",\n  compose: useRole,\n  keys: POPOVER_KEYS,\n\n  useProps(options, htmlProps) {\n    const { popperStyles } = options;\n    const { style: htmlStyle, ...restHtmlProps } = htmlProps;\n\n    return {\n      style: {\n        ...(popperStyles as CSSProperties),\n        ...htmlStyle,\n      },\n      ...restHtmlProps,\n    };\n  },\n});\n\nexport const Popover = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: usePopover,\n});\n", "import { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\nimport { useForkRef } from \"reakit-utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { POPOVER_ANCHOR_KEYS } from \"./__keys\";\nimport { PopoverStateReturn } from \"./PopoverState\";\n\nexport type PopoverAnchorOptions = RoleOptions &\n  Pick<PopoverStateReturn, \"setAnchor\">;\n\nexport type PopoverAnchorHTMLProps = RoleHTMLProps;\n\nexport type PopoverAnchorProps = PopoverAnchorOptions & PopoverAnchorHTMLProps;\n\nexport const usePopoverAnchor = createHook<\n  PopoverAnchorOptions,\n  PopoverAnchorHTMLProps\n>({\n  name: \"PopoverAnchor\",\n  compose: useRole,\n  keys: POPOVER_ANCHOR_KEYS,\n\n  useOptions(options, htmlProps) {\n    return options;\n  },\n\n  useProps(options, htmlProps) {\n    const { setAnchor } = options;\n    const { ref: htmlRef, ...restHtmlProps } = htmlProps;\n\n    return {\n      ref: useForkRef(setAnchor, htmlRef),\n      ...restHtmlProps,\n    };\n  },\n});\n\nexport const PopoverAnchor = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: usePopoverAnchor,\n});\n", "import { CSSProperties } from \"react\";\nimport { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { POPOVER_ARROW_KEYS } from \"./__keys\";\nimport { PopoverStateReturn } from \"./PopoverState\";\n\nexport type PopoverArrowOptions = RoleOptions &\n  Pick<PopoverStateReturn, \"arrowStyles\">;\n\nexport type PopoverArrowHTMLProps = RoleHTMLProps;\n\nexport type PopoverArrowProps = PopoverArrowOptions & PopoverArrowHTMLProps;\n\nexport const usePopoverArrow = createHook<\n  PopoverArrowOptions,\n  PopoverArrowHTMLProps\n>({\n  name: \"PopoverArrow\",\n  compose: useRole,\n  keys: POPOVER_ARROW_KEYS,\n\n  useOptions(options, htmlProps) {\n    return options;\n  },\n\n  useProps(options, htmlProps) {\n    const { arrowStyles } = options;\n    const { style: htmlStyle, ...restHtmlProps } = htmlProps;\n\n    return {\n      style: {\n        ...(arrowStyles as CSSProperties),\n        pointerEvents: \"none\",\n        ...htmlStyle,\n      },\n      ...restHtmlProps,\n    };\n  },\n});\n\nexport const PopoverArrow = createComponent({\n  as: \"span\",\n  memo: true,\n  useHook: usePopoverArrow,\n});\n", "import { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\nimport { useForkRef } from \"reakit-utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { POPOVER_ARROW_CONTENT_KEYS } from \"./__keys\";\nimport { PopoverStateReturn } from \"./PopoverState\";\n\nexport type PopoverArrowContentOptions = RoleOptions &\n  Pick<PopoverStateReturn, \"setArrow\">;\n\nexport type PopoverArrowContentHTMLProps = RoleHTMLProps;\n\nexport type PopoverArrowContentProps = PopoverArrowContentOptions &\n  PopoverArrowContentHTMLProps;\n\nexport const usePopoverArrowContent = createHook<\n  PopoverArrowContentOptions,\n  PopoverArrowContentHTMLProps\n>({\n  name: \"PopoverArrowContent\",\n  compose: useRole,\n  keys: POPOVER_ARROW_CONTENT_KEYS,\n\n  useOptions(options, htmlProps) {\n    return options;\n  },\n\n  useProps(options, htmlProps) {\n    const { setArrow } = options;\n    const { ref: htmlRef, ...restHtmlProps } = htmlProps;\n\n    return {\n      ref: useForkRef(setArrow, htmlRef),\n      ...restHtmlProps,\n    };\n  },\n});\n\nexport const PopoverArrowContent = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: usePopoverArrowContent,\n});\n", "import {\n  DialogBackdropHTMLProps,\n  DialogBackdropOptions,\n  useDialogBackdrop,\n} from \"../dialog\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { POPOVER_BACKDROP_KEYS } from \"./__keys\";\n\nexport type PopoverBackdropOptions = DialogBackdropOptions;\n\nexport type PopoverBackdropHTMLProps = DialogBackdropHTMLProps;\n\nexport type PopoverBackdropProps = PopoverBackdropOptions &\n  PopoverBackdropHTMLProps;\n\nexport const usePopoverBackdrop = createHook<\n  PopoverBackdropOptions,\n  PopoverBackdropHTMLProps\n>({\n  name: \"PopoverBackdrop\",\n  compose: useDialogBackdrop,\n  keys: POPOVER_BACKDROP_KEYS,\n\n  useOptions({ modal = false, ...options }) {\n    return { modal, ...options };\n  },\n});\n\nexport const PopoverBackdrop = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: usePopoverBackdrop,\n});\n", "import { useForkRef } from \"reakit-utils\";\n\nimport { DialogHTMLProps, DialogOptions, useDialog } from \"../dialog\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { POPOVER_DISCLOSURE_KEYS } from \"./__keys\";\nimport { PopoverStateReturn } from \"./PopoverState\";\n\nexport type PopoverContentOptions = DialogOptions &\n  Pick<PopoverStateReturn, \"setPopper\">;\n\nexport type PopoverContentHTMLProps = DialogHTMLProps;\n\nexport type PopoverContentProps = PopoverContentOptions &\n  PopoverContentHTMLProps;\n\nexport const usePopoverContent = createHook<\n  PopoverContentOptions,\n  PopoverContentHTMLProps\n>({\n  name: \"PopoverContent\",\n  compose: useDialog,\n  keys: POPOVER_DISCLOSURE_KEYS,\n\n  useOptions({ modal = false, ...options }) {\n    return { modal, ...options };\n  },\n\n  useProps(options, htmlProps) {\n    const { setPopper } = options;\n    const { ref: htmlRef, ...restHtmlProps } = htmlProps;\n\n    return {\n      ref: useForkRef(setPopper, htmlRef),\n      ...restHtmlProps,\n    };\n  },\n});\n\nexport const PopoverContent = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: usePopoverContent,\n});\n", "import { useForkRef } from \"reakit-utils\";\n\nimport {\n  DialogDisclosureHTMLProps,\n  DialogDisclosureOptions,\n  useDialogDisclosure,\n} from \"../dialog\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { POPOVER_DISCLOSURE_KEYS } from \"./__keys\";\nimport { PopoverStateReturn } from \"./PopoverState\";\n\nexport type PopoverDisclosureOptions = DialogDisclosureOptions &\n  Pick<PopoverStateReturn, \"setAnchor\">;\n\nexport type PopoverDisclosureHTMLProps = DialogDisclosureHTMLProps;\n\nexport type PopoverDisclosureProps = PopoverDisclosureOptions &\n  PopoverDisclosureHTMLProps;\n\nexport const usePopoverDisclosure = createHook<\n  PopoverDisclosureOptions,\n  PopoverDisclosureHTMLProps\n>({\n  name: \"PopoverDisclosure\",\n  compose: useDialogDisclosure,\n  keys: POPOVER_DISCLOSURE_KEYS,\n\n  useOptions(options, htmlProps) {\n    return options;\n  },\n\n  useProps(options, htmlProps) {\n    const { setAnchor } = options;\n    const { ref: htmlRef, ...restHtmlProps } = htmlProps;\n\n    return {\n      ref: useForkRef(setAnchor, htmlRef),\n      ...restHtmlProps,\n    };\n  },\n});\n\nexport const PopoverDisclosure = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: usePopoverDisclosure,\n});\n", "import * as React from \"react\";\nimport { getPlacementData, PlacementData } from \"@radix-ui/popper\";\nimport { useRect } from \"@radix-ui/react-use-rect\";\nimport { useSize } from \"@radix-ui/react-use-size\";\n\nimport {\n  DialogActions,\n  DialogInitialState,\n  DialogState,\n  useDialogState,\n} from \"../dialog\";\n\nexport type PopoverState = DialogState &\n  PlacementData & {\n    side: \"top\" | \"bottom\" | \"left\" | \"right\";\n    align: \"start\" | \"center\" | \"end\";\n    sideOffset: number;\n    alignOffset: number;\n    arrowOffset: number;\n    collisionTolerance: number;\n    anchor: HTMLDivElement | null;\n    popper: HTMLDivElement | null;\n    arrow: HTMLDivElement | null;\n  };\n\nexport type PopoverActions = DialogActions & {\n  setSide: React.Dispatch<React.SetStateAction<PopoverState[\"side\"]>>;\n  setAlign: React.Dispatch<React.SetStateAction<PopoverState[\"align\"]>>;\n  setSideOffset: React.Dispatch<React.SetStateAction<number>>;\n  setAlignOffset: React.Dispatch<React.SetStateAction<number>>;\n  setArrowOffset: React.Dispatch<React.SetStateAction<number>>;\n  setCollisionTolerance: React.Dispatch<React.SetStateAction<number>>;\n  setAnchor: React.Dispatch<React.SetStateAction<HTMLDivElement | null>>;\n  setPopper: React.Dispatch<React.SetStateAction<HTMLDivElement | null>>;\n  setArrow: React.Dispatch<React.SetStateAction<HTMLDivElement | null>>;\n};\n\nexport type PopoverStateReturn = PopoverState & PopoverActions;\n\nexport type PopoverInitialState = DialogInitialState &\n  Partial<\n    Pick<\n      PopoverState,\n      | \"side\"\n      | \"align\"\n      | \"sideOffset\"\n      | \"alignOffset\"\n      | \"arrowOffset\"\n      | \"collisionTolerance\"\n    >\n  > & {\n    enableCollisionsDetection?: boolean;\n  };\n\nexport const usePopoverState = (\n  props: PopoverInitialState = {},\n): PopoverStateReturn => {\n  const {\n    enableCollisionsDetection,\n    side: initialSide = \"bottom\",\n    align: initialAlign = \"center\",\n    sideOffset: initialSideOffset = 5,\n    alignOffset: initialAlignOffset = 0,\n    arrowOffset: initialArrowOffset = 20,\n    collisionTolerance: initialCollisionTolerance = 0,\n    modal = false,\n    ...restProps\n  } = props;\n  const dialog = useDialogState({ modal, ...restProps });\n\n  const [side, setSide] = React.useState(initialSide);\n  const [align, setAlign] = React.useState(initialAlign);\n  const [sideOffset, setSideOffset] = React.useState(initialSideOffset);\n  const [alignOffset, setAlignOffset] = React.useState(initialAlignOffset);\n  const [arrowOffset, setArrowOffset] = React.useState(initialArrowOffset);\n  const [collisionTolerance, setCollisionTolerance] = React.useState(\n    initialCollisionTolerance,\n  );\n\n  const [anchor, setAnchor] = React.useState<HTMLDivElement | null>(null);\n  const anchorRect = useRect(anchor);\n\n  const [popper, setPopper] = React.useState<HTMLDivElement | null>(null);\n  const popperSize = useSize(popper);\n\n  const [arrow, setArrow] = React.useState<HTMLDivElement | null>(null);\n  const arrowSize = useSize(arrow);\n\n  const windowSize = useWindowSize();\n  const collisionBoundariesRect = windowSize\n    ? DOMRect.fromRect({ ...windowSize, x: 0, y: 0 })\n    : undefined;\n\n  const placementData = getPlacementData({\n    popperSize,\n    anchorRect,\n    arrowSize,\n    arrowOffset,\n    side,\n    sideOffset,\n    align,\n    alignOffset,\n    shouldAvoidCollisions: enableCollisionsDetection,\n    collisionBoundariesRect,\n    collisionTolerance,\n  });\n\n  return {\n    ...placementData,\n    ...dialog,\n    side,\n    align,\n    sideOffset,\n    alignOffset,\n    arrowOffset,\n    collisionTolerance,\n    anchor,\n    popper,\n    arrow,\n    setSide,\n    setAlign,\n    setSideOffset,\n    setAlignOffset,\n    setArrowOffset,\n    setCollisionTolerance,\n    setAnchor,\n    setPopper,\n    setArrow,\n  };\n};\n\nconst WINDOW_RESIZE_DEBOUNCE_WAIT_IN_MS = 100;\n\nfunction useWindowSize() {\n  const [windowSize, setWindowSize] = React.useState<\n    { width: number; height: number } | undefined\n  >(undefined);\n\n  React.useEffect(() => {\n    let debounceTimerId: number;\n\n    function updateWindowSize() {\n      setWindowSize({ width: window.innerWidth, height: window.innerHeight });\n    }\n\n    function handleResize() {\n      window.clearTimeout(debounceTimerId);\n      debounceTimerId = window.setTimeout(\n        updateWindowSize,\n        WINDOW_RESIZE_DEBOUNCE_WAIT_IN_MS,\n      );\n    }\n\n    updateWindowSize();\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowSize;\n}\n", "import * as CSS from 'csstype';\n\nconst SIDE_OPTIONS = ['top', 'right', 'bottom', 'left'] as const;\nconst ALIGN_OPTIONS = ['start', 'center', 'end'] as const;\n\ntype Axis = 'x' | 'y';\ntype Side = typeof SIDE_OPTIONS[number];\ntype Align = typeof ALIGN_OPTIONS[number];\ntype Point = { x: number; y: number };\ntype Size = { width: number; height: number };\n\ntype GetPlacementDataOptions = {\n  /** The rect of the anchor we are placing around */\n  anchorRect?: ClientRect;\n  /** The size of the popper to place */\n  popperSize?: Size;\n  /** An optional arrow size */\n  arrowSize?: Size;\n  /** An optional arrow offset (along the side, default: 0) */\n  arrowOffset?: number;\n  /** The desired side */\n  side: Side;\n  /** An optional side offset (distance from the side, default: 0)  */\n  sideOffset?: number;\n  /** The desired alignment */\n  align: Align;\n  /** An optional alignment offset (distance along the side, default: 0) */\n  alignOffset?: number;\n  /** An option to turn on/off the collision handling (default: true) */\n  shouldAvoidCollisions?: boolean;\n  /** The rect which represents the boundaries for collision checks */\n  collisionBoundariesRect?: ClientRect;\n  /** The tolerance used for collisions, ie. if we want them to trigger a bit earlier (default: 0) */\n  collisionTolerance?: number;\n};\n\ntype PlacementData = {\n  popperStyles: CSS.Properties;\n  arrowStyles: CSS.Properties;\n  placedSide?: Side;\n  placedAlign?: Align;\n};\n\n/**\n * Given all the information necessary to compute it,\n * this function calculates all the necessary placement data.\n *\n * It will return:\n *\n * - the styles to apply to the popper (including a custom property that is useful to set the transform origin in the right place)\n * - the styles to apply to the arrow\n * - the placed side (because it might have changed because of collisions)\n * - the placed align (because it might have changed because of collisions)\n */\nfunction getPlacementData({\n  anchorRect,\n  popperSize,\n  arrowSize,\n  arrowOffset = 0,\n  side,\n  sideOffset = 0,\n  align,\n  alignOffset = 0,\n  shouldAvoidCollisions = true,\n  collisionBoundariesRect,\n  collisionTolerance = 0,\n}: GetPlacementDataOptions): PlacementData {\n  // if we're not ready to do all the measurements yet,\n  // we return some good default styles\n  if (!anchorRect || !popperSize || !collisionBoundariesRect) {\n    return {\n      popperStyles: UNMEASURED_POPPER_STYLES,\n      arrowStyles: UNMEASURED_ARROW_STYLES,\n    };\n  }\n\n  // pre-compute points for all potential placements\n  const allPlacementPoints = getAllPlacementPoints(\n    popperSize,\n    anchorRect,\n    sideOffset,\n    alignOffset,\n    arrowSize\n  );\n\n  // get point based on side / align\n  const popperPoint = allPlacementPoints[side][align];\n\n  // if we don't need to avoid collisions, we can stop here\n  if (shouldAvoidCollisions === false) {\n    const popperStyles = getPlacementStylesForPoint(popperPoint);\n\n    let arrowStyles = UNMEASURED_ARROW_STYLES;\n    if (arrowSize) {\n      arrowStyles = getPopperArrowStyles({ popperSize, arrowSize, arrowOffset, side, align });\n    }\n\n    const transformOrigin = getTransformOrigin(popperSize, side, align, arrowOffset, arrowSize);\n\n    return {\n      popperStyles: {\n        ...popperStyles,\n        ['--radix-popper-transform-origin' as any]: transformOrigin,\n      },\n      arrowStyles,\n      placedSide: side,\n      placedAlign: align,\n    };\n  }\n\n  // create a new rect as if element had been moved to new placement\n  const popperRect = DOMRect.fromRect({ ...popperSize, ...popperPoint });\n\n  // create a new rect representing the collision boundaries but taking into account any added tolerance\n  const collisionBoundariesRectWithTolerance = getContractedRect(\n    collisionBoundariesRect,\n    collisionTolerance\n  );\n\n  // check for any collisions in new placement\n  const popperCollisions = getCollisions(popperRect, collisionBoundariesRectWithTolerance);\n\n  // do all the same calculations for the opposite side\n  // this is because we need to check for potential collisions if we were to swap side\n  const oppositeSide = getOppositeSide(side);\n  const oppositeSidePopperPoint = allPlacementPoints[oppositeSide][align];\n  const updatedOppositeSidePopperPoint = DOMRect.fromRect({\n    ...popperSize,\n    ...oppositeSidePopperPoint,\n  });\n  const oppositeSidePopperCollisions = getCollisions(\n    updatedOppositeSidePopperPoint,\n    collisionBoundariesRectWithTolerance\n  );\n\n  // adjust side accounting for collisions / opposite side collisions\n  const placedSide = getSideAccountingForCollisions(\n    side,\n    popperCollisions,\n    oppositeSidePopperCollisions\n  );\n\n  // adjust alignnment accounting for collisions\n  const placedAlign = getAlignAccountingForCollisions(\n    popperSize,\n    anchorRect,\n    side,\n    align,\n    popperCollisions\n  );\n\n  const placedPopperPoint = allPlacementPoints[placedSide][placedAlign];\n\n  // compute adjusted popper / arrow styles\n  const popperStyles = getPlacementStylesForPoint(placedPopperPoint);\n\n  let arrowStyles = UNMEASURED_ARROW_STYLES;\n  if (arrowSize) {\n    arrowStyles = getPopperArrowStyles({\n      popperSize,\n      arrowSize,\n      arrowOffset,\n      side: placedSide,\n      align: placedAlign,\n    });\n  }\n\n  const transformOrigin = getTransformOrigin(\n    popperSize,\n    placedSide,\n    placedAlign,\n    arrowOffset,\n    arrowSize\n  );\n\n  return {\n    popperStyles: {\n      ...popperStyles,\n      ['--radix-popper-transform-origin' as any]: transformOrigin,\n    },\n    arrowStyles,\n    placedSide,\n    placedAlign,\n  };\n}\n\ntype AllPlacementPoints = Record<Side, Record<Align, Point>>;\n\nfunction getAllPlacementPoints(\n  popperSize: Size,\n  anchorRect: ClientRect,\n  sideOffset: number = 0,\n  alignOffset: number = 0,\n  arrowSize?: Size\n): AllPlacementPoints {\n  const arrowBaseToTipLength = arrowSize ? arrowSize.height : 0;\n\n  const x = getPopperSlotsForAxis(anchorRect, popperSize, 'x');\n  const y = getPopperSlotsForAxis(anchorRect, popperSize, 'y');\n\n  const topY    = y.before - sideOffset - arrowBaseToTipLength; // prettier-ignore\n  const bottomY = y.after  + sideOffset + arrowBaseToTipLength; // prettier-ignore\n  const leftX   = x.before - sideOffset - arrowBaseToTipLength; // prettier-ignore\n  const rightX  = x.after  + sideOffset + arrowBaseToTipLength; // prettier-ignore\n\n  // prettier-ignore\n  const map: AllPlacementPoints = {\n    top: {\n      start:  { x: x.start + alignOffset, y: topY },\n      center: { x: x.center,              y: topY },\n      end:    { x: x.end - alignOffset,   y: topY },\n    },\n    right: {\n      start:  { x: rightX, y: y.start + alignOffset },\n      center: { x: rightX, y: y.center },\n      end:    { x: rightX, y: y.end - alignOffset },\n    },\n    bottom: {\n      start:  { x: x.start + alignOffset, y: bottomY },\n      center: { x: x.center,              y: bottomY },\n      end:    { x: x.end - alignOffset,   y: bottomY },\n    },\n    left: {\n      start:  { x: leftX, y: y.start + alignOffset },\n      center: { x: leftX, y: y.center },\n      end:    { x: leftX, y: y.end - alignOffset },\n    },\n  };\n\n  return map;\n}\n\nfunction getPopperSlotsForAxis(anchorRect: ClientRect, popperSize: Size, axis: Axis) {\n  const startSide = axis === 'x' ? 'left' : 'top';\n  const anchorStart = anchorRect[startSide];\n\n  const dimension = axis === 'x' ? 'width' : 'height';\n  const anchorDimension = anchorRect[dimension];\n  const popperDimension = popperSize[dimension];\n\n  // prettier-ignore\n  return {\n    before: anchorStart - popperDimension,\n    start:  anchorStart,\n    center: anchorStart + (anchorDimension - popperDimension) / 2,\n    end:    anchorStart + anchorDimension - popperDimension,\n    after:  anchorStart + anchorDimension,\n  };\n}\n\n/**\n * Gets an adjusted side based on collision information\n */\nfunction getSideAccountingForCollisions(\n  /** The side we want to ideally position to */\n  side: Side,\n  /** The collisions for this given side */\n  collisions: Collisions,\n  /** The collisions for the opposite side (if we were to swap side) */\n  oppositeSideCollisions: Collisions\n): Side {\n  const oppositeSide = getOppositeSide(side);\n  // in order to prevent premature jumps\n  // we only swap side if there's enough space to fit on the opposite side\n  return collisions[side] && !oppositeSideCollisions[oppositeSide] ? oppositeSide : side;\n}\n\n/**\n * Gets an adjusted alignment based on collision information\n */\nfunction getAlignAccountingForCollisions(\n  /** The size of the popper to place */\n  popperSize: Size,\n  /** The size of the anchor we are placing around */\n  anchorSize: Size,\n  /** The final side */\n  side: Side,\n  /** The desired align */\n  align: Align,\n  /** The collisions */\n  collisions: Collisions\n): Align {\n  const isHorizontalSide = side === 'top' || side === 'bottom';\n  const startBound = isHorizontalSide ? 'left' : 'top';\n  const endBound = isHorizontalSide ? 'right' : 'bottom';\n  const dimension = isHorizontalSide ? 'width' : 'height';\n  const isAnchorBigger = anchorSize[dimension] > popperSize[dimension];\n\n  if (align === 'start' || align === 'center') {\n    if ((collisions[startBound] && isAnchorBigger) || (collisions[endBound] && !isAnchorBigger)) {\n      return 'end';\n    }\n  }\n\n  if (align === 'end' || align === 'center') {\n    if ((collisions[endBound] && isAnchorBigger) || (collisions[startBound] && !isAnchorBigger)) {\n      return 'start';\n    }\n  }\n\n  return align;\n}\n\nfunction getPlacementStylesForPoint(point: Point): CSS.Properties {\n  const x = Math.round(point.x + window.scrollX);\n  const y = Math.round(point.y + window.scrollY);\n  return {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    minWidth: 'max-content',\n    willChange: 'transform',\n    transform: `translate3d(${x}px, ${y}px, 0)`,\n  };\n}\n\nfunction getTransformOrigin(\n  popperSize: Size,\n  side: Side,\n  align: Align,\n  arrowOffset: number,\n  arrowSize?: Size\n): CSS.Properties['transformOrigin'] {\n  const isHorizontalSide = side === 'top' || side === 'bottom';\n\n  const arrowBaseLength = arrowSize ? arrowSize.width : 0;\n  const arrowBaseToTipLength = arrowSize ? arrowSize.height : 0;\n  const sideOffset = arrowBaseToTipLength;\n  const alignOffset = arrowBaseLength / 2 + arrowOffset;\n\n  let x = '';\n  let y = '';\n\n  if (isHorizontalSide) {\n    x = {\n      start: `${alignOffset}px`,\n      center: 'center',\n      end: `${popperSize.width - alignOffset}px`,\n    }[align];\n\n    y = side === 'top' ? `${popperSize.height + sideOffset}px` : `${-sideOffset}px`;\n  } else {\n    x = side === 'left' ? `${popperSize.width + sideOffset}px` : `${-sideOffset}px`;\n\n    y = {\n      start: `${alignOffset}px`,\n      center: 'center',\n      end: `${popperSize.height - alignOffset}px`,\n    }[align];\n  }\n\n  return `${x} ${y}`;\n}\n\nconst UNMEASURED_POPPER_STYLES: CSS.Properties = {\n  // position: 'fixed' here is important because it will take the popper\n  // out of the flow so it does not disturb the position of the anchor\n  position: 'fixed',\n  top: 0,\n  left: 0,\n  opacity: 0,\n  transform: 'translate3d(0, -200%, 0)',\n};\n\nconst UNMEASURED_ARROW_STYLES: CSS.Properties = {\n  // given the arrow is nested inside the popper,\n  // make sure that it is out of the flow and doesn't hinder then popper's measurement\n  position: 'absolute',\n  opacity: 0,\n};\n\ntype GetArrowStylesOptions = {\n  /** The size of the popper to place */\n  popperSize: Size;\n  /** The size of the arrow itself */\n  arrowSize: Size;\n  /** An offset for the arrow along the align axis */\n  arrowOffset: number;\n  /** The side where the arrow points to */\n  side: Side;\n  /** The alignment of the arrow along the side */\n  align: Align;\n};\n\n/**\n * Computes the styles necessary to position, rotate and align the arrow correctly.\n * It can adjust itself based on anchor/popper size, side/align and an optional offset.\n */\nfunction getPopperArrowStyles({\n  popperSize,\n  arrowSize,\n  arrowOffset,\n  side,\n  align,\n}: GetArrowStylesOptions): CSS.Properties {\n  const popperCenterX = (popperSize.width - arrowSize.width) / 2;\n  const popperCenterY = (popperSize.height - arrowSize.width) / 2;\n\n  const rotationMap = { top: 0, right: 90, bottom: 180, left: -90 };\n  const rotation = rotationMap[side];\n  const arrowMaxDimension = Math.max(arrowSize.width, arrowSize.height);\n\n  const styles: CSS.Properties = {\n    // we make sure we put the arrow inside a 1:1 ratio container\n    // this is to make the rotation handling simpler\n    // as we do no need to worry about changing the transform-origin\n    width: `${arrowMaxDimension}px`,\n    height: `${arrowMaxDimension}px`,\n\n    // rotate the arrow appropriately\n    transform: `rotate(${rotation}deg)`,\n    willChange: 'transform',\n\n    // position the arrow appropriately\n    position: 'absolute',\n    [side]: '100%',\n\n    // Because the arrow gets rotated (see `transform above`)\n    // and we are putting it inside a 1:1 ratio container\n    // we need to adjust the CSS direction from `ltr` to `rtl`\n    // in some circumstances\n    direction: getArrowCssDirection(side, align),\n  };\n\n  if (side === 'top' || side === 'bottom') {\n    if (align === 'start') {\n      styles.left = `${arrowOffset}px`;\n    }\n    if (align === 'center') {\n      styles.left = `${popperCenterX}px`;\n    }\n    if (align === 'end') {\n      styles.right = `${arrowOffset}px`;\n    }\n  }\n\n  if (side === 'left' || side === 'right') {\n    if (align === 'start') {\n      styles.top = `${arrowOffset}px`;\n    }\n    if (align === 'center') {\n      styles.top = `${popperCenterY}px`;\n    }\n    if (align === 'end') {\n      styles.bottom = `${arrowOffset}px`;\n    }\n  }\n\n  return styles;\n}\n\n/**\n * Adjusts the arrow's CSS direction (`ltr` / `rtl`)\n */\nfunction getArrowCssDirection(side: Side, align: Align): CSS.Property.Direction {\n  if ((side === 'top' || side === 'right') && align === 'end') {\n    return 'rtl';\n  }\n\n  if ((side === 'bottom' || side === 'left') && align !== 'end') {\n    return 'rtl';\n  }\n\n  return 'ltr';\n}\n\n/**\n * Gets the opposite side of a given side (ie. top => bottom, left => right, )\n */\nfunction getOppositeSide(side: Side): Side {\n  const oppositeSides: Record<Side, Side> = {\n    top: 'bottom',\n    right: 'left',\n    bottom: 'top',\n    left: 'right',\n  };\n  return oppositeSides[side];\n}\n\n/**\n * Creates a new rect (`ClientRect`) based on a given one but contracted by\n * a given amout on each side.\n */\nfunction getContractedRect(rect: ClientRect, amount: number) {\n  return DOMRect.fromRect({\n    width: rect.width - amount * 2,\n    height: rect.height - amount * 2,\n    x: rect.left + amount,\n    y: rect.top + amount,\n  });\n}\n\n/**\n * Gets collisions for each side of a rect (top, right, bottom, left)\n */\nfunction getCollisions(\n  /** The rect to test collisions against */\n  rect: ClientRect,\n  /** The rect which represents the boundaries for collision checks */\n  collisionBoundariesRect: ClientRect\n) {\n  return {\n    top: rect.top < collisionBoundariesRect.top,\n    right: rect.right > collisionBoundariesRect.right,\n    bottom: rect.bottom > collisionBoundariesRect.bottom,\n    left: rect.left < collisionBoundariesRect.left,\n  };\n}\n\ntype Collisions = ReturnType<typeof getCollisions>;\n\nexport { getPlacementData, SIDE_OPTIONS, ALIGN_OPTIONS };\nexport type { Side, Align };\n", "type Measurable = { getBoundingClientRect(): ClientRect };\n\n/**\n * Observes an element's rectangle on screen (getBoundingClientRect)\n * This is useful to track elements on the screen and attach other elements\n * that might be in different layers, etc.\n */\nfunction observeElementRect(\n  /** The element whose rect to observe */\n  elementToObserve: Measurable,\n  /** The callback which will be called when the rect changes */\n  callback: CallbackFn\n) {\n  const observedData = observedElements.get(elementToObserve);\n\n  if (observedData === undefined) {\n    // add the element to the map of observed elements with its first callback\n    // because this is the first time this element is observed\n    observedElements.set(elementToObserve, { rect: {} as ClientRect, callbacks: [callback] });\n\n    if (observedElements.size === 1) {\n      // start the internal loop once at least 1 element is observed\n      rafId = requestAnimationFrame(runLoop);\n    }\n  } else {\n    // only add a callback for this element as it's already observed\n    observedData.callbacks.push(callback);\n    callback(elementToObserve.getBoundingClientRect());\n  }\n\n  return () => {\n    const observedData = observedElements.get(elementToObserve);\n    if (observedData === undefined) return;\n\n    // start by removing the callback\n    const index = observedData.callbacks.indexOf(callback);\n    if (index > -1) {\n      observedData.callbacks.splice(index, 1);\n    }\n\n    if (observedData.callbacks.length === 0) {\n      // stop observing this element because there are no\n      // callbacks registered for it anymore\n      observedElements.delete(elementToObserve);\n\n      if (observedElements.size === 0) {\n        // stop the internal loop once no elements are observed anymore\n        cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\n\n// ========================================================================\n// module internals\n\ntype CallbackFn = (rect: ClientRect) => void;\n\ntype ObservedData = {\n  rect: ClientRect;\n  callbacks: Array<CallbackFn>;\n};\n\nlet rafId: number;\nconst observedElements: Map<Measurable, ObservedData> = new Map();\n\nfunction runLoop() {\n  const changedRectsData: Array<ObservedData> = [];\n\n  // process all DOM reads first (getBoundingClientRect)\n  observedElements.forEach((data, element) => {\n    const newRect = element.getBoundingClientRect();\n\n    // gather all the data for elements whose rects have changed\n    if (!rectEquals(data.rect, newRect)) {\n      data.rect = newRect;\n      changedRectsData.push(data);\n    }\n  });\n\n  // group DOM writes here after the DOM reads (getBoundingClientRect)\n  // as DOM writes will most likely happen with the callbacks\n  changedRectsData.forEach((data) => {\n    data.callbacks.forEach((callback) => callback(data.rect));\n  });\n\n  rafId = requestAnimationFrame(runLoop);\n}\n// ========================================================================\n\n/**\n * Returns whether 2 rects are equal in values\n */\nfunction rectEquals(rect1: ClientRect, rect2: ClientRect) {\n  return (\n    rect1.width === rect2.width &&\n    rect1.height === rect2.height &&\n    rect1.top === rect2.top &&\n    rect1.right === rect2.right &&\n    rect1.bottom === rect2.bottom &&\n    rect1.left === rect2.left\n  );\n}\n\nexport { observeElementRect };\nexport type { Measurable };\n", "import * as React from 'react';\nimport { observeElementRect } from '@radix-ui/rect';\n\nimport type { Measurable } from '@radix-ui/rect';\n\n/**\n * Use this custom hook to get access to an element's rect (getBoundingClientRect)\n * and observe it along time.\n */\nfunction useRect(measurable: Measurable | null) {\n  const [rect, setRect] = React.useState<ClientRect>();\n  React.useEffect(() => {\n    if (measurable) {\n      const unobserve = observeElementRect(measurable, setRect);\n      return () => {\n        setRect(undefined);\n        unobserve();\n      };\n    }\n    return;\n  }, [measurable]);\n  return rect;\n}\n\nexport { useRect };\n", "/// <reference types=\"resize-observer-browser\" />\n\nimport * as React from 'react';\n\nfunction useSize(element: HTMLElement | SVGElement | null) {\n  const [size, setSize] = React.useState<{ width: number; height: number } | undefined>(undefined);\n\n  React.useEffect(() => {\n    if (element) {\n      const resizeObserver = new ResizeObserver((entries) => {\n        if (!Array.isArray(entries)) {\n          return;\n        }\n\n        // Since we only observe the one element, we don't need to loop over the\n        // array\n        if (!entries.length) {\n          return;\n        }\n\n        const entry = entries[0];\n        let width: number;\n        let height: number;\n\n        if ('borderBoxSize' in entry) {\n          const borderSizeEntry = entry['borderBoxSize'];\n          // iron out differences between browsers\n          const borderSize = Array.isArray(borderSizeEntry) ? borderSizeEntry[0] : borderSizeEntry;\n          width = borderSize['inlineSize'];\n          height = borderSize['blockSize'];\n        } else {\n          // for browsers that don't support `borderBoxSize`\n          // we calculate a rect ourselves to get the correct border box.\n          const rect = element.getBoundingClientRect();\n          width = rect.width;\n          height = rect.height;\n        }\n\n        setSize({ width, height });\n      });\n\n      resizeObserver.observe(element, { box: 'border-box' });\n\n      return () => resizeObserver.unobserve(element);\n    } else {\n      // We only want to reset to `undefined` when the element becomes `null`,\n      // not if it changes to another element.\n      setSize(undefined);\n    }\n  }, [element]);\n\n  return size;\n}\n\nexport { useSize };\n", "import {\n  DialogDisclosureHTMLProps,\n  DialogDisclosureOptions,\n  useDialogDisclosure,\n} from \"../dialog\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { POPOVER_TRIGGER_KEYS } from \"./__keys\";\n\nexport type PopoverTriggerOptions = DialogDisclosureOptions & {};\n\nexport type PopoverTriggerHTMLProps = DialogDisclosureHTMLProps;\n\nexport type PopoverTriggerProps = PopoverTriggerOptions &\n  PopoverTriggerHTMLProps;\n\nexport const usePopoverTrigger = createHook<\n  PopoverTriggerOptions,\n  PopoverTriggerHTMLProps\n>({\n  name: \"PopoverTrigger\",\n  compose: useDialogDisclosure,\n  keys: POPOVER_TRIGGER_KEYS,\n\n  useOptions(options, htmlProps) {\n    return options;\n  },\n\n  useProps(options, htmlProps) {\n    return htmlProps;\n  },\n});\n\nexport const PopoverTrigger = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: usePopoverTrigger,\n});\n", "// Automatically generated\nexport const USE_PROGRESS_STATE_KEYS = [\"value\", \"min\", \"max\"] as const;\nexport const PROGRESS_STATE_KEYS = [\n  ...USE_PROGRESS_STATE_KEYS,\n  \"isIndeterminate\",\n  \"percent\",\n] as const;\nexport const PROGRESS_KEYS = PROGRESS_STATE_KEYS;\n", "/**\n * All credit goes to [Segun Adebayo](https://github.com/segunadebayo) for\n * creating an Awesome Library [Chakra UI](https://github.com/chakra-ui/chakra-ui/)\n * We improved the Progress Component [Progress](https://github.com/chakra-ui/chakra-ui/tree/develop/packages/progress)\n * to work with Reakit System\n */\nimport { createComponent, createHook, useCreateElement } from \"reakit-system\";\nimport { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\nimport { useWarning } from \"reakit-warning\";\n\nimport { dataAttr, isNull } from \"../utils\";\n\nimport { PROGRESS_KEYS } from \"./__keys\";\nimport { ProgressStateReturn } from \"./ProgressState\";\n\nexport type ProgressOptions = RoleOptions &\n  Pick<\n    Partial<ProgressStateReturn>,\n    \"isIndeterminate\" | \"value\" | \"max\" | \"min\"\n  >;\n\nexport type ProgressHTMLProps = RoleHTMLProps;\n\nexport type ProgressProps = ProgressOptions & ProgressHTMLProps;\n\nexport const useProgress = createHook<ProgressOptions, ProgressHTMLProps>({\n  name: \"Progress\",\n  compose: useRole,\n  keys: PROGRESS_KEYS,\n\n  useProps(options, htmlProps) {\n    const { isIndeterminate, value, max, min } = options;\n\n    return {\n      role: \"progressbar\",\n      \"data-indeterminate\": dataAttr(isIndeterminate),\n      \"aria-valuemax\": max,\n      \"aria-valuemin\": min,\n      \"aria-valuenow\": isNull(value) ? undefined : value,\n      \"aria-valuetext\": !value?.toString() ? \"intermediate\" : value.toString(),\n      ...htmlProps,\n    };\n  },\n});\n\nexport const Progress = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useProgress,\n  useCreateElement: (type, props, children) => {\n    useWarning(\n      !props[\"aria-label\"] && !props[\"aria-labelledby\"],\n      \"You should provide either `aria-label` or `aria-labelledby` props.\",\n      \"See https://www.w3.org/TR/wai-aria-1.2/#progressbar\",\n    );\n    return useCreateElement(type, props, children);\n  },\n});\n", "/**\n * All credit goes to [Segun Adebayo](https://github.com/segunadebayo) for\n * creating an Awesome Library [Chakra UI](https://github.com/chakra-ui/chakra-ui/)\n * We improved the Progress Component [Progress](https://github.com/chakra-ui/chakra-ui/tree/develop/packages/progress)\n * to work with Reakit System\n */\nimport { isNull, valueToPercent } from \"../utils\";\n\nexport interface ProgressState {\n  /**\n   * The `value` of the progress indicator.\n   *\n   * If `null` the progress bar will be in `indeterminate` state\n   * @default 0\n   */\n  value: number | null;\n  /**\n   * The minimum value of the progress\n   * @default 0\n   */\n  min: number;\n  /**\n   * The maximum value of the\n   * @default 100\n   */\n  max: number;\n  /**\n   * `true` if `value` is `null`\n   */\n  isIndeterminate: boolean;\n  /**\n   * Percentage of the value progressed with respect to min & max\n   */\n  percent: number | null;\n}\n\nexport type ProgressInitialState = Pick<\n  Partial<ProgressState>,\n  \"value\" | \"min\" | \"max\"\n>;\n\nexport type ProgressStateReturn = ProgressState;\n\nexport function useProgressState(\n  props: ProgressInitialState = {},\n): ProgressStateReturn {\n  const { value = 0, min = 0, max = 100 } = props;\n  const clampedValue = clampValue(value, min, max);\n  const percent = isNull(clampedValue)\n    ? null\n    : valueToPercent(clampedValue, min, max);\n\n  return {\n    value: clampedValue,\n    min,\n    max,\n    isIndeterminate: isNull(clampedValue),\n    percent,\n  };\n}\n\nfunction clampValue(value: number | null, min: number, max: number) {\n  if (isNull(value)) return null;\n\n  return Math.min(Math.max(value, min), max);\n}\n", "// Automatically generated\nexport const USE_RADIO_STATE_KEYS = [\n  \"baseId\",\n  \"unstable_virtual\",\n  \"rtl\",\n  \"orientation\",\n  \"currentId\",\n  \"loop\",\n  \"wrap\",\n  \"shift\",\n  \"unstable_includesBaseElement\",\n  \"defaultState\",\n  \"state\",\n  \"onStateChange\",\n] as const;\nexport const RADIO_STATE_KEYS = [\n  \"baseId\",\n  \"unstable_idCountRef\",\n  \"unstable_virtual\",\n  \"rtl\",\n  \"orientation\",\n  \"items\",\n  \"groups\",\n  \"currentId\",\n  \"loop\",\n  \"wrap\",\n  \"shift\",\n  \"unstable_moves\",\n  \"unstable_hasActiveWidget\",\n  \"unstable_includesBaseElement\",\n  \"state\",\n  \"setBaseId\",\n  \"registerItem\",\n  \"unregisterItem\",\n  \"registerGroup\",\n  \"unregisterGroup\",\n  \"move\",\n  \"next\",\n  \"previous\",\n  \"up\",\n  \"down\",\n  \"first\",\n  \"last\",\n  \"sort\",\n  \"unstable_setVirtual\",\n  \"setRTL\",\n  \"setOrientation\",\n  \"setCurrentId\",\n  \"setLoop\",\n  \"setWrap\",\n  \"setShift\",\n  \"reset\",\n  \"unstable_setIncludesBaseElement\",\n  \"unstable_setHasActiveWidget\",\n  \"setState\",\n] as const;\nexport const RADIO_KEYS = [\n  ...RADIO_STATE_KEYS,\n  \"value\",\n  \"checked\",\n  \"unstable_checkOnFocus\",\n] as const;\nexport const RADIO_GROUP_KEYS = RADIO_STATE_KEYS;\n", "import * as React from \"react\";\nimport {\n  CompositeItemHTMLProps,\n  CompositeItemOptions,\n  useCompositeItem,\n} from \"reakit\";\nimport { useForkRef, useLiveRef } from \"reakit-utils\";\nimport { warning } from \"reakit-warning/warning\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { RADIO_KEYS } from \"./__keys\";\nimport { fireChange, getChecked, useInitialChecked } from \"./helpers\";\nimport { RadioStateReturn } from \"./RadioState\";\n\nexport type RadioOptions = CompositeItemOptions &\n  Pick<Partial<RadioStateReturn>, \"state\" | \"setState\"> & {\n    /**\n     * Same as the `value` attribute.\n     */\n    value: string | number;\n\n    /**\n     * Same as the `checked` attribute.\n     */\n    checked?: boolean;\n\n    /**\n     * @private\n     */\n    unstable_checkOnFocus?: boolean;\n  };\n\nexport type RadioHTMLProps = CompositeItemHTMLProps &\n  React.InputHTMLAttributes<any>;\n\nexport type RadioProps = RadioOptions & RadioHTMLProps;\n\nexport const useRadio = createHook<RadioOptions, RadioHTMLProps>({\n  name: \"Radio\",\n  compose: useCompositeItem,\n  keys: RADIO_KEYS,\n\n  useOptions(\n    { unstable_clickOnEnter = false, unstable_checkOnFocus = true, ...options },\n    { value, checked },\n  ) {\n    return {\n      checked,\n      unstable_clickOnEnter,\n      unstable_checkOnFocus,\n      ...options,\n      value: options.value ?? value,\n    };\n  },\n\n  useProps(\n    options,\n    {\n      ref: htmlRef,\n      onChange: htmlOnChange,\n      onClick: htmlOnClick,\n      ...htmlProps\n    },\n  ) {\n    const {\n      currentId,\n      id,\n      disabled,\n      setState,\n      value,\n      unstable_moves,\n      unstable_checkOnFocus,\n      baseId,\n    } = options;\n    const ref = React.useRef<HTMLInputElement>(null);\n    const [isNativeRadio, setIsNativeRadio] = React.useState(true);\n    const checked = getChecked(options);\n    const isCurrentItemRef = useLiveRef(currentId === id);\n    const onChangeRef = useLiveRef(htmlOnChange);\n    const onClickRef = useLiveRef(htmlOnClick);\n\n    useInitialChecked(options);\n\n    React.useEffect(() => {\n      const element = ref.current;\n      if (!element) {\n        warning(\n          true,\n          \"Can't determine whether the element is a native radio because `ref` wasn't passed to the component\",\n        );\n        return;\n      }\n      if (element.tagName !== \"INPUT\" || element.type !== \"radio\") {\n        setIsNativeRadio(false);\n      }\n    }, []);\n\n    const onChange = React.useCallback(\n      (event: React.ChangeEvent) => {\n        onChangeRef.current?.(event);\n\n        if (event.defaultPrevented) return;\n        if (disabled) return;\n\n        setState?.(value);\n      },\n      [disabled, onChangeRef, setState, value],\n    );\n\n    const onClick = React.useCallback(\n      (event: React.MouseEvent<HTMLInputElement, MouseEvent>) => {\n        onClickRef.current?.(event);\n\n        if (event.defaultPrevented) return;\n        if (isNativeRadio) return;\n\n        fireChange(event.currentTarget, onChange);\n      },\n      [onClickRef, isNativeRadio, onChange],\n    );\n\n    React.useEffect(() => {\n      const element = ref.current;\n      if (!element) return;\n\n      if (unstable_moves && isCurrentItemRef.current && unstable_checkOnFocus) {\n        fireChange(element, onChange);\n      }\n    }, [unstable_moves, unstable_checkOnFocus, onChange, isCurrentItemRef]);\n\n    return {\n      ref: useForkRef(ref, htmlRef),\n      role: !isNativeRadio ? \"radio\" : undefined,\n      type: isNativeRadio ? \"radio\" : undefined,\n      value: isNativeRadio ? value : undefined,\n      name: isNativeRadio ? baseId : undefined,\n      \"aria-checked\": checked,\n      checked,\n      onChange,\n      onClick,\n      ...htmlProps,\n    };\n  },\n});\n\nexport const Radio = createComponent({\n  as: \"input\",\n  memo: true,\n  useHook: useRadio,\n});\n", "import React from \"react\";\nimport { createEvent } from \"reakit-utils\";\n\nimport { RadioOptions } from \"./Radio\";\n\nexport function getChecked(options: RadioOptions) {\n  const { checked, value, state } = options;\n  if (typeof checked !== \"undefined\") return checked;\n\n  return typeof value !== \"undefined\" && state === value;\n}\n\nexport function useInitialChecked(options: RadioOptions) {\n  const [initialChecked] = React.useState(() => getChecked(options));\n  const { id, currentId, setCurrentId } = options;\n  const [initialCurrentId] = React.useState(currentId);\n\n  React.useEffect(() => {\n    if (initialChecked && id && initialCurrentId !== id) {\n      setCurrentId?.(id);\n    }\n  }, [initialChecked, id, setCurrentId, initialCurrentId]);\n}\n\nexport function fireChange(\n  element: HTMLElement,\n  onChange?: React.ChangeEventHandler,\n) {\n  const event = createEvent(element, \"change\");\n\n  Object.defineProperties(event, {\n    type: { value: \"change\" },\n    target: { value: element },\n    currentTarget: { value: element },\n  });\n  onChange?.(event as any);\n}\n", "import * as React from \"react\";\nimport { createComponent, createHook, useCreateElement } from \"reakit-system\";\nimport { CompositeHTMLProps, CompositeOptions, useComposite } from \"reakit\";\nimport { useWarning } from \"reakit-warning\";\n\nimport { RADIO_GROUP_KEYS } from \"./__keys\";\n\nexport type RadioGroupOptions = CompositeOptions;\n\nexport type RadioGroupHTMLProps = CompositeHTMLProps &\n  React.FieldsetHTMLAttributes<any>;\n\nexport type RadioGroupProps = RadioGroupOptions & RadioGroupHTMLProps;\n\nexport const useRadioGroup = createHook<RadioGroupOptions, RadioGroupHTMLProps>(\n  {\n    name: \"RadioGroup\",\n    compose: useComposite,\n    keys: RADIO_GROUP_KEYS,\n\n    useProps(options, htmlProps) {\n      return { role: \"radiogroup\", ...htmlProps };\n    },\n  },\n);\n\nexport const RadioGroup = createComponent({\n  as: \"div\",\n  useHook: useRadioGroup,\n  useCreateElement: (type, props, children) => {\n    useWarning(\n      !props[\"aria-label\"] && !props[\"aria-labelledby\"],\n      \"You should provide either `aria-label` or `aria-labelledby` props.\",\n    );\n    return useCreateElement(type, props, children);\n  },\n});\n", "import * as React from \"react\";\nimport {\n  CompositeActions,\n  CompositeInitialState,\n  CompositeState,\n  useCompositeState,\n} from \"reakit\";\n\nimport { useControllableState } from \"../utils\";\n\nexport type RadioState = CompositeState & {\n  /**\n   * The `value` attribute of the current active radio.\n   */\n  state: string | number | null;\n};\n\nexport type RadioActions = CompositeActions & {\n  /**\n   * Sets `state`.\n   */\n  setState: React.Dispatch<React.SetStateAction<string | number | null>>;\n};\n\nexport type RadioInitialState = CompositeInitialState & {\n  /**\n   * Default State of the Radio for uncontrolled Radio.\n   *\n   * @default false\n   */\n  defaultState?: RadioState[\"state\"];\n\n  /**\n   * State of the Radio for controlled Radio..\n   */\n  state?: RadioState[\"state\"];\n\n  /**\n   * OnChange callback for controlled Radio.\n   */\n  onStateChange?: RadioActions[\"setState\"];\n};\n\nexport type RadioStateReturn = RadioState & RadioActions;\n\nexport function useRadioState(props: RadioInitialState): RadioStateReturn {\n  const {\n    defaultState,\n    state: stateProps,\n    onStateChange,\n    loop = true,\n    ...sealed\n  } = props;\n  const [state, setState] = useControllableState({\n    defaultValue: defaultState,\n    value: stateProps,\n    onChange: onStateChange,\n  });\n  const composite = useCompositeState({ ...sealed, loop });\n\n  return {\n    ...composite,\n    state,\n    setState,\n  };\n}\n", "// Automatically generated\nexport const USE_SELECT_BASE_STATE_KEYS = [\"values\", \"selectedValue\"] as const;\nexport const USE_SELECT_LIST_STATE_KEYS = [\n  ...USE_SELECT_BASE_STATE_KEYS,\n  \"baseId\",\n  \"rtl\",\n  \"orientation\",\n  \"currentId\",\n  \"loop\",\n  \"wrap\",\n  \"shift\",\n  \"unstable_includesBaseElement\",\n] as const;\nexport const SELECT_LIST_STATE_KEYS = [\n  ...USE_SELECT_LIST_STATE_KEYS,\n  \"unstable_idCountRef\",\n  \"unstable_virtual\",\n  \"unstable_hasActiveWidget\",\n  \"groups\",\n  \"unstable_moves\",\n  \"menuRole\",\n  \"items\",\n  \"valuesById\",\n  \"currentValue\",\n  \"selectedId\",\n  \"setBaseId\",\n  \"unregisterItem\",\n  \"registerGroup\",\n  \"unregisterGroup\",\n  \"move\",\n  \"next\",\n  \"previous\",\n  \"up\",\n  \"down\",\n  \"first\",\n  \"last\",\n  \"sort\",\n  \"unstable_setVirtual\",\n  \"setRTL\",\n  \"setOrientation\",\n  \"setCurrentId\",\n  \"setLoop\",\n  \"setWrap\",\n  \"setShift\",\n  \"reset\",\n  \"unstable_setIncludesBaseElement\",\n  \"unstable_setHasActiveWidget\",\n  \"registerItem\",\n  \"setSelectedValue\",\n] as const;\nexport const SELECT_BASE_STATE_KEYS = SELECT_LIST_STATE_KEYS;\nexport const USE_SELECT_POPOVER_STATE_KEYS = [\n  \"baseId\",\n  \"visible\",\n  \"animated\",\n  \"modal\",\n  \"placement\",\n  \"unstable_fixed\",\n  \"unstable_flip\",\n  \"unstable_offset\",\n  \"gutter\",\n  \"unstable_preventOverflow\",\n] as const;\nexport const SELECT_POPOVER_STATE_KEYS = [\n  \"baseId\",\n  \"unstable_idCountRef\",\n  \"visible\",\n  \"animated\",\n  \"animating\",\n  \"modal\",\n  \"unstable_disclosureRef\",\n  \"unstable_referenceRef\",\n  \"unstable_popoverRef\",\n  \"unstable_arrowRef\",\n  \"unstable_popoverStyles\",\n  \"unstable_arrowStyles\",\n  \"unstable_originalPlacement\",\n  \"unstable_update\",\n  \"placement\",\n  \"setBaseId\",\n  \"show\",\n  \"hide\",\n  \"toggle\",\n  \"setVisible\",\n  \"setAnimated\",\n  \"stopAnimation\",\n  \"setModal\",\n  \"place\",\n] as const;\nexport const USE_SELECT_STATE_KEYS = [\n  ...USE_SELECT_BASE_STATE_KEYS,\n  ...USE_SELECT_POPOVER_STATE_KEYS,\n  \"rtl\",\n  \"orientation\",\n  \"currentId\",\n  \"loop\",\n  \"wrap\",\n  \"shift\",\n  \"unstable_includesBaseElement\",\n] as const;\nexport const SELECT_STATE_KEYS = [\n  ...USE_SELECT_BASE_STATE_KEYS,\n  ...SELECT_POPOVER_STATE_KEYS,\n  \"unstable_virtual\",\n  \"rtl\",\n  \"orientation\",\n  \"currentId\",\n  \"loop\",\n  \"wrap\",\n  \"shift\",\n  \"unstable_includesBaseElement\",\n  \"unstable_hasActiveWidget\",\n  \"groups\",\n  \"unstable_moves\",\n  \"menuRole\",\n  \"items\",\n  \"valuesById\",\n  \"currentValue\",\n  \"selectedId\",\n  \"unregisterItem\",\n  \"registerGroup\",\n  \"unregisterGroup\",\n  \"move\",\n  \"next\",\n  \"previous\",\n  \"up\",\n  \"down\",\n  \"first\",\n  \"last\",\n  \"sort\",\n  \"unstable_setVirtual\",\n  \"setRTL\",\n  \"setOrientation\",\n  \"setCurrentId\",\n  \"setLoop\",\n  \"setWrap\",\n  \"setShift\",\n  \"reset\",\n  \"unstable_setIncludesBaseElement\",\n  \"unstable_setHasActiveWidget\",\n  \"registerItem\",\n  \"setSelectedValue\",\n] as const;\nexport const SELECT_KEYS = [...SELECT_STATE_KEYS, \"hideOnEsc\"] as const;\nexport const SELECT_ITEM_KEYS = [...SELECT_STATE_KEYS, \"value\"] as const;\nexport const SELECT_LIST_KEYS = SELECT_STATE_KEYS;\nexport const SELECT_OPTION_KEYS = SELECT_LIST_KEYS;\nexport const SELECT_POPOVER_KEYS = SELECT_OPTION_KEYS;\n", "import * as React from \"react\";\nimport {\n  PopoverDisclosureHTMLProps,\n  PopoverDisclosureOptions,\n  usePopoverDisclosure,\n} from \"reakit\";\nimport { useLiveRef } from \"reakit-utils/useLiveRef\";\nimport { useShortcut } from \"@chakra-ui/hooks\";\nimport { callAllHandlers, getNextItemFromSearch } from \"@chakra-ui/utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { SELECT_KEYS } from \"./__keys\";\nimport { SelectStateReturn } from \"./SelectState\";\n\nexport const useSelect = createHook<SelectOptions, SelectHTMLProps>({\n  name: \"Select\",\n  compose: usePopoverDisclosure,\n  keys: SELECT_KEYS,\n\n  useOptions({ menuRole = \"listbox\", hideOnEsc = true, ...options }) {\n    return { menuRole, hideOnEsc, ...options };\n  },\n\n  useProps(\n    options,\n    {\n      onClick: htmlOnClick,\n      onKeyDown: htmlOnKeyDown,\n      onMouseDown: htmlOnMouseDown,\n      ...htmlProps\n    },\n  ) {\n    const disabled = options.disabled || htmlProps[\"aria-disabled\"];\n    const hasPressedMouse = React.useRef(false);\n\n    const onKeyDownRef = useLiveRef(htmlOnKeyDown);\n    const onClickRef = useLiveRef(htmlOnClick);\n    const onMouseDownRef = useLiveRef(htmlOnMouseDown);\n\n    // Reference:\n    // https://github.com/chakra-ui/chakra-ui/blob/83eec5b140bd9a69821d8e4df3e69bff0768dcca/packages/menu/src/use-menu.ts#L228-L253\n    const onCharacterPress = useShortcut({\n      preventDefault: event => event.key !== \" \",\n    });\n\n    const onKeyDown = React.useCallback(\n      (event: React.KeyboardEvent) => {\n        onKeyDownRef.current?.(event);\n        if (event.defaultPrevented) return;\n\n        if (event.key === \"Escape\") {\n          // Doesn't prevent default on Escape, otherwise we can't close\n          // dialogs when MenuButton is focused\n          options.hide?.();\n        } else if (!disabled) {\n          const keyMap = {\n            Enter: options.first,\n            \" \": options.first,\n            ArrowUp: options.last,\n            ArrowDown: options.first,\n          };\n\n          const action = keyMap[event.key as keyof typeof keyMap];\n          if (action) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            // setTimeout prevents scroll jump\n            options.show && setTimeout(options.show);\n            if (!options.selectedValue) action();\n            return;\n          }\n        }\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [\n        disabled,\n        options.show,\n        options.hide,\n        options.first,\n        options.last,\n        options.selectedValue,\n      ],\n    );\n\n    const onMouseDown = React.useCallback((event: React.MouseEvent) => {\n      // If the Select has been clicked using mouse or keyboard. On mouse click,\n      // we don't automatically focus the first menu item.\n      hasPressedMouse.current = true;\n      onMouseDownRef.current?.(event);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const onClick = React.useCallback(\n      (event: React.MouseEvent) => {\n        onClickRef.current?.(event);\n        if (event.defaultPrevented) return;\n\n        options.toggle?.();\n\n        // Focus the SelectPopover when it's opened with mouse click.\n        if (hasPressedMouse.current && !options.visible) {\n          options.move?.(null);\n        }\n        hasPressedMouse.current = false;\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [options.show, options.toggle, options.visible, options.move],\n    );\n\n    return {\n      \"aria-haspopup\": options.menuRole,\n      onClick,\n      onMouseDown,\n      onKeyDown: callAllHandlers(\n        onKeyDown,\n        onCharacterPress(handleCharacterPress(options)),\n      ),\n      ...htmlProps,\n    };\n  },\n\n  useComposeOptions(options) {\n    return {\n      ...options,\n      // Toggling is handled by Select OnClick above\n      toggle: noop,\n    };\n  },\n});\n\nexport const Select = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useSelect,\n});\n\nconst handleCharacterPress =\n  (options: SelectOptions) => (character: string) => {\n    /**\n     * Typeahead: Based on current character pressed,\n     * find the next item to be selected\n     */\n    const selectedValue = options.values.find(value =>\n      options.selectedValue?.includes(value),\n    );\n\n    const nextItem = getNextItemFromSearch(\n      options.values,\n      character,\n      item => item ?? \"\",\n      selectedValue,\n    );\n\n    if (nextItem) options.setSelectedValue(nextItem);\n  };\n\nconst noop = () => {};\n\nexport type SelectOptions = PopoverDisclosureOptions &\n  SelectStateReturn & {\n    /**\n     * When enabled, user can hide the select popover by pressing\n     * `esc` while focusing on the select input.\n     * @default true\n     */\n    hideOnEsc?: boolean;\n  };\n\nexport type SelectHTMLProps = PopoverDisclosureHTMLProps;\n\nexport type SelectProps = SelectOptions & SelectHTMLProps;\n", "/* eslint-disable react-hooks/exhaustive-deps */\nimport * as React from \"react\";\nimport {\n  CompositeItemHTMLProps,\n  CompositeItemOptions,\n  useCompositeItem,\n} from \"reakit\";\nimport { useLiveRef } from \"reakit-utils/useLiveRef\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { Item } from \"./helpers/types\";\nimport { SELECT_ITEM_KEYS } from \"./__keys\";\nimport { getItemId } from \"./helpers\";\nimport { SelectStateReturn } from \"./SelectState\";\n\nexport const useSelectItem = createHook<SelectItemOptions, SelectItemHTMLProps>(\n  {\n    name: \"SelectItem\",\n    compose: useCompositeItem,\n    keys: SELECT_ITEM_KEYS,\n\n    useOptions(options) {\n      const registerItem = React.useCallback(\n        (item: Item) => {\n          options.registerItem?.({ ...item, value: options.value });\n        },\n        [options.registerItem, options.value],\n      );\n\n      if (options.id || !options.baseId || !options.value) {\n        return { ...options, registerItem };\n      }\n\n      const id = getItemId(options.baseId, options.value, options.id);\n      return { ...options, registerItem, id };\n    },\n\n    useProps(options, { onClick: htmlOnClick, ...htmlProps }) {\n      const onClickRef = useLiveRef(htmlOnClick);\n\n      const onClick = React.useCallback(\n        (event: React.MouseEvent<HTMLElement, MouseEvent>) => {\n          onClickRef.current?.(event);\n          if (event.defaultPrevented) return;\n          if (!options.value) return;\n\n          options.setSelectedValue?.(options.value);\n          options.hide?.();\n        },\n        [options.hide, options.value, options.setSelectedValue],\n      );\n\n      return {\n        children: options.value,\n        onClick,\n        ...htmlProps,\n      };\n    },\n  },\n);\n\nexport const SelectItem = createComponent({\n  as: \"span\",\n  memo: true,\n  useHook: useSelectItem,\n});\n\nexport type SelectItemOptions = CompositeItemOptions &\n  Pick<Partial<SelectStateReturn>, \"setSelectedValue\" | \"hide\" | \"visible\"> &\n  Pick<SelectStateReturn, \"registerItem\"> & {\n    /**\n     * Item's value that will be used to fill input value and filter `matches`\n     * based on the input value. You can omit this for items that perform\n     * actions other than filling a form. For example, items may open a dialog.\n     */\n    value?: string;\n  };\n\nexport type SelectItemHTMLProps = CompositeItemHTMLProps;\n\nexport type SelectItemProps = SelectItemOptions & SelectItemHTMLProps;\n", "import React from \"react\";\nimport { closest } from \"reakit-utils\";\nimport { useShortcut } from \"@chakra-ui/hooks\";\nimport { getNextItemFromSearch } from \"@chakra-ui/utils\";\n\nimport { getIdFromValue } from \"../SelectBaseState\";\nimport { SelectStateReturn } from \"../SelectState\";\n\ntype TypeAheadShortcutOption = Pick<\n  SelectStateReturn,\n  \"values\" | \"currentValue\" | \"valuesById\" | \"move\"\n>;\ninterface useTypeaheadShortcutProps {\n  options: TypeAheadShortcutOption;\n  ref: React.RefObject<HTMLElement>;\n  timeout?: number;\n}\n\n// Reference:\n// https://github.com/reakit/reakit/blob/01e73eaff9405ecf8838906684811ef70970b867/packages/reakit/src/Menu/__utils/useShortcuts.ts\nexport function useTypeaheadShortcut({\n  ref,\n  options,\n  timeout,\n}: useTypeaheadShortcutProps) {\n  const onCharacterPress = useShortcut({\n    preventDefault: event => event.key !== \" \",\n    timeout,\n  });\n\n  React.useEffect(() => {\n    const element = ref.current;\n    if (!element) return undefined;\n\n    const onKeyDown = (event: KeyboardEvent) => {\n      const target = event.target as HTMLElement;\n      const role = target.getAttribute?.(\"role\");\n      const targetIsDialog = target === element;\n      const targetIsOption =\n        (role && role.indexOf(\"option\") !== -1) ||\n        closest(target, \"[role=listbox]\") === element;\n\n      if (!targetIsDialog && !targetIsOption) return;\n\n      // @ts-ignore\n      onCharacterPress(handleCharacterPress(options))(event);\n    };\n\n    // https://github.com/facebook/react/issues/11387#issuecomment-524113945\n    element.addEventListener(\"keydown\", onKeyDown);\n    return () => element.removeEventListener(\"keydown\", onKeyDown);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [onCharacterPress]);\n}\n\nconst handleCharacterPress =\n  (options: TypeAheadShortcutOption) => (character: string) => {\n    const selectedValue = options.values.find(value =>\n      options.currentValue?.includes(value),\n    );\n\n    const nextItem = getNextItemFromSearch(\n      options.values,\n      character,\n      item => item ?? \"\",\n      selectedValue,\n    );\n\n    if (nextItem) {\n      const nextId = getIdFromValue(options.valuesById, nextItem);\n      options.move?.(nextId);\n    }\n  };\n", "/* eslint-disable react-hooks/exhaustive-deps */\nimport * as React from \"react\";\nimport { CompositeActions, CompositeState, CompositeStateReturn } from \"reakit\";\nimport { SetState } from \"reakit-utils/ts\";\n\nimport { Item } from \"./helpers/types\";\n\nexport function getIdFromValue(\n  valuesById: ValuesById,\n  selectedValue: string | null | undefined,\n) {\n  if (selectedValue == null) return null;\n\n  const selectedOption = valuesById.find(\n    option => option.value === selectedValue,\n  );\n  return selectedOption ? selectedOption.id : null;\n}\n\nfunction getValueFromId(\n  valuesById: ValuesById,\n  currentId: CompositeState[\"currentId\"],\n) {\n  if (currentId == null) return;\n\n  const selectedOption = valuesById.find(option => option.id === currentId);\n  return selectedOption ? selectedOption.value : undefined;\n}\n\nexport function useSelectBaseState(\n  composite: CompositeStateReturn,\n  {\n    selectedValue: initialSelectedValue = null,\n    values: initialValues = [],\n  }: SelectBaseInitialState = {},\n): SelectBaseStateReturn {\n  const valuesById = React.useRef<ValuesById>([]);\n\n  const valuesRef = React.useRef<string[]>(initialValues);\n\n  const {\n    items: compositeItems,\n    registerItem: compositeRegisterItem,\n    unregisterItem: compositeUnregisterItem,\n  } = composite;\n\n  const [selectedValue, setSelectedValue] =\n    React.useState(initialSelectedValue);\n  const selectedId = React.useMemo(\n    () => getIdFromValue(valuesById.current, selectedValue),\n    [valuesById.current, selectedValue],\n  );\n\n  const currentValue = React.useMemo(\n    () => getValueFromId(valuesById.current, composite.currentId),\n    [valuesById.current, composite.currentId],\n  );\n\n  const items = React.useMemo(() => {\n    compositeItems.forEach((item: Item) => {\n      if (item.id) {\n        item.value = valuesById.current[item.id];\n      }\n    });\n    return compositeItems;\n  }, [compositeItems]);\n\n  const registerItem = React.useCallback(\n    (item: Item) => {\n      compositeRegisterItem(item);\n      if (item.id && item.value) {\n        valuesById.current = [\n          ...valuesById.current,\n          { id: item.id, value: item.value },\n        ];\n        if (!initialValues.length)\n          valuesRef.current = [...valuesRef.current, item.value];\n      }\n    },\n    [compositeRegisterItem],\n  );\n\n  const unregisterItem = React.useCallback(\n    (id: string) => {\n      compositeUnregisterItem(id);\n      delete valuesById.current[id];\n    },\n    [compositeUnregisterItem],\n  );\n\n  return {\n    ...composite,\n    menuRole: \"listbox\",\n    selectedValue,\n    currentValue,\n    values: valuesRef.current,\n    valuesById: valuesById.current,\n    selectedId,\n    items,\n    setSelectedValue,\n    registerItem,\n    unregisterItem,\n  };\n}\n\nexport type ValuesById = { id: string; value: string }[];\n\nexport type SelectBaseState = Omit<CompositeState, \"items\"> & {\n  /**\n   * Indicates the type of the suggestions popup.\n   */\n  menuRole: \"listbox\" | \"tree\" | \"grid\" | \"dialog\";\n  /**\n   * Lists all the select items with their `id`, DOM `ref`, `disabled` state,\n   * `value` and `groupId` if any. This state is automatically updated when\n   * `registerItem` and `unregisterItem` are called.\n   * @example\n   * const select = useSelectState();\n   * select.items.forEach((item) => {\n   *\n   * });\n   */\n  items: Item[];\n  /**\n   * Options/values provided.\n   */\n  values: string[];\n  /**\n   * Initial value to be selected\n   */\n  valuesById: ValuesById;\n  /**\n   * Initial value to be selected\n   */\n  selectedValue: string | null;\n  /**\n   * Initial value to be selected\n   */\n  currentValue: string | undefined;\n  /**\n   * Id of the item that is currently selected.\n   */\n  selectedId?: string | null;\n};\n\nexport type SelectBaseActions = Omit<CompositeActions, \"registerItem\"> & {\n  /**\n   * Registers a select item.\n   * @example\n   * const ref = React.useRef();\n   * const select = useSelectState();\n   * React.useEffect(() => {\n   *   select.registerItem({ ref, id: \"id\" });\n   *   return () => select.unregisterItem(\"id\");\n   * });\n   */\n  registerItem: (item: Item) => void;\n  /**\n   * Sets `values`.\n   */\n  setSelectedValue: SetState<SelectBaseState[\"selectedValue\"]>;\n};\n\nexport type SelectBaseInitialState = Pick<\n  Partial<SelectBaseState>,\n  \"values\" | \"selectedValue\"\n>;\n\nexport type SelectBaseStateReturn = SelectBaseState & SelectBaseActions;\n", "import { kebabCase } from \"../../utils\";\n\nexport function getItemId(baseId: string, value: string, id?: string) {\n  return id || `${baseId}-${kebabCase(value)}`;\n}\n\nexport * from \"./useTypeaheadShortcut\";\n", "import { createComponent, createHook } from \"../system\";\n\nimport { SELECT_OPTION_KEYS } from \"./__keys\";\nimport {\n  SelectItemHTMLProps,\n  SelectItemOptions,\n  useSelectItem,\n} from \"./SelectItem\";\n\nexport const useSelectOption = createHook<\n  SelectOptionOptions,\n  SelectOptionHTMLProps\n>({\n  name: \"SelectOption\",\n  compose: useSelectItem,\n  keys: SELECT_OPTION_KEYS,\n\n  useProps(_, htmlProps) {\n    return { role: \"option\", ...htmlProps };\n  },\n});\n\nexport const SelectOption = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useSelectOption,\n});\n\nexport type SelectOptionOptions = SelectItemOptions;\n\nexport type SelectOptionHTMLProps = SelectItemHTMLProps;\n\nexport type SelectOptionProps = SelectOptionOptions & SelectOptionHTMLProps;\n", "import * as React from \"react\";\nimport { useCreateElement } from \"reakit-system\";\nimport { PopoverHTMLProps, PopoverOptions, usePopover } from \"reakit\";\nimport { useForkRef } from \"reakit-utils\";\nimport { useWarning } from \"reakit-warning\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { SELECT_POPOVER_KEYS } from \"./__keys\";\nimport { useTypeaheadShortcut } from \"./helpers\";\nimport {\n  SelectListHTMLProps,\n  SelectListOptions,\n  useSelectList,\n} from \"./SelectList\";\nimport { SelectStateReturn } from \"./SelectState\";\n\nexport const useSelectPopover = createHook<\n  SelectPopoverOptions,\n  SelectPopoverHTMLProps\n>({\n  name: \"SelectPopover\",\n  compose: [useSelectList, usePopover],\n  keys: SELECT_POPOVER_KEYS,\n\n  useProps(options, { ref: htmlRef, ...htmlProps }) {\n    const ref = React.useRef<HTMLElement>(null);\n\n    useTypeaheadShortcut({ options, ref });\n\n    return {\n      ref: useForkRef(ref, htmlRef),\n      role: \"listbox\",\n      ...htmlProps,\n    };\n  },\n});\n\nexport const SelectPopover = createComponent({\n  as: \"div\",\n  useHook: useSelectPopover,\n  useCreateElement: (type, props, children) => {\n    useWarning(\n      !props[\"aria-label\"] && !props[\"aria-labelledby\"],\n      \"You should provide either `aria-label` or `aria-labelledby` props.\",\n      \"See https://www.w3.org/TR/wai-aria-1.1/#listbox\",\n    );\n    return useCreateElement(type, props, children);\n  },\n});\n\nexport type SelectPopoverOptions = SelectListOptions &\n  PopoverOptions &\n  Pick<SelectStateReturn, \"values\" | \"currentValue\" | \"valuesById\">;\n\nexport type SelectPopoverHTMLProps = PopoverHTMLProps & SelectListHTMLProps;\n\nexport type SelectPopoverProps = SelectPopoverOptions & SelectPopoverHTMLProps;\n", "import { useCreateElement } from \"reakit-system/useCreateElement\";\nimport { CompositeHTMLProps, CompositeOptions, useComposite } from \"reakit\";\nimport { useWarning } from \"reakit-warning\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { SELECT_LIST_KEYS } from \"./__keys\";\nimport { SelectStateReturn } from \"./SelectState\";\n\nexport const useSelectList = createHook<SelectListOptions, SelectListHTMLProps>(\n  {\n    name: \"SelectList\",\n    compose: useComposite,\n    keys: SELECT_LIST_KEYS,\n\n    useOptions({ menuRole = \"listbox\", ...options }) {\n      return { menuRole, ...options };\n    },\n\n    useProps(options, htmlProps) {\n      return {\n        role: options.menuRole,\n        ...htmlProps,\n      };\n    },\n  },\n);\n\nexport const SelectList = createComponent({\n  as: \"div\",\n  useHook: useSelectList,\n  useCreateElement: (type, props, children) => {\n    useWarning(\n      !props[\"aria-label\"] && !props[\"aria-labelledby\"],\n      \"You should provide either `aria-label` or `aria-labelledby` props.\",\n      \"See https://www.w3.org/TR/wai-aria-1.1/#listbox\",\n    );\n    return useCreateElement(type, props, children);\n  },\n});\n\nexport type SelectListOptions = CompositeOptions &\n  Pick<Partial<SelectStateReturn>, \"menuRole\"> &\n  Pick<SelectStateReturn, \"baseId\">;\n\nexport type SelectListHTMLProps = CompositeHTMLProps;\n\nexport type SelectListProps = SelectListOptions & SelectListHTMLProps;\n", "import { CompositeInitialState, useCompositeState } from \"reakit\";\nimport {\n  SealedInitialState,\n  useSealedState,\n} from \"reakit-utils/useSealedState\";\n\nimport {\n  SelectBaseActions,\n  SelectBaseInitialState,\n  SelectBaseState,\n  useSelectBaseState,\n} from \"./SelectBaseState\";\n\nexport function useSelectListState(\n  initialState: SealedInitialState<SelectListInitialState> = {},\n): SelectListStateReturn {\n  const {\n    orientation = \"vertical\",\n    loop = true,\n    ...sealed\n  } = useSealedState(initialState);\n\n  const composite = useCompositeState({\n    orientation,\n    loop,\n    ...sealed,\n    unstable_virtual: true,\n  });\n\n  return useSelectBaseState(composite, sealed);\n}\n\nexport type SelectListState = SelectBaseState;\n\nexport type SelectListActions = SelectBaseActions;\n\nexport type SelectListInitialState = Omit<\n  CompositeInitialState,\n  \"unstable_virtual\"\n> &\n  SelectBaseInitialState;\n\nexport type SelectListStateReturn = SelectListState & SelectListActions;\n", "import * as React from \"react\";\nimport {\n  PopoverActions,\n  PopoverInitialState,\n  PopoverState,\n  usePopoverState,\n} from \"reakit\";\n\nimport { SelectListStateReturn } from \"./SelectListState\";\n\nexport function useSelectPopoverState(\n  select: SelectListStateReturn,\n  {\n    gutter = 0,\n    placement = \"bottom-start\",\n    ...initialState\n  }: SelectPopoverInitialState = {},\n) {\n  const { move, reset, selectedId } = select;\n  const popover = usePopoverState({ gutter, placement, ...initialState });\n  const visible = popover.visible;\n\n  React.useEffect(() => {\n    if (visible && selectedId) move?.(selectedId);\n\n    // We need to reset select.moves\n    if (!visible) reset();\n  }, [visible, reset, selectedId, move]);\n\n  return {\n    ...select,\n    ...popover,\n    visible,\n  };\n}\n\nexport type SelectPopoverState = PopoverState;\n\nexport type SelectPopoverActions = PopoverActions;\n\nexport type SelectPopoverInitialState = PopoverInitialState;\n\nexport type SelectPopoverStateReturn = SelectPopoverState &\n  SelectPopoverActions;\n", "import {\n  SealedInitialState,\n  useSealedState,\n} from \"reakit-utils/useSealedState\";\n\nimport {\n  SelectListActions,\n  SelectListInitialState,\n  SelectListState,\n  useSelectListState,\n} from \"./SelectListState\";\nimport {\n  SelectPopoverActions,\n  SelectPopoverInitialState,\n  SelectPopoverState,\n  useSelectPopoverState,\n} from \"./SelectPopoverState\";\n\nexport function useSelectState(\n  initialState: SealedInitialState<SelectInitialState> = {},\n): SelectStateReturn {\n  const sealed = useSealedState(initialState);\n  const select = useSelectListState(sealed);\n  return useSelectPopoverState(select, sealed);\n}\n\nexport type SelectState = SelectPopoverState & SelectListState;\n\nexport type SelectActions = SelectPopoverActions & SelectListActions;\n\nexport type SelectInitialState = SelectPopoverInitialState &\n  SelectListInitialState;\n\nexport type SelectStateReturn = SelectState & SelectActions;\n", "// Automatically generated\nexport const USE_SLIDER_BASE_STATE_KEYS = [\n  \"orientation\",\n  \"isDisabled\",\n  \"onChangeEnd\",\n  \"minValue\",\n  \"maxValue\",\n  \"step\",\n  \"value\",\n  \"defaultValue\",\n  \"onChange\",\n  \"label\",\n  \"formatOptions\",\n] as const;\nexport const SLIDER_BASE_STATE_KEYS = [\n  \"values\",\n  \"focusedThumb\",\n  \"step\",\n  \"getThumbValue\",\n  \"setThumbValue\",\n  \"setThumbPercent\",\n  \"isThumbDragging\",\n  \"setThumbDragging\",\n  \"setFocusedThumb\",\n  \"getThumbPercent\",\n  \"getValuePercent\",\n  \"getThumbValueLabel\",\n  \"getFormattedValue\",\n  \"getThumbMinValue\",\n  \"getThumbMaxValue\",\n  \"getPercentValue\",\n  \"isThumbEditable\",\n  \"setThumbEditable\",\n] as const;\nexport const SLIDER_STATE_KEYS = [\n  \"trackRef\",\n  \"labelProps\",\n  \"groupProps\",\n  \"trackProps\",\n  \"outputProps\",\n] as const;\nexport const USE_SLIDER_STATE_KEYS = [\n  \"orientation\",\n  \"isDisabled\",\n  \"onChangeEnd\",\n  \"minValue\",\n  \"maxValue\",\n  \"step\",\n  \"value\",\n  \"defaultValue\",\n  \"onChange\",\n  \"label\",\n  \"id\",\n  \"aria-label\",\n  \"aria-labelledby\",\n  \"aria-describedby\",\n  \"aria-details\",\n  \"state\",\n] as const;\nexport const SLIDER_THUMB_STATE_KEYS = [\n  \"inputRef\",\n  \"thumbProps\",\n  \"inputProps\",\n  \"labelProps\",\n] as const;\nexport const USE_SLIDER_THUMB_STATE_KEYS = [\n  \"orientation\",\n  \"isDisabled\",\n  \"index\",\n  \"autoFocus\",\n  \"onFocus\",\n  \"onBlur\",\n  \"onFocusChange\",\n  \"onKeyDown\",\n  \"onKeyUp\",\n  \"validationState\",\n  \"isRequired\",\n  \"label\",\n  \"id\",\n  \"excludeFromTabOrder\",\n  \"aria-label\",\n  \"aria-labelledby\",\n  \"aria-describedby\",\n  \"aria-details\",\n  \"aria-errormessage\",\n  \"trackRef\",\n  \"state\",\n] as const;\nexport const SLIDER_GROUP_KEYS = [\n  ...SLIDER_BASE_STATE_KEYS,\n  ...SLIDER_STATE_KEYS,\n  ...SLIDER_THUMB_STATE_KEYS,\n] as const;\nexport const SLIDER_INPUT_KEYS = SLIDER_GROUP_KEYS;\nexport const SLIDER_LABEL_KEYS = SLIDER_INPUT_KEYS;\nexport const SLIDER_OUTPUT_KEYS = SLIDER_LABEL_KEYS;\nexport const SLIDER_THUMB_KEYS = SLIDER_OUTPUT_KEYS;\nexport const SLIDER_TRACK_KEYS = SLIDER_THUMB_KEYS;\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport {useSliderState} from './useSliderState';\n\nexport type {SliderStateOptions} from './useSliderState';\nexport type {SliderState} from './useSliderState';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {clamp, snapValueToStep} from '@react-aria/utils';\nimport {Orientation} from '@react-types/shared';\nimport {SliderProps} from '@react-types/slider';\nimport {useControlledState} from '@react-stately/utils';\nimport {useMemo, useRef, useState} from 'react';\n\nexport interface SliderState {\n  /**\n   * Values managed by the slider by thumb index.\n   */\n  readonly values: number[],\n  /**\n   * Get the value for the specified thumb.\n   * @param index\n   */\n  getThumbValue(index: number): number,\n\n  /**\n   * Sets the value for the specified thumb.\n   * The actual value set will be clamped and rounded according to min/max/step.\n   * @param index\n   * @param value\n   */\n  setThumbValue(index: number, value: number): void,\n\n  /**\n   * Sets value for the specified thumb by percent offset (between 0 and 1).\n   * @param index\n   * @param percent\n   */\n  setThumbPercent(index: number, percent: number): void,\n\n  /**\n   * Whether the specific thumb is being dragged.\n   * @param index\n   */\n  isThumbDragging(index: number): boolean,\n  /**\n   * Set is dragging on the specified thumb.\n   * @param index\n   * @param dragging\n   */\n  setThumbDragging(index: number, dragging: boolean): void,\n\n  /**\n   * Currently-focused thumb index.\n   */\n  readonly focusedThumb: number | undefined,\n  /**\n   * Set focused true on specified thumb. This will remove focus from\n   * any thumb that had it before.\n   * @param index\n   */\n  setFocusedThumb(index: number | undefined): void,\n\n  /**\n   * Returns the specified thumb's value as a percentage from 0 to 1.\n   * @param index\n   */\n  getThumbPercent(index: number): number,\n\n  /**\n   * Returns the value as a percent between the min and max of the slider.\n   * @param index\n   */\n  getValuePercent(value: number): number,\n\n  /**\n   * Returns the string label for the specified thumb's value, per props.formatOptions.\n   * @param index\n   */\n  getThumbValueLabel(index: number): string,\n\n  /**\n   * Returns the string label for the value, per props.formatOptions.\n   * @param index\n   */\n  getFormattedValue(value: number): string,\n\n  /**\n   * Returns the min allowed value for the specified thumb.\n   * @param index\n   */\n  getThumbMinValue(index: number): number,\n\n  /**\n   * Returns the max allowed value for the specified thumb.\n   * @param index\n   */\n  getThumbMaxValue(index: number): number,\n\n  /**\n   * Converts a percent along track (between 0 and 1) to the corresponding value.\n   * @param percent\n   */\n  getPercentValue(percent: number): number,\n\n  /**\n   * Returns if the specified thumb is editable.\n   * @param index\n   */\n  isThumbEditable(index: number): boolean,\n\n  /**\n   * Set the specified thumb's editable state.\n   * @param index\n   * @param editable\n   */\n  setThumbEditable(index: number, editable: boolean): void,\n\n  /**\n   * Increments the value of the thumb by the step or page amount.\n   */\n  incrementThumb(index: number, stepSize?: number): void,\n  /**\n   * Decrements the value of the thumb by the step or page amount.\n   */\n  decrementThumb(index: number, stepSize?: number): void,\n\n  /**\n   * The step amount for the slider.\n   */\n  readonly step: number,\n\n  /**\n   * The page size for the slider, used to do a bigger step.\n   */\n  readonly pageSize: number,\n\n  /** The orientation of the slider. */\n  readonly orientation: Orientation,\n\n  /** Whether the slider is disabled. */\n  readonly isDisabled: boolean\n}\n\nconst DEFAULT_MIN_VALUE = 0;\nconst DEFAULT_MAX_VALUE = 100;\nconst DEFAULT_STEP_VALUE = 1;\n\nexport interface SliderStateOptions<T> extends SliderProps<T> {\n  numberFormatter: Intl.NumberFormat\n}\n\n/**\n * Provides state management for a slider component. Stores values for all thumbs,\n * formats values for localization, and provides methods to update the position\n * of any thumbs.\n * @param props\n */\nexport function useSliderState<T extends number | number[]>(props: SliderStateOptions<T>): SliderState {\n  const {\n    isDisabled = false,\n    minValue = DEFAULT_MIN_VALUE,\n    maxValue = DEFAULT_MAX_VALUE,\n    numberFormatter: formatter,\n    step = DEFAULT_STEP_VALUE,\n    orientation = 'horizontal'\n  } = props;\n\n  // Page step should be at least equal to step and always a multiple of the step.\n  let pageSize = useMemo(() => {\n    let calcPageSize = (maxValue - minValue) / 10;\n    calcPageSize = snapValueToStep(calcPageSize, 0, calcPageSize + step, step);\n    return Math.max(calcPageSize, step);\n  }, [step, maxValue, minValue]);\n\n  let value = useMemo(() => convertValue(props.value), [props.value]);\n  let defaultValue = useMemo(() => convertValue(props.defaultValue) ?? [minValue], [props.defaultValue, minValue]);\n  let onChange = createOnChange(props.value, props.defaultValue, props.onChange);\n  let onChangeEnd = createOnChange(props.value, props.defaultValue, props.onChangeEnd);\n\n  const [values, setValues] = useControlledState<number[]>(\n    value,\n    defaultValue,\n    onChange\n  );\n  const [isDraggings, setDraggings] = useState<boolean[]>(new Array(values.length).fill(false));\n  const isEditablesRef = useRef<boolean[]>(new Array(values.length).fill(true));\n  const [focusedIndex, setFocusedIndex] = useState<number | undefined>(undefined);\n\n  const valuesRef = useRef<number[]>(null);\n  valuesRef.current = values;\n  const isDraggingsRef = useRef<boolean[]>(null);\n  isDraggingsRef.current = isDraggings;\n\n  function getValuePercent(value: number) {\n    return (value - minValue) / (maxValue - minValue);\n  }\n\n  function getThumbMinValue(index: number) {\n    return index === 0 ? minValue : values[index - 1];\n  }\n  function getThumbMaxValue(index: number) {\n    return index === values.length - 1 ? maxValue : values[index + 1];\n  }\n\n  function isThumbEditable(index: number) {\n    return isEditablesRef.current[index];\n  }\n\n  function setThumbEditable(index: number, editable: boolean) {\n    isEditablesRef.current[index] = editable;\n  }\n\n  function updateValue(index: number, value: number) {\n    if (isDisabled || !isThumbEditable(index)) {\n      return;\n    }\n    const thisMin = getThumbMinValue(index);\n    const thisMax = getThumbMaxValue(index);\n\n    // Round value to multiple of step, clamp value between min and max\n    value = snapValueToStep(value, thisMin, thisMax, step);\n    valuesRef.current = replaceIndex(valuesRef.current, index, value);\n    setValues(valuesRef.current);\n  }\n\n  function updateDragging(index: number, dragging: boolean) {\n    if (isDisabled || !isThumbEditable(index)) {\n      return;\n    }\n\n    const wasDragging = isDraggingsRef.current[index];\n    isDraggingsRef.current = replaceIndex(isDraggingsRef.current, index, dragging);\n    setDraggings(isDraggingsRef.current);\n\n    // Call onChangeEnd if no handles are dragging.\n    if (onChangeEnd && wasDragging && !isDraggingsRef.current.some(Boolean)) {\n      onChangeEnd(valuesRef.current);\n    }\n  }\n\n  function getFormattedValue(value: number) {\n    return formatter.format(value);\n  }\n\n  function setThumbPercent(index: number, percent: number) {\n    updateValue(index, getPercentValue(percent));\n  }\n\n  function getRoundedValue(value: number) {\n    return Math.round((value - minValue) / step) * step + minValue;\n  }\n\n  function getPercentValue(percent: number) {\n    const val = percent * (maxValue - minValue) + minValue;\n    return clamp(getRoundedValue(val), minValue, maxValue);\n  }\n\n  function incrementThumb(index: number, stepSize: number = 1) {\n    let s = Math.max(stepSize, step);\n    updateValue(index, snapValueToStep(values[index] + s, minValue, maxValue, step));\n  }\n\n  function decrementThumb(index: number, stepSize: number = 1) {\n    let s = Math.max(stepSize, step);\n    updateValue(index, snapValueToStep(values[index] - s, minValue, maxValue, step));\n  }\n\n  return {\n    values: values,\n    getThumbValue: (index: number) => values[index],\n    setThumbValue: updateValue,\n    setThumbPercent,\n    isThumbDragging: (index: number) => isDraggings[index],\n    setThumbDragging: updateDragging,\n    focusedThumb: focusedIndex,\n    setFocusedThumb: setFocusedIndex,\n    getThumbPercent: (index: number) => getValuePercent(values[index]),\n    getValuePercent,\n    getThumbValueLabel: (index: number) => getFormattedValue(values[index]),\n    getFormattedValue,\n    getThumbMinValue,\n    getThumbMaxValue,\n    getPercentValue,\n    isThumbEditable,\n    setThumbEditable,\n    incrementThumb,\n    decrementThumb,\n    step,\n    pageSize,\n    orientation,\n    isDisabled\n  };\n}\n\nfunction replaceIndex<T>(array: T[], index: number, value: T) {\n  if (array[index] === value) {\n    return array;\n  }\n\n  return [...array.slice(0, index), value, ...array.slice(index + 1)];\n}\n\nfunction convertValue(value: number | number[]) {\n  if (value == null) {\n    return undefined;\n  }\n\n  return Array.isArray(value) ? value : [value];\n}\n\nfunction createOnChange(value, defaultValue, onChange) {\n  return (newValue: number[]) => {\n    if (typeof value === 'number' || typeof defaultValue === 'number') {\n      onChange?.(newValue[0]);\n    } else {\n      onChange?.(newValue);\n    }\n  };\n}\n", "import { useNumberFormatter } from \"@react-aria/i18n\";\nimport { useSliderState } from \"@react-stately/slider\";\nimport { SliderProps } from \"@react-types/slider\";\n\nexport interface SliderBaseState {\n  /**\n   * Values managed by the slider by thumb index.\n   */\n  values: number[];\n\n  /**\n   * Currently-focused thumb index.\n   */\n  focusedThumb: number | undefined;\n\n  /**\n   * The slider's step value.\n   * @default 1\n   */\n  step: number;\n}\n\nexport interface SliderBaseAction {\n  /**\n   * Get Thumb value based on its index\n   * @param index\n   */\n  getThumbValue(index: number): number;\n\n  /**\n   * Sets the value for the specified thumb.\n   * The actual value set will be clamped and rounded according to min/max/step.\n   * @param index\n   * @param value\n   */\n  setThumbValue(index: number, value: number): void;\n\n  /**\n   * Sets value for the specified thumb by percent offset (between 0 and 1).\n   * @param index\n   * @param percent\n   */\n  setThumbPercent(index: number, percent: number): void;\n\n  /**\n   * Whether the specific thumb is being dragged.\n   * @param index\n   */\n  isThumbDragging(index: number): boolean;\n\n  /**\n   * Set is dragging on the specified thumb.\n   * @param index\n   * @param dragging\n   */\n  setThumbDragging(index: number, dragging: boolean): void;\n\n  /**\n   * Set focused true on specified thumb. This will remove focus from\n   * any thumb that had it before.\n   * @param index\n   */\n  setFocusedThumb(index: number | undefined): void;\n\n  /**\n   * Returns the specified thumb's value as a percentage from 0 to 1.\n   * @param index\n   */\n  getThumbPercent(index: number): number;\n\n  /**\n   * Returns the value as a percent between the min and max of the slider.\n   * @param index\n   */\n  getValuePercent(value: number): number;\n\n  /**\n   * Returns the string label for the specified thumb's value, per props.formatOptions.\n   * @param index\n   */\n  getThumbValueLabel(index: number): string;\n\n  /**\n   * Returns the string label for the value, per props.formatOptions.\n   * @param index\n   */\n  getFormattedValue(value: number): string;\n\n  /**\n   * Returns the min allowed value for the specified thumb.\n   * @param index\n   */\n  getThumbMinValue(index: number): number;\n\n  /**\n   * Returns the max allowed value for the specified thumb.\n   * @param index\n   */\n  getThumbMaxValue(index: number): number;\n\n  /**\n   * Converts a percent along track (between 0 and 1) to the corresponding value.\n   * @param percent\n   */\n  getPercentValue(percent: number): number;\n\n  /**\n   * Returns if the specified thumb is editable.\n   * @param index\n   */\n  isThumbEditable(index: number): boolean;\n\n  /**\n   * Set the specified thumb's editable state.\n   * @param index\n   * @param editable\n   */\n  setThumbEditable(index: number, editable: boolean): void;\n}\n\nexport type SliderBaseInitialState = SliderProps & {\n  /**\n   * The display format of the value label.\n   */\n  formatOptions?: Intl.NumberFormatOptions;\n};\n\nexport type SliderBaseStateReturn = SliderBaseState & SliderBaseAction;\n\nexport function useSliderBaseState(\n  props: SliderBaseInitialState = {},\n): SliderBaseStateReturn {\n  const numberFormatter = useNumberFormatter(props.formatOptions);\n  const state = useSliderState({ ...props, numberFormatter });\n\n  return state;\n}\n", "import { GroupHTMLProps, GroupOptions, useGroup } from \"reakit\";\nimport { mergeProps } from \"@react-aria/utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { SLIDER_GROUP_KEYS } from \"./__keys\";\nimport { SliderStateReturn } from \"./SliderState\";\n\nexport type SliderGroupOptions = GroupOptions &\n  Pick<SliderStateReturn, \"groupProps\">;\n\nexport type SliderGroupHTMLProps = GroupHTMLProps;\n\nexport type SliderGroupProps = SliderGroupOptions & SliderGroupHTMLProps;\n\nexport const useSliderGroup = createHook<\n  SliderGroupOptions,\n  SliderGroupHTMLProps\n>({\n  name: \"SliderGroup\",\n  compose: useGroup,\n  keys: SLIDER_GROUP_KEYS,\n\n  useOptions(options, htmlProps) {\n    return options;\n  },\n\n  useProps(options, htmlProps) {\n    return mergeProps(options.groupProps, htmlProps);\n  },\n});\n\nexport const SliderGroup = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useSliderGroup,\n});\n", "import { InputHTMLProps, InputOptions, unstable_useId, useInput } from \"reakit\";\nimport { useForkRef } from \"reakit-utils\";\nimport { mergeProps } from \"@react-aria/utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { SLIDER_INPUT_KEYS } from \"./__keys\";\nimport { SliderThumbStateReturn } from \"./SliderThumbState\";\n\nexport type SliderInputOptions = InputOptions &\n  Pick<SliderThumbStateReturn, \"inputProps\" | \"inputRef\"> & {};\n\nexport type SliderInputHTMLProps = InputHTMLProps & {};\n\nexport type SliderInputProps = SliderInputOptions & SliderInputHTMLProps;\n\nexport const useSliderInput = createHook<\n  SliderInputOptions,\n  SliderInputHTMLProps\n>({\n  name: \"SliderInput\",\n  compose: [unstable_useId, useInput],\n  keys: SLIDER_INPUT_KEYS,\n\n  useOptions(options, htmlProps) {\n    return options;\n  },\n\n  useProps(options, htmlProps) {\n    const { inputRef, inputProps } = options;\n    const { ref: htmlRef, ...restHtmlProps } = htmlProps;\n\n    return mergeProps(inputProps, {\n      ref: useForkRef(htmlRef, inputRef),\n      ...restHtmlProps,\n    });\n  },\n});\n\nexport const SliderInput = createComponent({\n  as: \"input\",\n  memo: true,\n  useHook: useSliderInput,\n});\n", "import { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\nimport { mergeProps } from \"@react-aria/utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { SLIDER_LABEL_KEYS } from \"./__keys\";\nimport { SliderStateReturn } from \"./SliderState\";\n\nexport type SliderLabelOptions = RoleOptions &\n  Pick<SliderStateReturn, \"labelProps\">;\n\nexport type SliderLabelHTMLProps = RoleHTMLProps;\n\nexport type SliderLabelProps = SliderLabelOptions & SliderLabelHTMLProps;\n\nexport const useSliderLabel = createHook<\n  SliderLabelOptions,\n  SliderLabelHTMLProps\n>({\n  name: \"SliderLabel\",\n  compose: useRole,\n  keys: SLIDER_LABEL_KEYS,\n\n  useOptions(options, htmlProps) {\n    return options;\n  },\n\n  useProps(options, htmlProps) {\n    const { labelProps } = options;\n\n    return mergeProps(labelProps, htmlProps);\n  },\n});\n\nexport const SliderLabel = createComponent({\n  as: \"label\",\n  memo: true,\n  useHook: useSliderLabel,\n});\n", "import { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\nimport { mergeProps } from \"@react-aria/utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { SLIDER_LABEL_KEYS } from \"./__keys\";\nimport { SliderStateReturn } from \"./SliderState\";\n\nexport type SliderOutputOptions = RoleOptions &\n  Pick<SliderStateReturn, \"outputProps\">;\n\nexport type SliderOutputHTMLProps = RoleHTMLProps;\n\nexport type SliderOutputProps = SliderOutputOptions & SliderOutputHTMLProps;\n\nexport const useSliderOutput = createHook<\n  SliderOutputOptions,\n  SliderOutputHTMLProps\n>({\n  name: \"SliderOutput\",\n  compose: useRole,\n  keys: SLIDER_LABEL_KEYS,\n\n  useOptions(options, htmlProps) {\n    return options;\n  },\n\n  useProps(options, htmlProps) {\n    return mergeProps(options.outputProps, htmlProps);\n  },\n});\n\nexport const SliderOutput = createComponent({\n  as: \"output\",\n  memo: true,\n  useHook: useSliderOutput,\n});\n", "import * as React from \"react\";\nimport { useSlider } from \"@react-aria/slider\";\nimport { AriaSliderProps } from \"@react-types/slider\";\n\nimport { SliderBaseStateReturn } from \"./index\";\n\nexport type SliderState = {\n  /**\n   * Ref for the \"track\" element.  The width of this element provides the \"length\"\n   * of the track -- the span of one dimensional space that the slider thumb can be.  It also\n   * accepts click and drag motions, so that the closest thumb will follow clicks and drags on\n   * the track..\n   */\n  trackRef: React.RefObject<HTMLElement>;\n\n  /** Props for the label element. */\n  labelProps: React.LabelHTMLAttributes<HTMLLabelElement>;\n\n  /** Props for the root element of the slider component; groups slider inputs. */\n  groupProps: React.HTMLAttributes<HTMLElement>;\n\n  /** Props for the track element. */\n  trackProps: React.HTMLAttributes<HTMLElement>;\n\n  /** Props for the output element, displaying the value of the slider thumbs. */\n  outputProps: React.OutputHTMLAttributes<HTMLOutputElement>;\n};\n\nexport type SliderActions = {};\n\nexport type SliderStateReturn = SliderState & SliderActions & {};\n\nexport type SliderInitialState = AriaSliderProps & {\n  state: SliderBaseStateReturn;\n};\n\nexport function useSliderState(props: SliderInitialState): SliderStateReturn {\n  const { state, ...rest } = props;\n  const trackRef = React.useRef<HTMLElement>(null);\n  const sliderProps = useSlider(rest, state, trackRef);\n\n  return { ...sliderProps, trackRef };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport {Pressable} from './Pressable';\nexport {PressResponder} from './PressResponder';\nexport {useFocus} from './useFocus';\nexport {\n  isFocusVisible,\n  getInteractionModality,\n  setInteractionModality,\n  useInteractionModality,\n  useFocusVisible,\n  useFocusVisibleListener\n} from './useFocusVisible';\nexport {useFocusWithin} from './useFocusWithin';\nexport {useHover} from './useHover';\nexport {useInteractOutside} from './useInteractOutside';\nexport {useKeyboard} from './useKeyboard';\nexport {useMove} from './useMove';\nexport {usePress} from './usePress';\nexport {useScrollWheel} from './useScrollWheel';\nexport {useLongPress} from './useLongPress';\n\nexport type {FocusProps, FocusResult} from './useFocus';\nexport type {FocusVisibleHandler, FocusVisibleResult, Modality} from './useFocusVisible';\nexport type {FocusWithinProps, FocusWithinResult} from './useFocusWithin';\nexport type {HoverProps, HoverResult} from './useHover';\nexport type {InteractOutsideProps} from './useInteractOutside';\nexport type {KeyboardProps, KeyboardResult} from './useKeyboard';\nexport type {PressProps, PressHookProps, PressResult} from './usePress';\nexport type {MoveEvents} from '@react-types/shared';\nexport type {MoveResult} from './useMove';\nexport type {LongPressProps, LongPressResult} from './useLongPress';\nexport type {ScrollWheelProps} from './useScrollWheel';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DOMAttributes} from '@react-types/shared';\nimport {mergeProps} from '@react-aria/utils';\nimport {PressProps, usePress} from './usePress';\nimport React, {ReactElement, RefObject, useRef} from 'react';\n\ninterface PressableProps extends PressProps {\n  children: ReactElement<DOMAttributes, string>\n}\n\nexport const Pressable = React.forwardRef(({children, ...props}: PressableProps, ref: RefObject<Element>) => {\n  let newRef = useRef();\n  ref = ref ?? newRef;\n  let {pressProps} = usePress({...props, ref});\n  let child = React.Children.only(children);\n  return React.cloneElement(\n    child,\n    // @ts-ignore\n    {ref, ...mergeProps(child.props, pressProps)}\n  );\n});\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {disableTextSelection, restoreTextSelection} from './textSelection';\nimport {DOMAttributes, FocusableElement, PointerType, PressEvents} from '@react-types/shared';\nimport {focusWithoutScrolling, mergeProps, useGlobalListeners, useSyncRef} from '@react-aria/utils';\nimport {isVirtualClick} from './utils';\nimport {PressResponderContext} from './context';\nimport {RefObject, useContext, useEffect, useMemo, useRef, useState} from 'react';\n\nexport interface PressProps extends PressEvents {\n  /** Whether the target is in a controlled press state (e.g. an overlay it triggers is open). */\n  isPressed?: boolean,\n  /** Whether the press events should be disabled. */\n  isDisabled?: boolean,\n  /** Whether the target should not receive focus on press. */\n  preventFocusOnPress?: boolean,\n  /**\n   * Whether press events should be canceled when the pointer leaves the target while pressed.\n   * By default, this is `false`, which means if the pointer returns back over the target while\n   * still pressed, onPressStart will be fired again. If set to `true`, the press is canceled\n   * when the pointer leaves the target and onPressStart will not be fired if the pointer returns.\n   */\n  shouldCancelOnPointerExit?: boolean,\n  /** Whether text selection should be enabled on the pressable element. */\n  allowTextSelectionOnPress?: boolean\n}\n\nexport interface PressHookProps extends PressProps {\n  /** A ref to the target element. */\n  ref?: RefObject<Element>\n}\n\ninterface PressState {\n  isPressed: boolean,\n  ignoreEmulatedMouseEvents: boolean,\n  ignoreClickAfterPress: boolean,\n  didFirePressStart: boolean,\n  activePointerId: any,\n  target: FocusableElement | null,\n  isOverTarget: boolean,\n  pointerType: PointerType,\n  userSelect?: string\n}\n\ninterface EventBase {\n  currentTarget: EventTarget,\n  shiftKey: boolean,\n  ctrlKey: boolean,\n  metaKey: boolean,\n  altKey: boolean\n}\n\nexport interface PressResult {\n  /** Whether the target is currently pressed. */\n  isPressed: boolean,\n  /** Props to spread on the target element. */\n  pressProps: DOMAttributes\n}\n\nfunction usePressResponderContext(props: PressHookProps): PressHookProps {\n  // Consume context from <PressResponder> and merge with props.\n  let context = useContext(PressResponderContext);\n  if (context) {\n    let {register, ...contextProps} = context;\n    props = mergeProps(contextProps, props) as PressHookProps;\n    register();\n  }\n  useSyncRef(context, props.ref);\n\n  return props;\n}\n\n/**\n * Handles press interactions across mouse, touch, keyboard, and screen readers.\n * It normalizes behavior across browsers and platforms, and handles many nuances\n * of dealing with pointer and keyboard events.\n */\nexport function usePress(props: PressHookProps): PressResult {\n  let {\n    onPress,\n    onPressChange,\n    onPressStart,\n    onPressEnd,\n    onPressUp,\n    isDisabled,\n    isPressed: isPressedProp,\n    preventFocusOnPress,\n    shouldCancelOnPointerExit,\n    allowTextSelectionOnPress,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ref: _, // Removing `ref` from `domProps` because TypeScript is dumb\n    ...domProps\n  } = usePressResponderContext(props);\n  let propsRef = useRef<PressHookProps>(null);\n  propsRef.current = {onPress, onPressChange, onPressStart, onPressEnd, onPressUp, isDisabled, shouldCancelOnPointerExit};\n\n  let [isPressed, setPressed] = useState(false);\n  let ref = useRef<PressState>({\n    isPressed: false,\n    ignoreEmulatedMouseEvents: false,\n    ignoreClickAfterPress: false,\n    didFirePressStart: false,\n    activePointerId: null,\n    target: null,\n    isOverTarget: false,\n    pointerType: null\n  });\n\n  let {addGlobalListener, removeAllGlobalListeners} = useGlobalListeners();\n\n  let pressProps = useMemo(() => {\n    let state = ref.current;\n    let triggerPressStart = (originalEvent: EventBase, pointerType: PointerType) => {\n      let {onPressStart, onPressChange, isDisabled} = propsRef.current;\n      if (isDisabled || state.didFirePressStart) {\n        return;\n      }\n\n      if (onPressStart) {\n        onPressStart({\n          type: 'pressstart',\n          pointerType,\n          target: originalEvent.currentTarget as Element,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n\n      if (onPressChange) {\n        onPressChange(true);\n      }\n\n      state.didFirePressStart = true;\n      setPressed(true);\n    };\n\n    let triggerPressEnd = (originalEvent: EventBase, pointerType: PointerType, wasPressed = true) => {\n      let {onPressEnd, onPressChange, onPress, isDisabled} = propsRef.current;\n      if (!state.didFirePressStart) {\n        return;\n      }\n\n      state.ignoreClickAfterPress = true;\n      state.didFirePressStart = false;\n\n      if (onPressEnd) {\n        onPressEnd({\n          type: 'pressend',\n          pointerType,\n          target: originalEvent.currentTarget as Element,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n\n      if (onPressChange) {\n        onPressChange(false);\n      }\n\n      setPressed(false);\n\n      if (onPress && wasPressed && !isDisabled) {\n        onPress({\n          type: 'press',\n          pointerType,\n          target: originalEvent.currentTarget as Element,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n    };\n\n    let triggerPressUp = (originalEvent: EventBase, pointerType: PointerType) => {\n      let {onPressUp, isDisabled} = propsRef.current;\n      if (isDisabled) {\n        return;\n      }\n\n      if (onPressUp) {\n        onPressUp({\n          type: 'pressup',\n          pointerType,\n          target: originalEvent.currentTarget as Element,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n    };\n\n    let cancel = (e: EventBase) => {\n      if (state.isPressed) {\n        if (state.isOverTarget) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n        }\n        state.isPressed = false;\n        state.isOverTarget = false;\n        state.activePointerId = null;\n        state.pointerType = null;\n        removeAllGlobalListeners();\n        if (!allowTextSelectionOnPress) {\n          restoreTextSelection(state.target);\n        }\n      }\n    };\n\n    let pressProps: DOMAttributes = {\n      onKeyDown(e) {\n        if (isValidKeyboardEvent(e.nativeEvent, e.currentTarget) && e.currentTarget.contains(e.target as Element)) {\n          if (shouldPreventDefaultKeyboard(e.target as Element, e.key)) {\n            e.preventDefault();\n          }\n          e.stopPropagation();\n\n          // If the event is repeating, it may have started on a different element\n          // after which focus moved to the current element. Ignore these events and\n          // only handle the first key down event.\n          if (!state.isPressed && !e.repeat) {\n            state.target = e.currentTarget;\n            state.isPressed = true;\n            triggerPressStart(e, 'keyboard');\n\n            // Focus may move before the key up event, so register the event on the document\n            // instead of the same element where the key down event occurred.\n            addGlobalListener(document, 'keyup', onKeyUp, false);\n          }\n        } else if (e.key === 'Enter' && isHTMLAnchorLink(e.currentTarget)) {\n          // If the target is a link, we won't have handled this above because we want the default\n          // browser behavior to open the link when pressing Enter. But we still need to prevent\n          // default so that elements above do not also handle it (e.g. table row).\n          e.stopPropagation();\n        }\n      },\n      onKeyUp(e) {\n        if (isValidKeyboardEvent(e.nativeEvent, e.currentTarget) && !e.repeat && e.currentTarget.contains(e.target as Element)) {\n          triggerPressUp(createEvent(state.target, e), 'keyboard');\n        }\n      },\n      onClick(e) {\n        if (e && !e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        if (e && e.button === 0) {\n          e.stopPropagation();\n          if (isDisabled) {\n            e.preventDefault();\n          }\n\n          // If triggered from a screen reader or by using element.click(),\n          // trigger as if it were a keyboard click.\n          if (!state.ignoreClickAfterPress && !state.ignoreEmulatedMouseEvents && (state.pointerType === 'virtual' || isVirtualClick(e.nativeEvent))) {\n            // Ensure the element receives focus (VoiceOver on iOS does not do this)\n            if (!isDisabled && !preventFocusOnPress) {\n              focusWithoutScrolling(e.currentTarget);\n            }\n\n            triggerPressStart(e, 'virtual');\n            triggerPressUp(e, 'virtual');\n            triggerPressEnd(e, 'virtual');\n          }\n\n          state.ignoreEmulatedMouseEvents = false;\n          state.ignoreClickAfterPress = false;\n        }\n      }\n    };\n\n    let onKeyUp = (e: KeyboardEvent) => {\n      if (state.isPressed && isValidKeyboardEvent(e, state.target)) {\n        if (shouldPreventDefaultKeyboard(e.target as Element, e.key)) {\n          e.preventDefault();\n        }\n        e.stopPropagation();\n\n        state.isPressed = false;\n        let target = e.target as Element;\n        triggerPressEnd(createEvent(state.target, e), 'keyboard', state.target.contains(target));\n        removeAllGlobalListeners();\n\n        // If the target is a link, trigger the click method to open the URL,\n        // but defer triggering pressEnd until onClick event handler.\n        if (state.target instanceof HTMLElement && state.target.contains(target) && (isHTMLAnchorLink(state.target) || state.target.getAttribute('role') === 'link')) {\n          state.target.click();\n        }\n      }\n    };\n\n    if (typeof PointerEvent !== 'undefined') {\n      pressProps.onPointerDown = (e) => {\n        // Only handle left clicks, and ignore events that bubbled through portals.\n        if (e.button !== 0 || !e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        // iOS safari fires pointer events from VoiceOver with incorrect coordinates/target.\n        // Ignore and let the onClick handler take care of it instead.\n        // https://bugs.webkit.org/show_bug.cgi?id=222627\n        // https://bugs.webkit.org/show_bug.cgi?id=223202\n        if (isVirtualPointerEvent(e.nativeEvent)) {\n          state.pointerType = 'virtual';\n          return;\n        }\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent\n        // default on pointer down and handle focusing the pressable element ourselves.\n        if (shouldPreventDefault(e.currentTarget as Element)) {\n          e.preventDefault();\n        }\n\n        state.pointerType = e.pointerType;\n\n        e.stopPropagation();\n        if (!state.isPressed) {\n          state.isPressed = true;\n          state.isOverTarget = true;\n          state.activePointerId = e.pointerId;\n          state.target = e.currentTarget;\n\n          if (!isDisabled && !preventFocusOnPress) {\n            focusWithoutScrolling(e.currentTarget);\n          }\n\n          if (!allowTextSelectionOnPress) {\n            disableTextSelection(state.target);\n          }\n\n          triggerPressStart(e, state.pointerType);\n\n          addGlobalListener(document, 'pointermove', onPointerMove, false);\n          addGlobalListener(document, 'pointerup', onPointerUp, false);\n          addGlobalListener(document, 'pointercancel', onPointerCancel, false);\n        }\n      };\n\n      pressProps.onMouseDown = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        if (e.button === 0) {\n          // Chrome and Firefox on touch Windows devices require mouse down events\n          // to be canceled in addition to pointer events, or an extra asynchronous\n          // focus event will be fired.\n          if (shouldPreventDefault(e.currentTarget as Element)) {\n            e.preventDefault();\n          }\n\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onPointerUp = (e) => {\n        // iOS fires pointerup with zero width and height, so check the pointerType recorded during pointerdown.\n        if (!e.currentTarget.contains(e.target as Element) || state.pointerType === 'virtual') {\n          return;\n        }\n\n        // Only handle left clicks\n        // Safari on iOS sometimes fires pointerup events, even\n        // when the touch isn't over the target, so double check.\n        if (e.button === 0 && isOverTarget(e, e.currentTarget)) {\n          triggerPressUp(e, state.pointerType || e.pointerType);\n        }\n      };\n\n      // Safari on iOS < 13.2 does not implement pointerenter/pointerleave events correctly.\n      // Use pointer move events instead to implement our own hit testing.\n      // See https://bugs.webkit.org/show_bug.cgi?id=199803\n      let onPointerMove = (e: PointerEvent) => {\n        if (e.pointerId !== state.activePointerId) {\n          return;\n        }\n\n        if (isOverTarget(e, state.target)) {\n          if (!state.isOverTarget) {\n            state.isOverTarget = true;\n            triggerPressStart(createEvent(state.target, e), state.pointerType);\n          }\n        } else if (state.isOverTarget) {\n          state.isOverTarget = false;\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n          if (propsRef.current.shouldCancelOnPointerExit) {\n            cancel(e);\n          }\n        }\n      };\n\n      let onPointerUp = (e: PointerEvent) => {\n        if (e.pointerId === state.activePointerId && state.isPressed && e.button === 0) {\n          if (isOverTarget(e, state.target)) {\n            triggerPressEnd(createEvent(state.target, e), state.pointerType);\n          } else if (state.isOverTarget) {\n            triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n          }\n\n          state.isPressed = false;\n          state.isOverTarget = false;\n          state.activePointerId = null;\n          state.pointerType = null;\n          removeAllGlobalListeners();\n          if (!allowTextSelectionOnPress) {\n            restoreTextSelection(state.target);\n          }\n        }\n      };\n\n      let onPointerCancel = (e: PointerEvent) => {\n        cancel(e);\n      };\n\n      pressProps.onDragStart = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        // Safari does not call onPointerCancel when a drag starts, whereas Chrome and Firefox do.\n        cancel(e);\n      };\n    } else {\n      pressProps.onMouseDown = (e) => {\n        // Only handle left clicks\n        if (e.button !== 0 || !e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent\n        // default on mouse down and handle focusing the pressable element ourselves.\n        if (shouldPreventDefault(e.currentTarget)) {\n          e.preventDefault();\n        }\n\n        e.stopPropagation();\n        if (state.ignoreEmulatedMouseEvents) {\n          return;\n        }\n\n        state.isPressed = true;\n        state.isOverTarget = true;\n        state.target = e.currentTarget;\n        state.pointerType = isVirtualClick(e.nativeEvent) ? 'virtual' : 'mouse';\n\n        if (!isDisabled && !preventFocusOnPress) {\n          focusWithoutScrolling(e.currentTarget);\n        }\n\n        triggerPressStart(e, state.pointerType);\n\n        addGlobalListener(document, 'mouseup', onMouseUp, false);\n      };\n\n      pressProps.onMouseEnter = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed && !state.ignoreEmulatedMouseEvents) {\n          state.isOverTarget = true;\n          triggerPressStart(e, state.pointerType);\n        }\n      };\n\n      pressProps.onMouseLeave = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed && !state.ignoreEmulatedMouseEvents) {\n          state.isOverTarget = false;\n          triggerPressEnd(e, state.pointerType, false);\n          if (propsRef.current.shouldCancelOnPointerExit) {\n            cancel(e);\n          }\n        }\n      };\n\n      pressProps.onMouseUp = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        if (!state.ignoreEmulatedMouseEvents && e.button === 0) {\n          triggerPressUp(e, state.pointerType);\n        }\n      };\n\n      let onMouseUp = (e: MouseEvent) => {\n        // Only handle left clicks\n        if (e.button !== 0) {\n          return;\n        }\n\n        state.isPressed = false;\n        removeAllGlobalListeners();\n\n        if (state.ignoreEmulatedMouseEvents) {\n          state.ignoreEmulatedMouseEvents = false;\n          return;\n        }\n\n        if (isOverTarget(e, state.target)) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType);\n        } else if (state.isOverTarget) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n        }\n\n        state.isOverTarget = false;\n      };\n\n      pressProps.onTouchStart = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        e.stopPropagation();\n        let touch = getTouchFromEvent(e.nativeEvent);\n        if (!touch) {\n          return;\n        }\n        state.activePointerId = touch.identifier;\n        state.ignoreEmulatedMouseEvents = true;\n        state.isOverTarget = true;\n        state.isPressed = true;\n        state.target = e.currentTarget;\n        state.pointerType = 'touch';\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent default\n        // on the emulated mouse event and handle focusing the pressable element ourselves.\n        if (!isDisabled && !preventFocusOnPress) {\n          focusWithoutScrolling(e.currentTarget);\n        }\n\n        if (!allowTextSelectionOnPress) {\n          disableTextSelection(state.target);\n        }\n\n        triggerPressStart(e, state.pointerType);\n\n        addGlobalListener(window, 'scroll', onScroll, true);\n      };\n\n      pressProps.onTouchMove = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (!state.isPressed) {\n          return;\n        }\n\n        let touch = getTouchById(e.nativeEvent, state.activePointerId);\n        if (touch && isOverTarget(touch, e.currentTarget)) {\n          if (!state.isOverTarget) {\n            state.isOverTarget = true;\n            triggerPressStart(e, state.pointerType);\n          }\n        } else if (state.isOverTarget) {\n          state.isOverTarget = false;\n          triggerPressEnd(e, state.pointerType, false);\n          if (propsRef.current.shouldCancelOnPointerExit) {\n            cancel(e);\n          }\n        }\n      };\n\n      pressProps.onTouchEnd = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (!state.isPressed) {\n          return;\n        }\n\n        let touch = getTouchById(e.nativeEvent, state.activePointerId);\n        if (touch && isOverTarget(touch, e.currentTarget)) {\n          triggerPressUp(e, state.pointerType);\n          triggerPressEnd(e, state.pointerType);\n        } else if (state.isOverTarget) {\n          triggerPressEnd(e, state.pointerType, false);\n        }\n\n        state.isPressed = false;\n        state.activePointerId = null;\n        state.isOverTarget = false;\n        state.ignoreEmulatedMouseEvents = true;\n        if (!allowTextSelectionOnPress) {\n          restoreTextSelection(state.target);\n        }\n        removeAllGlobalListeners();\n      };\n\n      pressProps.onTouchCancel = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed) {\n          cancel(e);\n        }\n      };\n\n      let onScroll = (e: Event) => {\n        if (state.isPressed && (e.target as Element).contains(state.target)) {\n          cancel({\n            currentTarget: state.target,\n            shiftKey: false,\n            ctrlKey: false,\n            metaKey: false,\n            altKey: false\n          });\n        }\n      };\n\n      pressProps.onDragStart = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        cancel(e);\n      };\n    }\n\n    return pressProps;\n  }, [addGlobalListener, isDisabled, preventFocusOnPress, removeAllGlobalListeners, allowTextSelectionOnPress]);\n\n  // Remove user-select: none in case component unmounts immediately after pressStart\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return () => {\n      if (!allowTextSelectionOnPress) {\n        restoreTextSelection(ref.current.target);\n      }\n    };\n  }, [allowTextSelectionOnPress]);\n\n  return {\n    isPressed: isPressedProp || isPressed,\n    pressProps: mergeProps(domProps, pressProps)\n  };\n}\n\nfunction isHTMLAnchorLink(target: Element): boolean {\n  return target.tagName === 'A' && target.hasAttribute('href');\n}\n\nfunction isValidKeyboardEvent(event: KeyboardEvent, currentTarget: Element): boolean {\n  const {key, code} = event;\n  const element = currentTarget as HTMLElement;\n  const role = element.getAttribute('role');\n  // Accessibility for keyboards. Space and Enter only.\n  // \"Spacebar\" is for IE 11\n  return (\n    (key === 'Enter' || key === ' ' || key === 'Spacebar' || code === 'Space') &&\n    !((element instanceof HTMLInputElement && !isValidInputKey(element, key)) ||\n      element instanceof HTMLTextAreaElement ||\n      element.isContentEditable) &&\n    // A link with a valid href should be handled natively,\n    // unless it also has role='button' and was triggered using Space.\n    (!isHTMLAnchorLink(element) || (role === 'button' && key !== 'Enter')) &&\n    // An element with role='link' should only trigger with Enter key\n    !(role === 'link' && key !== 'Enter')\n  );\n}\n\nfunction getTouchFromEvent(event: TouchEvent): Touch | null {\n  const {targetTouches} = event;\n  if (targetTouches.length > 0) {\n    return targetTouches[0];\n  }\n  return null;\n}\n\nfunction getTouchById(\n  event: TouchEvent,\n  pointerId: null | number\n): null | Touch {\n  const changedTouches = event.changedTouches;\n  for (let i = 0; i < changedTouches.length; i++) {\n    const touch = changedTouches[i];\n    if (touch.identifier === pointerId) {\n      return touch;\n    }\n  }\n  return null;\n}\n\nfunction createEvent(target: FocusableElement, e: EventBase): EventBase {\n  return {\n    currentTarget: target,\n    shiftKey: e.shiftKey,\n    ctrlKey: e.ctrlKey,\n    metaKey: e.metaKey,\n    altKey: e.altKey\n  };\n}\n\ninterface Rect {\n  top: number,\n  right: number,\n  bottom: number,\n  left: number\n}\n\ninterface EventPoint {\n  clientX: number,\n  clientY: number,\n  width?: number,\n  height?: number,\n  radiusX?: number,\n  radiusY?: number\n}\n\nfunction getPointClientRect(point: EventPoint): Rect {\n  let offsetX = (point.width / 2) || point.radiusX || 0;\n  let offsetY = (point.height / 2) || point.radiusY || 0;\n\n  return {\n    top: point.clientY - offsetY,\n    right: point.clientX + offsetX,\n    bottom: point.clientY + offsetY,\n    left: point.clientX - offsetX\n  };\n}\n\nfunction areRectanglesOverlapping(a: Rect, b: Rect) {\n  // check if they cannot overlap on x axis\n  if (a.left > b.right || b.left > a.right) {\n    return false;\n  }\n  // check if they cannot overlap on y axis\n  if (a.top > b.bottom || b.top > a.bottom) {\n    return false;\n  }\n  return true;\n}\n\nfunction isOverTarget(point: EventPoint, target: Element) {\n  let rect = target.getBoundingClientRect();\n  let pointRect = getPointClientRect(point);\n  return areRectanglesOverlapping(rect, pointRect);\n}\n\nfunction shouldPreventDefault(target: Element) {\n  // We cannot prevent default if the target is a draggable element.\n  return !(target instanceof HTMLElement) || !target.draggable;\n}\n\nfunction shouldPreventDefaultKeyboard(target: Element, key: string) {\n  if (target instanceof HTMLInputElement) {\n    return !isValidInputKey(target, key);\n  }\n\n  if (target instanceof HTMLButtonElement) {\n    return target.type !== 'submit';\n  }\n\n  return true;\n}\n\nconst nonTextInputTypes = new Set([\n  'checkbox',\n  'radio',\n  'range',\n  'color',\n  'file',\n  'image',\n  'button',\n  'submit',\n  'reset'\n]);\n\nfunction isValidInputKey(target: HTMLInputElement, key: string) {\n  // Only space should toggle checkboxes and radios, not enter.\n  return target.type === 'checkbox' || target.type === 'radio'\n    ? key === ' '\n    : nonTextInputTypes.has(target.type);\n}\n\nfunction isVirtualPointerEvent(event: PointerEvent) {\n  // If the pointer size is zero, then we assume it's from a screen reader.\n  // Android TalkBack double tap will sometimes return a event with width and height of 1\n  // and pointerType === 'mouse' so we need to check for a specific combination of event attributes.\n  // Cannot use \"event.pressure === 0\" as the sole check due to Safari pointer events always returning pressure === 0\n  // instead of .5, see https://bugs.webkit.org/show_bug.cgi?id=206216. event.pointerType === 'mouse' is to distingush\n  // Talkback double tap from Windows Firefox touch screen press\n  return (\n    (event.width === 0 && event.height === 0) ||\n    (event.width === 1 &&\n      event.height === 1 &&\n      event.pressure === 0 &&\n      event.detail === 0 &&\n      event.pointerType === 'mouse'\n    )\n  );\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {isIOS, runAfterTransition} from '@react-aria/utils';\n\n// Safari on iOS starts selecting text on long press. The only way to avoid this, it seems,\n// is to add user-select: none to the entire page. Adding it to the pressable element prevents\n// that element from being selected, but nearby elements may still receive selection. We add\n// user-select: none on touch start, and remove it again on touch end to prevent this.\n// This must be implemented using global state to avoid race conditions between multiple elements.\n\n// There are three possible states due to the delay before removing user-select: none after\n// pointer up. The 'default' state always transitions to the 'disabled' state, which transitions\n// to 'restoring'. The 'restoring' state can either transition back to 'disabled' or 'default'.\n\n// For non-iOS devices, we apply user-select: none to the pressed element instead to avoid possible\n// performance issues that arise from applying and removing user-select: none to the entire page\n// (see https://github.com/adobe/react-spectrum/issues/1609).\ntype State = 'default' | 'disabled' | 'restoring';\n\n// Note that state only matters here for iOS. Non-iOS gets user-select: none applied to the target element\n// rather than at the document level so we just need to apply/remove user-select: none for each pressed element individually\nlet state: State = 'default';\nlet savedUserSelect = '';\nlet modifiedElementMap = new WeakMap<Element, string>();\n\nexport function disableTextSelection(target?: Element) {\n  if (isIOS()) {\n    if (state === 'default') {\n      savedUserSelect = document.documentElement.style.webkitUserSelect;\n      document.documentElement.style.webkitUserSelect = 'none';\n    }\n\n    state = 'disabled';\n  } else if (target instanceof HTMLElement || target instanceof SVGElement) {\n    // If not iOS, store the target's original user-select and change to user-select: none\n    // Ignore state since it doesn't apply for non iOS\n    modifiedElementMap.set(target, target.style.userSelect);\n    target.style.userSelect = 'none';\n  }\n}\n\nexport function restoreTextSelection(target?: Element) {\n  if (isIOS()) {\n    // If the state is already default, there's nothing to do.\n    // If it is restoring, then there's no need to queue a second restore.\n    if (state !== 'disabled') {\n      return;\n    }\n\n    state = 'restoring';\n\n    // There appears to be a delay on iOS where selection still might occur\n    // after pointer up, so wait a bit before removing user-select.\n    setTimeout(() => {\n      // Wait for any CSS transitions to complete so we don't recompute style\n      // for the whole page in the middle of the animation and cause jank.\n      runAfterTransition(() => {\n        // Avoid race conditions\n        if (state === 'restoring') {\n          if (document.documentElement.style.webkitUserSelect === 'none') {\n            document.documentElement.style.webkitUserSelect = savedUserSelect || '';\n          }\n\n          savedUserSelect = '';\n          state = 'default';\n        }\n      });\n    }, 300);\n  } else if (target instanceof HTMLElement || target instanceof SVGElement) {\n    // If not iOS, restore the target's original user-select if any\n    // Ignore state since it doesn't apply for non iOS\n    if (target && modifiedElementMap.has(target)) {\n      let targetOldUserSelect = modifiedElementMap.get(target);\n\n      if (target.style.userSelect === 'none') {\n        target.style.userSelect = targetOldUserSelect;\n      }\n\n      if (target.getAttribute('style') === '') {\n        target.removeAttribute('style');\n      }\n      modifiedElementMap.delete(target);\n    }\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusEvent as ReactFocusEvent, useCallback, useRef} from 'react';\nimport {useLayoutEffect} from '@react-aria/utils';\n\n// Original licensing for the following method can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/blob/3c713d513195a53788b3f8bb4b70279d68b15bcc/packages/react-interactions/events/src/dom/shared/index.js#L74-L87\n\n// Keyboards, Assistive Technologies, and element.click() all produce a \"virtual\"\n// click event. This is a method of inferring such clicks. Every browser except\n// IE 11 only sets a zero value of \"detail\" for click events that are \"virtual\".\n// However, IE 11 uses a zero value for all click events. For IE 11 we rely on\n// the quirk that it produces click events that are of type PointerEvent, and\n// where only the \"virtual\" click lacks a pointerType field.\n\nexport function isVirtualClick(event: MouseEvent | PointerEvent): boolean {\n  // JAWS/NVDA with Firefox.\n  if ((event as any).mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n\n  return event.detail === 0 && !(event as PointerEvent).pointerType;\n}\n\nexport class SyntheticFocusEvent implements ReactFocusEvent {\n  nativeEvent: FocusEvent;\n  target: Element;\n  currentTarget: Element;\n  relatedTarget: Element;\n  bubbles: boolean;\n  cancelable: boolean;\n  defaultPrevented: boolean;\n  eventPhase: number;\n  isTrusted: boolean;\n  timeStamp: number;\n  type: string;\n\n  constructor(type: string, nativeEvent: FocusEvent) {\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEvent.target as Element;\n    this.currentTarget = nativeEvent.currentTarget as Element;\n    this.relatedTarget = nativeEvent.relatedTarget as Element;\n    this.bubbles = nativeEvent.bubbles;\n    this.cancelable = nativeEvent.cancelable;\n    this.defaultPrevented = nativeEvent.defaultPrevented;\n    this.eventPhase = nativeEvent.eventPhase;\n    this.isTrusted = nativeEvent.isTrusted;\n    this.timeStamp = nativeEvent.timeStamp;\n    this.type = type;\n  }\n\n  isDefaultPrevented(): boolean {\n    return this.nativeEvent.defaultPrevented;\n  }\n\n  preventDefault(): void {\n    this.defaultPrevented = true;\n    this.nativeEvent.preventDefault();\n  }\n\n  stopPropagation(): void {\n    this.nativeEvent.stopPropagation();\n    this.isPropagationStopped = () => true;\n  }\n\n  isPropagationStopped(): boolean {\n    return false;\n  }\n\n  persist() {}\n}\n\nexport function useSyntheticBlurEvent(onBlur: (e: ReactFocusEvent) => void) {\n  let stateRef = useRef({\n    isFocused: false,\n    onBlur,\n    observer: null as MutationObserver\n  });\n  stateRef.current.onBlur = onBlur;\n\n  // Clean up MutationObserver on unmount. See below.\n  // eslint-disable-next-line arrow-body-style\n  useLayoutEffect(() => {\n    const state = stateRef.current;\n    return () => {\n      if (state.observer) {\n        state.observer.disconnect();\n        state.observer = null;\n      }\n    };\n  }, []);\n\n  // This function is called during a React onFocus event.\n  return useCallback((e: ReactFocusEvent) => {\n    // React does not fire onBlur when an element is disabled. https://github.com/facebook/react/issues/9142\n    // Most browsers fire a native focusout event in this case, except for Firefox. In that case, we use a\n    // MutationObserver to watch for the disabled attribute, and dispatch these events ourselves.\n    // For browsers that do, focusout fires before the MutationObserver, so onBlur should not fire twice.\n    if (\n      e.target instanceof HTMLButtonElement ||\n      e.target instanceof HTMLInputElement ||\n      e.target instanceof HTMLTextAreaElement ||\n      e.target instanceof HTMLSelectElement\n    ) {\n      stateRef.current.isFocused = true;\n\n      let target = e.target;\n      let onBlurHandler = (e: FocusEvent) => {\n        stateRef.current.isFocused = false;\n\n        if (target.disabled) {\n          // For backward compatibility, dispatch a (fake) React synthetic event.\n          stateRef.current.onBlur?.(new SyntheticFocusEvent('blur', e));\n        }\n\n        // We no longer need the MutationObserver once the target is blurred.\n        if (stateRef.current.observer) {\n          stateRef.current.observer.disconnect();\n          stateRef.current.observer = null;\n        }\n      };\n\n      target.addEventListener('focusout', onBlurHandler, {once: true});\n\n      stateRef.current.observer = new MutationObserver(() => {\n        if (stateRef.current.isFocused && target.disabled) {\n          stateRef.current.observer.disconnect();\n          target.dispatchEvent(new FocusEvent('blur'));\n          target.dispatchEvent(new FocusEvent('focusout', {bubbles: true}));\n        }\n      });\n\n      stateRef.current.observer.observe(target, {attributes: true, attributeFilter: ['disabled']});\n    }\n  }, []);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {PressProps} from './usePress';\nimport React, {MutableRefObject} from 'react';\n\ninterface IPressResponderContext extends PressProps {\n  register(): void,\n  ref?: MutableRefObject<FocusableElement>\n}\n\nexport const PressResponderContext = React.createContext<IPressResponderContext>(null);\nPressResponderContext.displayName = 'PressResponderContext';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {mergeProps, useSyncRef} from '@react-aria/utils';\nimport {PressProps} from './usePress';\nimport {PressResponderContext} from './context';\nimport React, {ReactNode, RefObject, useContext, useEffect, useRef} from 'react';\n\ninterface PressResponderProps extends PressProps {\n  children: ReactNode\n}\n\nexport const PressResponder = React.forwardRef(({children, ...props}: PressResponderProps, ref: RefObject<FocusableElement>) => {\n  let isRegistered = useRef(false);\n  let prevContext = useContext(PressResponderContext);\n  let context = mergeProps(prevContext || {}, {\n    ...props,\n    ref: ref || prevContext?.ref,\n    register() {\n      isRegistered.current = true;\n      if (prevContext) {\n        prevContext.register();\n      }\n    }\n  });\n\n  useSyncRef(prevContext, ref);\n\n  useEffect(() => {\n    if (!isRegistered.current) {\n      console.warn(\n        'A PressResponder was rendered without a pressable child. ' +\n        'Either call the usePress hook, or wrap your DOM node with <Pressable> component.'\n      );\n    }\n  }, []);\n\n  return (\n    <PressResponderContext.Provider value={context}>\n      {children}\n    </PressResponderContext.Provider>\n  );\n});\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {DOMAttributes, FocusEvents} from '@react-types/shared';\nimport {FocusEvent, useCallback} from 'react';\nimport {useSyntheticBlurEvent} from './utils';\n\nexport interface FocusProps extends FocusEvents {\n  /** Whether the focus events should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface FocusResult {\n  /** Props to spread onto the target element. */\n  focusProps: DOMAttributes\n}\n\n/**\n * Handles focus events for the immediate target.\n * Focus events on child elements will be ignored.\n */\nexport function useFocus(props: FocusProps): FocusResult {\n  let {\n    isDisabled,\n    onFocus: onFocusProp,\n    onBlur: onBlurProp,\n    onFocusChange\n  } = props;\n\n  const onBlur: FocusProps['onBlur'] = useCallback((e: FocusEvent) => {\n    if (e.target === e.currentTarget) {\n      if (onBlurProp) {\n        onBlurProp(e);\n      }\n\n      if (onFocusChange) {\n        onFocusChange(false);\n      }\n\n      return true;\n    }\n  }, [onBlurProp, onFocusChange]);\n\n\n  const onSyntheticFocus = useSyntheticBlurEvent(onBlur);\n\n  const onFocus: FocusProps['onFocus'] = useCallback((e: FocusEvent) => {\n    if (e.target === e.currentTarget) {\n      if (onFocusProp) {\n        onFocusProp(e);\n      }\n\n      if (onFocusChange) {\n        onFocusChange(true);\n      }\n\n      onSyntheticFocus(e);\n    }\n  }, [onFocusChange, onFocusProp, onSyntheticFocus]);\n\n  return {\n    focusProps: {\n      onFocus: (!isDisabled && (onFocusProp || onFocusChange || onBlurProp)) ? onFocus : undefined,\n      onBlur: (!isDisabled && (onBlurProp || onFocusChange)) ? onBlur : null\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {isMac} from '@react-aria/utils';\nimport {isVirtualClick} from './utils';\nimport {useEffect, useState} from 'react';\n\nexport type Modality = 'keyboard' | 'pointer' | 'virtual';\ntype HandlerEvent = PointerEvent | MouseEvent | KeyboardEvent | FocusEvent;\ntype Handler = (modality: Modality, e: HandlerEvent) => void;\nexport type FocusVisibleHandler = (isFocusVisible: boolean) => void;\ninterface FocusVisibleProps {\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\nexport interface FocusVisibleResult {\n  /** Whether keyboard focus is visible globally. */\n  isFocusVisible: boolean\n}\n\nlet currentModality = null;\nlet changeHandlers = new Set<Handler>();\nlet hasSetupGlobalListeners = false;\nlet hasEventBeforeFocus = false;\nlet hasBlurredWindowRecently = false;\n\n// Only Tab or Esc keys will make focus visible on text input elements\nconst FOCUS_VISIBLE_INPUT_KEYS = {\n  Tab: true,\n  Escape: true\n};\n\nfunction triggerChangeHandlers(modality: Modality, e: HandlerEvent) {\n  for (let handler of changeHandlers) {\n    handler(modality, e);\n  }\n}\n\n/**\n * Helper function to determine if a KeyboardEvent is unmodified and could make keyboard focus styles visible.\n */\nfunction isValidKey(e: KeyboardEvent) {\n  // Control and Shift keys trigger when navigating back to the tab with keyboard.\n  return !(e.metaKey || (!isMac() && e.altKey) || e.ctrlKey || e.key === 'Control' || e.key === 'Shift' || e.key === 'Meta');\n}\n\n\nfunction handleKeyboardEvent(e: KeyboardEvent) {\n  hasEventBeforeFocus = true;\n  if (isValidKey(e)) {\n    currentModality = 'keyboard';\n    triggerChangeHandlers('keyboard', e);\n  }\n}\n\nfunction handlePointerEvent(e: PointerEvent | MouseEvent) {\n  currentModality = 'pointer';\n  if (e.type === 'mousedown' || e.type === 'pointerdown') {\n    hasEventBeforeFocus = true;\n    triggerChangeHandlers('pointer', e);\n  }\n}\n\nfunction handleClickEvent(e: MouseEvent) {\n  if (isVirtualClick(e)) {\n    hasEventBeforeFocus = true;\n    currentModality = 'virtual';\n  }\n}\n\nfunction handleFocusEvent(e: FocusEvent) {\n  // Firefox fires two extra focus events when the user first clicks into an iframe:\n  // first on the window, then on the document. We ignore these events so they don't\n  // cause keyboard focus rings to appear.\n  if (e.target === window || e.target === document) {\n    return;\n  }\n\n  // If a focus event occurs without a preceding keyboard or pointer event, switch to virtual modality.\n  // This occurs, for example, when navigating a form with the next/previous buttons on iOS.\n  if (!hasEventBeforeFocus && !hasBlurredWindowRecently) {\n    currentModality = 'virtual';\n    triggerChangeHandlers('virtual', e);\n  }\n\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = false;\n}\n\nfunction handleWindowBlur() {\n  // When the window is blurred, reset state. This is necessary when tabbing out of the window,\n  // for example, since a subsequent focus event won't be fired.\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = true;\n}\n\n/**\n * Setup global event listeners to control when keyboard focus style should be visible.\n */\nfunction setupGlobalFocusEvents() {\n  if (typeof window === 'undefined' || hasSetupGlobalListeners) {\n    return;\n  }\n\n  // Programmatic focus() calls shouldn't affect the current input modality.\n  // However, we need to detect other cases when a focus event occurs without\n  // a preceding user event (e.g. screen reader focus). Overriding the focus\n  // method on HTMLElement.prototype is a bit hacky, but works.\n  let focus = HTMLElement.prototype.focus;\n  HTMLElement.prototype.focus = function () {\n    hasEventBeforeFocus = true;\n    focus.apply(this, arguments);\n  };\n\n  document.addEventListener('keydown', handleKeyboardEvent, true);\n  document.addEventListener('keyup', handleKeyboardEvent, true);\n  document.addEventListener('click', handleClickEvent, true);\n\n  // Register focus events on the window so they are sure to happen\n  // before React's event listeners (registered on the document).\n  window.addEventListener('focus', handleFocusEvent, true);\n  window.addEventListener('blur', handleWindowBlur, false);\n\n  if (typeof PointerEvent !== 'undefined') {\n    document.addEventListener('pointerdown', handlePointerEvent, true);\n    document.addEventListener('pointermove', handlePointerEvent, true);\n    document.addEventListener('pointerup', handlePointerEvent, true);\n  } else {\n    document.addEventListener('mousedown', handlePointerEvent, true);\n    document.addEventListener('mousemove', handlePointerEvent, true);\n    document.addEventListener('mouseup', handlePointerEvent, true);\n  }\n\n  hasSetupGlobalListeners = true;\n}\n\nif (typeof document !== 'undefined') {\n  if (document.readyState !== 'loading') {\n    setupGlobalFocusEvents();\n  } else {\n    document.addEventListener('DOMContentLoaded', setupGlobalFocusEvents);\n  }\n}\n\n/**\n * If true, keyboard focus is visible.\n */\nexport function isFocusVisible(): boolean {\n  return currentModality !== 'pointer';\n}\n\nexport function getInteractionModality(): Modality {\n  return currentModality;\n}\n\nexport function setInteractionModality(modality: Modality) {\n  currentModality = modality;\n  triggerChangeHandlers(modality, null);\n}\n\n/**\n * Keeps state of the current modality.\n */\nexport function useInteractionModality(): Modality {\n  setupGlobalFocusEvents();\n\n  let [modality, setModality] = useState(currentModality);\n  useEffect(() => {\n    let handler = () => {\n      setModality(currentModality);\n    };\n\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  }, []);\n\n  return modality;\n}\n\n/**\n * If this is attached to text input component, return if the event is a focus event (Tab/Escape keys pressed) so that\n * focus visible style can be properly set.\n */\nfunction isKeyboardFocusEvent(isTextInput: boolean, modality: Modality, e: HandlerEvent) {\n  return !(isTextInput && modality === 'keyboard' && e instanceof KeyboardEvent && !FOCUS_VISIBLE_INPUT_KEYS[e.key]);\n}\n\n/**\n * Manages focus visible state for the page, and subscribes individual components for updates.\n */\nexport function useFocusVisible(props: FocusVisibleProps = {}): FocusVisibleResult {\n  let {isTextInput, autoFocus} = props;\n  let [isFocusVisibleState, setFocusVisible] = useState(autoFocus || isFocusVisible());\n  useFocusVisibleListener((isFocusVisible) => {\n    setFocusVisible(isFocusVisible);\n  }, [isTextInput], {isTextInput});\n\n  return {isFocusVisible: isFocusVisibleState};\n}\n\n/**\n * Listens for trigger change and reports if focus is visible (i.e., modality is not pointer).\n */\nexport function useFocusVisibleListener(fn: FocusVisibleHandler, deps: ReadonlyArray<any>, opts?: {isTextInput?: boolean}): void {\n  setupGlobalFocusEvents();\n\n  useEffect(() => {\n    let handler = (modality: Modality, e: HandlerEvent) => {\n      if (!isKeyboardFocusEvent(opts?.isTextInput, modality, e)) {\n        return;\n      }\n      fn(isFocusVisible());\n    };\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  }, deps);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {DOMAttributes} from '@react-types/shared';\nimport {FocusEvent, useCallback, useRef} from 'react';\nimport {useSyntheticBlurEvent} from './utils';\n\nexport interface FocusWithinProps {\n  /** Whether the focus within events should be disabled. */\n  isDisabled?: boolean,\n  /** Handler that is called when the target element or a descendant receives focus. */\n  onFocusWithin?: (e: FocusEvent) => void,\n  /** Handler that is called when the target element and all descendants lose focus. */\n  onBlurWithin?: (e: FocusEvent) => void,\n  /** Handler that is called when the the focus within state changes. */\n  onFocusWithinChange?: (isFocusWithin: boolean) => void\n}\n\nexport interface FocusWithinResult {\n  /** Props to spread onto the target element. */\n  focusWithinProps: DOMAttributes\n}\n\n/**\n * Handles focus events for the target and its descendants.\n */\nexport function useFocusWithin(props: FocusWithinProps): FocusWithinResult {\n  let {\n    isDisabled,\n    onBlurWithin,\n    onFocusWithin,\n    onFocusWithinChange\n  } = props;\n  let state = useRef({\n    isFocusWithin: false\n  });\n\n  let onBlur = useCallback((e: FocusEvent) => {\n    // We don't want to trigger onBlurWithin and then immediately onFocusWithin again\n    // when moving focus inside the element. Only trigger if the currentTarget doesn't\n    // include the relatedTarget (where focus is moving).\n    if (state.current.isFocusWithin && !(e.currentTarget as Element).contains(e.relatedTarget as Element)) {\n      state.current.isFocusWithin = false;\n\n      if (onBlurWithin) {\n        onBlurWithin(e);\n      }\n\n      if (onFocusWithinChange) {\n        onFocusWithinChange(false);\n      }\n    }\n  }, [onBlurWithin, onFocusWithinChange, state]);\n\n  let onSyntheticFocus = useSyntheticBlurEvent(onBlur);\n  let onFocus = useCallback((e: FocusEvent) => {\n    if (!state.current.isFocusWithin) {\n      if (onFocusWithin) {\n        onFocusWithin(e);\n      }\n\n      if (onFocusWithinChange) {\n        onFocusWithinChange(true);\n      }\n\n      state.current.isFocusWithin = true;\n      onSyntheticFocus(e);\n    }\n  }, [onFocusWithin, onFocusWithinChange, onSyntheticFocus]);\n\n  if (isDisabled) {\n    return {\n      focusWithinProps: {\n        onFocus: null,\n        onBlur: null\n      }\n    };\n  }\n\n  return {\n    focusWithinProps: {\n      onFocus,\n      onBlur\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {DOMAttributes} from '@react-types/shared';\nimport {HoverEvents} from '@react-types/shared';\nimport {useEffect, useMemo, useRef, useState} from 'react';\n\nexport interface HoverProps extends HoverEvents {\n  /** Whether the hover events should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface HoverResult {\n  /** Props to spread on the target element. */\n  hoverProps: DOMAttributes,\n  isHovered: boolean\n}\n\n// iOS fires onPointerEnter twice: once with pointerType=\"touch\" and again with pointerType=\"mouse\".\n// We want to ignore these emulated events so they do not trigger hover behavior.\n// See https://bugs.webkit.org/show_bug.cgi?id=214609.\nlet globalIgnoreEmulatedMouseEvents = false;\nlet hoverCount = 0;\n\nfunction setGlobalIgnoreEmulatedMouseEvents() {\n  globalIgnoreEmulatedMouseEvents = true;\n\n  // Clear globalIgnoreEmulatedMouseEvents after a short timeout. iOS fires onPointerEnter\n  // with pointerType=\"mouse\" immediately after onPointerUp and before onFocus. On other\n  // devices that don't have this quirk, we don't want to ignore a mouse hover sometime in\n  // the distant future because a user previously touched the element.\n  setTimeout(() => {\n    globalIgnoreEmulatedMouseEvents = false;\n  }, 50);\n}\n\nfunction handleGlobalPointerEvent(e) {\n  if (e.pointerType === 'touch') {\n    setGlobalIgnoreEmulatedMouseEvents();\n  }\n}\n\nfunction setupGlobalTouchEvents() {\n  if (typeof document === 'undefined') {\n    return;\n  }\n\n  if (typeof PointerEvent !== 'undefined') {\n    document.addEventListener('pointerup', handleGlobalPointerEvent);\n  } else {\n    document.addEventListener('touchend', setGlobalIgnoreEmulatedMouseEvents);\n  }\n\n  hoverCount++;\n  return () => {\n    hoverCount--;\n    if (hoverCount > 0) {\n      return;\n    }\n\n    if (typeof PointerEvent !== 'undefined') {\n      document.removeEventListener('pointerup', handleGlobalPointerEvent);\n    } else {\n      document.removeEventListener('touchend', setGlobalIgnoreEmulatedMouseEvents);\n    }\n  };\n}\n\n/**\n * Handles pointer hover interactions for an element. Normalizes behavior\n * across browsers and platforms, and ignores emulated mouse events on touch devices.\n */\nexport function useHover(props: HoverProps): HoverResult {\n  let {\n    onHoverStart,\n    onHoverChange,\n    onHoverEnd,\n    isDisabled\n  } = props;\n\n  let [isHovered, setHovered] = useState(false);\n  let state = useRef({\n    isHovered: false,\n    ignoreEmulatedMouseEvents: false,\n    pointerType: '',\n    target: null\n  }).current;\n\n  useEffect(setupGlobalTouchEvents, []);\n\n  let {hoverProps, triggerHoverEnd} = useMemo(() => {\n    let triggerHoverStart = (event, pointerType) => {\n      state.pointerType = pointerType;\n      if (isDisabled || pointerType === 'touch' || state.isHovered || !event.currentTarget.contains(event.target)) {\n        return;\n      }\n\n      state.isHovered = true;\n      let target = event.currentTarget;\n      state.target = target;\n\n      if (onHoverStart) {\n        onHoverStart({\n          type: 'hoverstart',\n          target,\n          pointerType\n        });\n      }\n\n      if (onHoverChange) {\n        onHoverChange(true);\n      }\n\n      setHovered(true);\n    };\n\n    let triggerHoverEnd = (event, pointerType) => {\n      state.pointerType = '';\n      state.target = null;\n\n      if (pointerType === 'touch' || !state.isHovered) {\n        return;\n      }\n\n      state.isHovered = false;\n      let target = event.currentTarget;\n      if (onHoverEnd) {\n        onHoverEnd({\n          type: 'hoverend',\n          target,\n          pointerType\n        });\n      }\n\n      if (onHoverChange) {\n        onHoverChange(false);\n      }\n\n      setHovered(false);\n    };\n\n    let hoverProps: DOMAttributes = {};\n\n    if (typeof PointerEvent !== 'undefined') {\n      hoverProps.onPointerEnter = (e) => {\n        if (globalIgnoreEmulatedMouseEvents && e.pointerType === 'mouse') {\n          return;\n        }\n\n        triggerHoverStart(e, e.pointerType);\n      };\n\n      hoverProps.onPointerLeave = (e) => {\n        if (!isDisabled && e.currentTarget.contains(e.target as Element)) {\n          triggerHoverEnd(e, e.pointerType);\n        }\n      };\n    } else {\n      hoverProps.onTouchStart = () => {\n        state.ignoreEmulatedMouseEvents = true;\n      };\n\n      hoverProps.onMouseEnter = (e) => {\n        if (!state.ignoreEmulatedMouseEvents && !globalIgnoreEmulatedMouseEvents) {\n          triggerHoverStart(e, 'mouse');\n        }\n\n        state.ignoreEmulatedMouseEvents = false;\n      };\n\n      hoverProps.onMouseLeave = (e) => {\n        if (!isDisabled && e.currentTarget.contains(e.target as Element)) {\n          triggerHoverEnd(e, 'mouse');\n        }\n      };\n    }\n    return {hoverProps, triggerHoverEnd};\n  }, [onHoverStart, onHoverChange, onHoverEnd, isDisabled, state]);\n\n  useEffect(() => {\n    // Call the triggerHoverEnd as soon as isDisabled changes to true\n    // Safe to call triggerHoverEnd, it will early return if we aren't currently hovering\n    if (isDisabled) {\n      triggerHoverEnd({currentTarget: state.target}, state.pointerType);\n    }\n  }, [isDisabled]);\n\n  return {\n    hoverProps,\n    isHovered\n  };\n}\n\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {RefObject, SyntheticEvent, useEffect, useRef} from 'react';\n\nexport interface InteractOutsideProps {\n  ref: RefObject<Element>,\n  onInteractOutside?: (e: SyntheticEvent) => void,\n  onInteractOutsideStart?: (e: SyntheticEvent) => void,\n  /** Whether the interact outside events should be disabled. */\n  isDisabled?: boolean\n}\n\n/**\n * Example, used in components like Dialogs and Popovers so they can close\n * when a user clicks outside them.\n */\nexport function useInteractOutside(props: InteractOutsideProps) {\n  let {ref, onInteractOutside, isDisabled, onInteractOutsideStart} = props;\n  let stateRef = useRef({\n    isPointerDown: false,\n    ignoreEmulatedMouseEvents: false,\n    onInteractOutside,\n    onInteractOutsideStart\n  });\n  let state = stateRef.current;\n  state.onInteractOutside = onInteractOutside;\n  state.onInteractOutsideStart = onInteractOutsideStart;\n\n  useEffect(() => {\n    if (isDisabled) {\n      return;\n    }\n\n    let onPointerDown = (e) => {\n      if (isValidEvent(e, ref) && state.onInteractOutside) {\n        if (state.onInteractOutsideStart) {\n          state.onInteractOutsideStart(e);\n        }\n        state.isPointerDown = true;\n      }\n    };\n\n    // Use pointer events if available. Otherwise, fall back to mouse and touch events.\n    if (typeof PointerEvent !== 'undefined') {\n      let onPointerUp = (e) => {\n        if (state.isPointerDown && state.onInteractOutside && isValidEvent(e, ref)) {\n          state.isPointerDown = false;\n          state.onInteractOutside(e);\n        }\n      };\n\n      // changing these to capture phase fixed combobox\n      document.addEventListener('pointerdown', onPointerDown, true);\n      document.addEventListener('pointerup', onPointerUp, true);\n\n      return () => {\n        document.removeEventListener('pointerdown', onPointerDown, true);\n        document.removeEventListener('pointerup', onPointerUp, true);\n      };\n    } else {\n      let onMouseUp = (e) => {\n        if (state.ignoreEmulatedMouseEvents) {\n          state.ignoreEmulatedMouseEvents = false;\n        } else if (state.isPointerDown && state.onInteractOutside && isValidEvent(e, ref)) {\n          state.isPointerDown = false;\n          state.onInteractOutside(e);\n        }\n      };\n\n      let onTouchEnd = (e) => {\n        state.ignoreEmulatedMouseEvents = true;\n        if (state.onInteractOutside && state.isPointerDown && isValidEvent(e, ref)) {\n          state.isPointerDown = false;\n          state.onInteractOutside(e);\n        }\n      };\n\n      document.addEventListener('mousedown', onPointerDown, true);\n      document.addEventListener('mouseup', onMouseUp, true);\n      document.addEventListener('touchstart', onPointerDown, true);\n      document.addEventListener('touchend', onTouchEnd, true);\n\n      return () => {\n        document.removeEventListener('mousedown', onPointerDown, true);\n        document.removeEventListener('mouseup', onMouseUp, true);\n        document.removeEventListener('touchstart', onPointerDown, true);\n        document.removeEventListener('touchend', onTouchEnd, true);\n      };\n    }\n  }, [ref, state, isDisabled]);\n}\n\nfunction isValidEvent(event, ref) {\n  if (event.button > 0) {\n    return false;\n  }\n\n  // if the event target is no longer in the document\n  if (event.target) {\n    const ownerDocument = event.target.ownerDocument;\n    if (!ownerDocument || !ownerDocument.documentElement.contains(event.target)) {\n      return false;\n    }\n  }\n\n  return ref.current && !ref.current.contains(event.target);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {createEventHandler} from './createEventHandler';\nimport {DOMAttributes, KeyboardEvents} from '@react-types/shared';\n\nexport interface KeyboardProps extends KeyboardEvents {\n  /** Whether the keyboard events should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface KeyboardResult {\n  /** Props to spread onto the target element. */\n  keyboardProps: DOMAttributes\n}\n\n/**\n * Handles keyboard interactions for a focusable element.\n */\nexport function useKeyboard(props: KeyboardProps): KeyboardResult {\n  return {\n    keyboardProps: props.isDisabled ? {} : {\n      onKeyDown: createEventHandler(props.onKeyDown),\n      onKeyUp: createEventHandler(props.onKeyUp)\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {BaseEvent} from '@react-types/shared';\nimport {SyntheticEvent} from 'react';\n\n/**\n * This function wraps a React event handler to make stopPropagation the default, and support continuePropagation instead.\n */\nexport function createEventHandler<T extends SyntheticEvent>(handler: (e: BaseEvent<T>) => void): (e: T) => void {\n  if (!handler) {\n    return;\n  }\n\n  let shouldStopPropagation = true;\n  return (e: T) => {\n    let event: BaseEvent<T> = {\n      ...e,\n      preventDefault() {\n        e.preventDefault();\n      },\n      isDefaultPrevented() {\n        return e.isDefaultPrevented();\n      },\n      stopPropagation() {\n        console.error('stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.');\n      },\n      continuePropagation() {\n        shouldStopPropagation = false;\n      }\n    };\n\n    handler(event);\n\n    if (shouldStopPropagation) {\n      e.stopPropagation();\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {disableTextSelection, restoreTextSelection}  from './textSelection';\nimport {DOMAttributes, MoveEvents, PointerType} from '@react-types/shared';\nimport React, {useMemo, useRef} from 'react';\nimport {useGlobalListeners} from '@react-aria/utils';\n\nexport interface MoveResult {\n  /** Props to spread on the target element. */\n  moveProps: DOMAttributes\n}\n\ninterface EventBase {\n  shiftKey: boolean,\n  ctrlKey: boolean,\n  metaKey: boolean,\n  altKey: boolean\n}\n\n/**\n * Handles move interactions across mouse, touch, and keyboard, including dragging with\n * the mouse or touch, and using the arrow keys. Normalizes behavior across browsers and\n * platforms, and ignores emulated mouse events on touch devices.\n */\nexport function useMove(props: MoveEvents): MoveResult {\n  let {onMoveStart, onMove, onMoveEnd} = props;\n\n  let state = useRef<{\n    didMove: boolean,\n    lastPosition: {pageX: number, pageY: number} | null,\n    id: number | null\n  }>({didMove: false, lastPosition: null, id: null});\n\n  let {addGlobalListener, removeGlobalListener} = useGlobalListeners();\n\n  let moveProps = useMemo(() => {\n    let moveProps: DOMAttributes = {};\n\n    let start = () => {\n      disableTextSelection();\n      state.current.didMove = false;\n    };\n    let move = (originalEvent: EventBase, pointerType: PointerType, deltaX: number, deltaY: number) => {\n      if (deltaX === 0 && deltaY === 0) {\n        return;\n      }\n\n      if (!state.current.didMove) {\n        state.current.didMove = true;\n        onMoveStart?.({\n          type: 'movestart',\n          pointerType,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n      onMove({\n        type: 'move',\n        pointerType,\n        deltaX: deltaX,\n        deltaY: deltaY,\n        shiftKey: originalEvent.shiftKey,\n        metaKey: originalEvent.metaKey,\n        ctrlKey: originalEvent.ctrlKey,\n        altKey: originalEvent.altKey\n      });\n    };\n    let end = (originalEvent: EventBase, pointerType: PointerType) => {\n      restoreTextSelection();\n      if (state.current.didMove) {\n        onMoveEnd?.({\n          type: 'moveend',\n          pointerType,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n    };\n\n    if (typeof PointerEvent === 'undefined') {\n      let onMouseMove = (e: MouseEvent) => {\n        if (e.button === 0) {\n          move(e, 'mouse', e.pageX - state.current.lastPosition.pageX, e.pageY - state.current.lastPosition.pageY);\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n        }\n      };\n      let onMouseUp = (e: MouseEvent) => {\n        if (e.button === 0) {\n          end(e, 'mouse');\n          removeGlobalListener(window, 'mousemove', onMouseMove, false);\n          removeGlobalListener(window, 'mouseup', onMouseUp, false);\n        }\n      };\n      moveProps.onMouseDown = (e: React.MouseEvent) => {\n        if (e.button === 0) {\n          start();\n          e.stopPropagation();\n          e.preventDefault();\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n          addGlobalListener(window, 'mousemove', onMouseMove, false);\n          addGlobalListener(window, 'mouseup', onMouseUp, false);\n        }\n      };\n\n      let onTouchMove = (e: TouchEvent) => {\n        let touch = [...e.changedTouches].findIndex(({identifier}) => identifier === state.current.id);\n        if (touch >= 0) {\n          let {pageX, pageY} = e.changedTouches[touch];\n          move(e, 'touch', pageX - state.current.lastPosition.pageX, pageY - state.current.lastPosition.pageY);\n          state.current.lastPosition = {pageX, pageY};\n        }\n      };\n      let onTouchEnd = (e: TouchEvent) => {\n        let touch = [...e.changedTouches].findIndex(({identifier}) => identifier === state.current.id);\n        if (touch >= 0) {\n          end(e, 'touch');\n          state.current.id = null;\n          removeGlobalListener(window, 'touchmove', onTouchMove);\n          removeGlobalListener(window, 'touchend', onTouchEnd);\n          removeGlobalListener(window, 'touchcancel', onTouchEnd);\n        }\n      };\n      moveProps.onTouchStart = (e: React.TouchEvent) => {\n        if (e.changedTouches.length === 0 || state.current.id != null) {\n          return;\n        }\n\n        let {pageX, pageY, identifier} = e.changedTouches[0];\n        start();\n        e.stopPropagation();\n        e.preventDefault();\n        state.current.lastPosition = {pageX, pageY};\n        state.current.id = identifier;\n        addGlobalListener(window, 'touchmove', onTouchMove, false);\n        addGlobalListener(window, 'touchend', onTouchEnd, false);\n        addGlobalListener(window, 'touchcancel', onTouchEnd, false);\n      };\n    } else {\n      let onPointerMove = (e: PointerEvent) => {\n        if (e.pointerId === state.current.id) {\n          let pointerType = (e.pointerType || 'mouse') as PointerType;\n\n          // Problems with PointerEvent#movementX/movementY:\n          // 1. it is always 0 on macOS Safari.\n          // 2. On Chrome Android, it's scaled by devicePixelRatio, but not on Chrome macOS\n          move(e, pointerType, e.pageX - state.current.lastPosition.pageX, e.pageY - state.current.lastPosition.pageY);\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n        }\n      };\n\n      let onPointerUp = (e: PointerEvent) => {\n        if (e.pointerId === state.current.id) {\n          let pointerType = (e.pointerType || 'mouse') as PointerType;\n          end(e, pointerType);\n          state.current.id = null;\n          removeGlobalListener(window, 'pointermove', onPointerMove, false);\n          removeGlobalListener(window, 'pointerup', onPointerUp, false);\n          removeGlobalListener(window, 'pointercancel', onPointerUp, false);\n        }\n      };\n\n      moveProps.onPointerDown = (e: React.PointerEvent) => {\n        if (e.button === 0 && state.current.id == null) {\n          start();\n          e.stopPropagation();\n          e.preventDefault();\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n          state.current.id = e.pointerId;\n          addGlobalListener(window, 'pointermove', onPointerMove, false);\n          addGlobalListener(window, 'pointerup', onPointerUp, false);\n          addGlobalListener(window, 'pointercancel', onPointerUp, false);\n        }\n      };\n    }\n\n    let triggerKeyboardMove = (e: EventBase, deltaX: number, deltaY: number) => {\n      start();\n      move(e, 'keyboard', deltaX, deltaY);\n      end(e, 'keyboard');\n    };\n\n    moveProps.onKeyDown = (e) => {\n      switch (e.key) {\n        case 'Left':\n        case 'ArrowLeft':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, -1, 0);\n          break;\n        case 'Right':\n        case 'ArrowRight':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 1, 0);\n          break;\n        case 'Up':\n        case 'ArrowUp':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 0, -1);\n          break;\n        case 'Down':\n        case 'ArrowDown':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 0, 1);\n          break;\n      }\n    };\n\n    return moveProps;\n  }, [state, onMoveStart, onMove, onMoveEnd, addGlobalListener, removeGlobalListener]);\n\n  return {moveProps};\n}\n", "/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {RefObject, useCallback} from 'react';\nimport {ScrollEvents} from '@react-types/shared';\nimport {useEvent} from '@react-aria/utils';\n\nexport interface ScrollWheelProps extends ScrollEvents {\n  /** Whether the scroll listener should be disabled. */\n  isDisabled?: boolean\n}\n\n// scroll wheel needs to be added not passively so it's cancelable, small helper hook to remember that\nexport function useScrollWheel(props: ScrollWheelProps, ref: RefObject<HTMLElement>): void {\n  let {onScroll, isDisabled} = props;\n  let onScrollHandler = useCallback((e) => {\n    // If the ctrlKey is pressed, this is a zoom event, do nothing.\n    if (e.ctrlKey) {\n      return;\n    }\n\n    // stop scrolling the page\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (onScroll) {\n      onScroll({deltaX: e.deltaX, deltaY: e.deltaY});\n    }\n  }, [onScroll]);\n\n  useEvent(ref, 'wheel', isDisabled ? null : onScrollHandler);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DOMAttributes, LongPressEvent} from '@react-types/shared';\nimport {mergeProps, useDescription, useGlobalListeners} from '@react-aria/utils';\nimport {usePress} from './usePress';\nimport {useRef} from 'react';\n\nexport interface LongPressProps {\n  /** Whether long press events should be disabled. */\n  isDisabled?: boolean,\n  /** Handler that is called when a long press interaction starts. */\n  onLongPressStart?: (e: LongPressEvent) => void,\n  /**\n   * Handler that is called when a long press interaction ends, either\n   * over the target or when the pointer leaves the target.\n   */\n  onLongPressEnd?: (e: LongPressEvent) => void,\n  /**\n   * Handler that is called when the threshold time is met while\n   * the press is over the target.\n   */\n  onLongPress?: (e: LongPressEvent) => void,\n  /**\n   * The amount of time in milliseconds to wait before triggering a long press.\n   * @default 500ms\n   */\n  threshold?: number,\n  /**\n   * A description for assistive techology users indicating that a long press\n   * action is available, e.g. \"Long press to open menu\".\n   */\n  accessibilityDescription?: string\n}\n\nexport interface LongPressResult {\n  /** Props to spread on the target element. */\n  longPressProps: DOMAttributes\n}\n\nconst DEFAULT_THRESHOLD = 500;\n\n/**\n * Handles long press interactions across mouse and touch devices. Supports a customizable time threshold,\n * accessibility description, and normalizes behavior across browsers and devices.\n */\nexport function useLongPress(props: LongPressProps): LongPressResult {\n  let {\n    isDisabled,\n    onLongPressStart,\n    onLongPressEnd,\n    onLongPress,\n    threshold = DEFAULT_THRESHOLD,\n    accessibilityDescription\n  } = props;\n\n  const timeRef = useRef(null);\n  let {addGlobalListener, removeGlobalListener} = useGlobalListeners();\n\n  let {pressProps} = usePress({\n    isDisabled,\n    onPressStart(e) {\n      if (e.pointerType === 'mouse' || e.pointerType === 'touch') {\n        if (onLongPressStart) {\n          onLongPressStart({\n            ...e,\n            type: 'longpressstart'\n          });\n        }\n\n        timeRef.current = setTimeout(() => {\n          // Prevent other usePress handlers from also handling this event.\n          e.target.dispatchEvent(new PointerEvent('pointercancel', {bubbles: true}));\n          if (onLongPress) {\n            onLongPress({\n              ...e,\n              type: 'longpress'\n            });\n          }\n          timeRef.current = null;\n        }, threshold);\n\n        // Prevent context menu, which may be opened on long press on touch devices\n        if (e.pointerType === 'touch') {\n          let onContextMenu = e => {\n            e.preventDefault();\n          };\n\n          addGlobalListener(e.target, 'contextmenu', onContextMenu, {once: true});\n          addGlobalListener(window, 'pointerup', () => {\n            // If no contextmenu event is fired quickly after pointerup, remove the handler\n            // so future context menu events outside a long press are not prevented.\n            setTimeout(() => {\n              removeGlobalListener(e.target, 'contextmenu', onContextMenu);\n            }, 30);\n          }, {once: true});\n        }\n      }\n    },\n    onPressEnd(e) {\n      if (timeRef.current) {\n        clearTimeout(timeRef.current);\n      }\n\n      if (onLongPressEnd && (e.pointerType === 'mouse' || e.pointerType === 'touch')) {\n        onLongPressEnd({\n          ...e,\n          type: 'longpressend'\n        });\n      }\n    }\n  });\n\n  let descriptionProps = useDescription(onLongPress && !isDisabled ? accessibilityDescription : null);\n\n  return {\n    longPressProps: mergeProps(pressProps, descriptionProps)\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport type {AriaFieldProps, FieldAria} from './useField';\nexport type {LabelAriaProps, LabelAria} from './useLabel';\n\nexport {useField} from './useField';\nexport {useLabel} from './useLabel';\n", "/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DOMAttributes, HelpTextProps, Validation} from '@react-types/shared';\nimport {LabelAria, LabelAriaProps, useLabel} from './useLabel';\nimport {mergeProps, useSlotId} from '@react-aria/utils';\n\nexport interface AriaFieldProps extends LabelAriaProps, HelpTextProps, Omit<Validation, 'isRequired'> {}\n\nexport interface FieldAria extends LabelAria {\n  /** Props for the description element, if any. */\n  descriptionProps: DOMAttributes,\n  /** Props for the error message element, if any. */\n  errorMessageProps: DOMAttributes\n}\n\n/**\n * Provides the accessibility implementation for input fields.\n * Fields accept user input, gain context from their label, and may display a description or error message.\n * @param props - Props for the Field.\n */\nexport function useField(props: AriaFieldProps): FieldAria {\n  let {description, errorMessage, validationState} = props;\n  let {labelProps, fieldProps} = useLabel(props);\n\n  let descriptionId = useSlotId([Boolean(description), Boolean(errorMessage), validationState]);\n  let errorMessageId = useSlotId([Boolean(description), Boolean(errorMessage), validationState]);\n\n  fieldProps = mergeProps(fieldProps, {\n    'aria-describedby': [\n      descriptionId,\n      // Use aria-describedby for error message because aria-errormessage is unsupported using VoiceOver or NVDA. See https://github.com/adobe/react-spectrum/issues/1346#issuecomment-740136268\n      errorMessageId,\n      props['aria-describedby']\n    ].filter(Boolean).join(' ') || undefined\n  });\n\n  return {\n    labelProps,\n    fieldProps,\n    descriptionProps: {\n      id: descriptionId\n    },\n    errorMessageProps: {\n      id: errorMessageId\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMAttributes, DOMProps, LabelableProps} from '@react-types/shared';\nimport {ElementType, LabelHTMLAttributes} from 'react';\nimport {useId, useLabels} from '@react-aria/utils';\n\nexport interface LabelAriaProps extends LabelableProps, DOMProps, AriaLabelingProps {\n  /**\n   * The HTML element used to render the label, e.g. 'label', or 'span'.\n   * @default 'label'\n   */\n  labelElementType?: ElementType\n}\n\nexport interface LabelAria {\n  /** Props to apply to the label container element. */\n  labelProps: DOMAttributes | LabelHTMLAttributes<HTMLLabelElement>,\n  /** Props to apply to the field container element being labeled. */\n  fieldProps: AriaLabelingProps & DOMProps\n}\n\n/**\n * Provides the accessibility implementation for labels and their associated elements.\n * Labels provide context for user inputs.\n * @param props - The props for labels and fields.\n */\nexport function useLabel(props: LabelAriaProps): LabelAria {\n  let {\n    id,\n    label,\n    'aria-labelledby': ariaLabelledby,\n    'aria-label': ariaLabel,\n    labelElementType = 'label'\n  } = props;\n\n  id = useId(id);\n  let labelId = useId();\n  let labelProps = {};\n  if (label) {\n    ariaLabelledby = ariaLabelledby ? `${ariaLabelledby} ${labelId}` : labelId;\n    labelProps = {\n      id: labelId,\n      htmlFor: labelElementType === 'label' ? id : undefined\n    };\n  } else if (!ariaLabelledby && !ariaLabel) {\n    console.warn('If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility');\n  }\n\n  let fieldProps = useLabels({\n    id,\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledby\n  });\n\n  return {\n    labelProps,\n    fieldProps\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport {FocusScope, useFocusManager, getFocusableTreeWalker, createFocusManager} from './FocusScope';\nexport {FocusRing} from './FocusRing';\nexport {FocusableProvider, useFocusable} from './useFocusable';\nexport {useFocusRing} from './useFocusRing';\nexport {focusSafely} from './focusSafely';\n\nexport type {FocusScopeProps, FocusManager, FocusManagerOptions} from './FocusScope';\nexport type {FocusRingProps} from './FocusRing';\nexport type {FocusableAria, FocusableOptions, FocusableProviderProps} from './useFocusable';\nexport type {AriaFocusRingProps, FocusRingAria} from './useFocusRing';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {focusSafely} from './focusSafely';\nimport {isElementVisible} from './isElementVisible';\nimport React, {ReactNode, RefObject, useContext, useEffect, useRef} from 'react';\nimport {useLayoutEffect} from '@react-aria/utils';\n\n\nexport interface FocusScopeProps {\n  /** The contents of the focus scope. */\n  children: ReactNode,\n\n  /**\n   * Whether to contain focus inside the scope, so users cannot\n   * move focus outside, for example in a modal dialog.\n   */\n  contain?: boolean,\n\n  /**\n   * Whether to restore focus back to the element that was focused\n   * when the focus scope mounted, after the focus scope unmounts.\n   */\n  restoreFocus?: boolean,\n\n  /** Whether to auto focus the first focusable element in the focus scope on mount. */\n  autoFocus?: boolean\n}\n\nexport interface FocusManagerOptions {\n  /** The element to start searching from. The currently focused element by default. */\n  from?: Element,\n  /** Whether to only include tabbable elements, or all focusable elements. */\n  tabbable?: boolean,\n  /** Whether focus should wrap around when it reaches the end of the scope. */\n  wrap?: boolean,\n  /** A callback that determines whether the given element is focused. */\n  accept?: (node: Element) => boolean\n}\n\nexport interface FocusManager {\n  /** Moves focus to the next focusable or tabbable element in the focus scope. */\n  focusNext(opts?: FocusManagerOptions): FocusableElement,\n  /** Moves focus to the previous focusable or tabbable element in the focus scope. */\n  focusPrevious(opts?: FocusManagerOptions): FocusableElement,\n  /** Moves focus to the first focusable or tabbable element in the focus scope. */\n  focusFirst(opts?: FocusManagerOptions): FocusableElement,\n    /** Moves focus to the last focusable or tabbable element in the focus scope. */\n  focusLast(opts?: FocusManagerOptions): FocusableElement\n}\n\ntype ScopeRef = RefObject<Element[]>;\ninterface IFocusContext {\n  scopeRef: ScopeRef,\n  focusManager: FocusManager\n}\n\nconst FocusContext = React.createContext<IFocusContext>(null);\n\nlet activeScope: ScopeRef = null;\n\n// This is a hacky DOM-based implementation of a FocusScope until this RFC lands in React:\n// https://github.com/reactjs/rfcs/pull/109\n\n/**\n * A FocusScope manages focus for its descendants. It supports containing focus inside\n * the scope, restoring focus to the previously focused element on unmount, and auto\n * focusing children on mount. It also acts as a container for a programmatic focus\n * management interface that can be used to move focus forward and back in response\n * to user events.\n */\nexport function FocusScope(props: FocusScopeProps) {\n  let {children, contain, restoreFocus, autoFocus} = props;\n  let startRef = useRef<HTMLSpanElement>();\n  let endRef = useRef<HTMLSpanElement>();\n  let scopeRef = useRef<Element[]>([]);\n  let ctx = useContext(FocusContext);\n  // if there is no scopeRef on the context, then the parent is the focusScopeTree's root, represented by null\n  let parentScope = ctx?.scopeRef ?? null;\n\n  useLayoutEffect(() => {\n    // Find all rendered nodes between the sentinels and add them to the scope.\n    let node = startRef.current.nextSibling;\n    let nodes = [];\n    while (node && node !== endRef.current) {\n      nodes.push(node);\n      node = node.nextSibling;\n    }\n\n    scopeRef.current = nodes;\n  }, [children, parentScope]);\n\n  // add to the focus scope tree in render order because useEffects/useLayoutEffects run children first whereas render runs parent first\n  // which matters when constructing a tree\n  if (focusScopeTree.getTreeNode(parentScope) && !focusScopeTree.getTreeNode(scopeRef)) {\n    focusScopeTree.addTreeNode(scopeRef, parentScope);\n  }\n\n  let node = focusScopeTree.getTreeNode(scopeRef);\n  node.contain = contain;\n\n  useFocusContainment(scopeRef, contain);\n  useRestoreFocus(scopeRef, restoreFocus, contain);\n  useAutoFocus(scopeRef, autoFocus);\n\n  // this layout effect needs to run last so that focusScopeTree cleanup happens at the last moment possible\n  useLayoutEffect(() => {\n    if (scopeRef && (parentScope || parentScope == null)) {\n      return () => {\n        // Restore the active scope on unmount if this scope or a descendant scope is active.\n        // Parent effect cleanups run before children, so we need to check if the\n        // parent scope actually still exists before restoring the active scope to it.\n        if (\n          (scopeRef === activeScope || isAncestorScope(scopeRef, activeScope)) &&\n          (!parentScope || focusScopeTree.getTreeNode(parentScope))\n        ) {\n          activeScope = parentScope;\n        }\n        focusScopeTree.removeTreeNode(scopeRef);\n      };\n    }\n  }, [scopeRef, parentScope]);\n\n  let focusManager = createFocusManagerForScope(scopeRef);\n\n  return (\n    <FocusContext.Provider value={{scopeRef, focusManager}}>\n      <span data-focus-scope-start hidden ref={startRef} />\n      {children}\n      <span data-focus-scope-end hidden ref={endRef} />\n    </FocusContext.Provider>\n  );\n}\n\n/**\n * Returns a FocusManager interface for the parent FocusScope.\n * A FocusManager can be used to programmatically move focus within\n * a FocusScope, e.g. in response to user events like keyboard navigation.\n */\nexport function useFocusManager(): FocusManager {\n  return useContext(FocusContext)?.focusManager;\n}\n\nfunction createFocusManagerForScope(scopeRef: React.RefObject<Element[]>): FocusManager {\n  return {\n    focusNext(opts: FocusManagerOptions = {}) {\n      let scope = scopeRef.current;\n      let {from, tabbable, wrap, accept} = opts;\n      let node = from || document.activeElement;\n      let sentinel = scope[0].previousElementSibling;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable, accept}, scope);\n      walker.currentNode = isElementInScope(node, scope) ? node : sentinel;\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (!nextNode && wrap) {\n        walker.currentNode = sentinel;\n        nextNode = walker.nextNode() as FocusableElement;\n      }\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusPrevious(opts: FocusManagerOptions = {}) {\n      let scope = scopeRef.current;\n      let {from, tabbable, wrap, accept} = opts;\n      let node = from || document.activeElement;\n      let sentinel = scope[scope.length - 1].nextElementSibling;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable, accept}, scope);\n      walker.currentNode = isElementInScope(node, scope) ? node : sentinel;\n      let previousNode = walker.previousNode() as FocusableElement;\n      if (!previousNode && wrap) {\n        walker.currentNode = sentinel;\n        previousNode = walker.previousNode() as FocusableElement;\n      }\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    },\n    focusFirst(opts = {}) {\n      let scope = scopeRef.current;\n      let {tabbable, accept} = opts;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable, accept}, scope);\n      walker.currentNode = scope[0].previousElementSibling;\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusLast(opts = {}) {\n      let scope = scopeRef.current;\n      let {tabbable, accept} = opts;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable, accept}, scope);\n      walker.currentNode = scope[scope.length - 1].nextElementSibling;\n      let previousNode = walker.previousNode() as FocusableElement;\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    }\n  };\n}\n\nconst focusableElements = [\n  'input:not([disabled]):not([type=hidden])',\n  'select:not([disabled])',\n  'textarea:not([disabled])',\n  'button:not([disabled])',\n  'a[href]',\n  'area[href]',\n  'summary',\n  'iframe',\n  'object',\n  'embed',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]'\n];\n\nconst FOCUSABLE_ELEMENT_SELECTOR = focusableElements.join(':not([hidden]),') + ',[tabindex]:not([disabled]):not([hidden])';\n\nfocusableElements.push('[tabindex]:not([tabindex=\"-1\"]):not([disabled])');\nconst TABBABLE_ELEMENT_SELECTOR = focusableElements.join(':not([hidden]):not([tabindex=\"-1\"]),');\n\nfunction getScopeRoot(scope: Element[]) {\n  return scope[0].parentElement;\n}\n\nfunction shouldContainFocus(scopeRef: ScopeRef) {\n  let scope = focusScopeTree.getTreeNode(activeScope);\n  while (scope && scope.scopeRef !== scopeRef) {\n    if (scope.contain) {\n      return false;\n    }\n\n    scope = scope.parent;\n  }\n\n  return true;\n}\n\nfunction useFocusContainment(scopeRef: RefObject<Element[]>, contain: boolean) {\n  let focusedNode = useRef<FocusableElement>();\n\n  let raf = useRef(null);\n  useLayoutEffect(() => {\n    let scope = scopeRef.current;\n    if (!contain) {\n      // if contain was changed, then we should cancel any ongoing waits to pull focus back into containment\n      if (raf.current) {\n        cancelAnimationFrame(raf.current);\n        raf.current = null;\n      }\n      return;\n    }\n\n    // Handle the Tab key to contain focus within the scope\n    let onKeyDown = (e) => {\n      if (e.key !== 'Tab' || e.altKey || e.ctrlKey || e.metaKey || !shouldContainFocus(scopeRef)) {\n        return;\n      }\n\n      let focusedElement = document.activeElement;\n      let scope = scopeRef.current;\n      if (!isElementInScope(focusedElement, scope)) {\n        return;\n      }\n\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable: true}, scope);\n      walker.currentNode = focusedElement;\n      let nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n      if (!nextElement) {\n        walker.currentNode = e.shiftKey ? scope[scope.length - 1].nextElementSibling : scope[0].previousElementSibling;\n        nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode())  as FocusableElement;\n      }\n\n      e.preventDefault();\n      if (nextElement) {\n        focusElement(nextElement, true);\n      }\n    };\n\n    let onFocus = (e) => {\n      // If focusing an element in a child scope of the currently active scope, the child becomes active.\n      // Moving out of the active scope to an ancestor is not allowed.\n      if (!activeScope || isAncestorScope(activeScope, scopeRef)) {\n        activeScope = scopeRef;\n        focusedNode.current = e.target;\n      } else if (shouldContainFocus(scopeRef) && !isElementInChildScope(e.target, scopeRef)) {\n        // If a focus event occurs outside the active scope (e.g. user tabs from browser location bar),\n        // restore focus to the previously focused node or the first tabbable element in the active scope.\n        if (focusedNode.current) {\n          focusedNode.current.focus();\n        } else if (activeScope) {\n          focusFirstInScope(activeScope.current);\n        }\n      } else if (shouldContainFocus(scopeRef)) {\n        focusedNode.current = e.target;\n      }\n    };\n\n    let onBlur = (e) => {\n      // Firefox doesn't shift focus back to the Dialog properly without this\n      raf.current = requestAnimationFrame(() => {\n        // Use document.activeElement instead of e.relatedTarget so we can tell if user clicked into iframe\n        if (shouldContainFocus(scopeRef) && !isElementInChildScope(document.activeElement, scopeRef)) {\n          activeScope = scopeRef;\n          if (document.body.contains(e.target)) {\n            focusedNode.current = e.target;\n            focusedNode.current.focus();\n          } else if (activeScope) {\n            focusFirstInScope(activeScope.current);\n          }\n        }\n      });\n    };\n\n    document.addEventListener('keydown', onKeyDown, false);\n    document.addEventListener('focusin', onFocus, false);\n    scope.forEach(element => element.addEventListener('focusin', onFocus, false));\n    scope.forEach(element => element.addEventListener('focusout', onBlur, false));\n    return () => {\n      document.removeEventListener('keydown', onKeyDown, false);\n      document.removeEventListener('focusin', onFocus, false);\n      scope.forEach(element => element.removeEventListener('focusin', onFocus, false));\n      scope.forEach(element => element.removeEventListener('focusout', onBlur, false));\n    };\n  }, [scopeRef, contain]);\n\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return () => {\n      if (raf.current) {\n        cancelAnimationFrame(raf.current);\n      }\n    };\n  }, [raf]);\n}\n\nfunction isElementInAnyScope(element: Element) {\n  return isElementInChildScope(element);\n}\n\nfunction isElementInScope(element: Element, scope: Element[]) {\n  return scope.some(node => node.contains(element));\n}\n\nfunction isElementInChildScope(element: Element, scope: ScopeRef = null) {\n  // node.contains in isElementInScope covers child scopes that are also DOM children,\n  // but does not cover child scopes in portals.\n  for (let {scopeRef: s} of focusScopeTree.traverse(focusScopeTree.getTreeNode(scope))) {\n    if (isElementInScope(element, s.current)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction isAncestorScope(ancestor: ScopeRef, scope: ScopeRef) {\n  let parent = focusScopeTree.getTreeNode(scope)?.parent;\n  while (parent) {\n    if (parent.scopeRef === ancestor) {\n      return true;\n    }\n    parent = parent.parent;\n  }\n  return false;\n}\n\nfunction focusElement(element: FocusableElement | null, scroll = false) {\n  if (element != null && !scroll) {\n    try {\n      focusSafely(element);\n    } catch (err) {\n      // ignore\n    }\n  } else if (element != null) {\n    try {\n      element.focus();\n    } catch (err) {\n      // ignore\n    }\n  }\n}\n\nfunction focusFirstInScope(scope: Element[], tabbable:boolean = true) {\n  let sentinel = scope[0].previousElementSibling;\n  let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable}, scope);\n  walker.currentNode = sentinel;\n  let nextNode = walker.nextNode();\n\n  // If the scope does not contain a tabbable element, use the first focusable element.\n  if (tabbable && !nextNode) {\n    walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable: false}, scope);\n    walker.currentNode = sentinel;\n    nextNode = walker.nextNode();\n  }\n\n  focusElement(nextNode as FocusableElement);\n}\n\nfunction useAutoFocus(scopeRef: RefObject<Element[]>, autoFocus: boolean) {\n  const autoFocusRef = React.useRef(autoFocus);\n  useEffect(() => {\n    if (autoFocusRef.current) {\n      activeScope = scopeRef;\n      if (!isElementInScope(document.activeElement, activeScope.current)) {\n        focusFirstInScope(scopeRef.current);\n      }\n    }\n    autoFocusRef.current = false;\n  }, [scopeRef]);\n}\n\nfunction useRestoreFocus(scopeRef: RefObject<Element[]>, restoreFocus: boolean, contain: boolean) {\n  // create a ref during render instead of useLayoutEffect so the active element is saved before a child with autoFocus=true mounts.\n  const nodeToRestoreRef = useRef(typeof document !== 'undefined' ? document.activeElement as FocusableElement : null);\n\n  // restoring scopes should all track if they are active regardless of contain, but contain already tracks it plus logic to contain the focus\n  // restoring-non-containing scopes should only care if they become active so they can perform the restore\n  useLayoutEffect(() => {\n    let scope = scopeRef.current;\n    if (!restoreFocus || contain) {\n      return;\n    }\n\n    let onFocus = () => {\n      // If focusing an element in a child scope of the currently active scope, the child becomes active.\n      // Moving out of the active scope to an ancestor is not allowed.\n      if (!activeScope || isAncestorScope(activeScope, scopeRef)) {\n        activeScope = scopeRef;\n      }\n    };\n\n    document.addEventListener('focusin', onFocus, false);\n    scope.forEach(element => element.addEventListener('focusin', onFocus, false));\n    return () => {\n      document.removeEventListener('focusin', onFocus, false);\n      scope.forEach(element => element.removeEventListener('focusin', onFocus, false));\n    };\n  }, [scopeRef, contain]);\n\n  // useLayoutEffect instead of useEffect so the active element is saved synchronously instead of asynchronously.\n  useLayoutEffect(() => {\n    focusScopeTree.getTreeNode(scopeRef).nodeToRestore = nodeToRestoreRef.current;\n    if (!restoreFocus) {\n      return;\n    }\n\n    // Handle the Tab key so that tabbing out of the scope goes to the next element\n    // after the node that had focus when the scope mounted. This is important when\n    // using portals for overlays, so that focus goes to the expected element when\n    // tabbing out of the overlay.\n    let onKeyDown = (e: KeyboardEvent) => {\n      if (e.key !== 'Tab' || e.altKey || e.ctrlKey || e.metaKey) {\n        return;\n      }\n\n      let focusedElement = document.activeElement as FocusableElement;\n      if (!isElementInScope(focusedElement, scopeRef.current)) {\n        return;\n      }\n      let nodeToRestore = focusScopeTree.getTreeNode(scopeRef).nodeToRestore;\n\n      // Create a DOM tree walker that matches all tabbable elements\n      let walker = getFocusableTreeWalker(document.body, {tabbable: true});\n\n      // Find the next tabbable element after the currently focused element\n      walker.currentNode = focusedElement;\n      let nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n\n      if (!document.body.contains(nodeToRestore) || nodeToRestore === document.body) {\n        nodeToRestore = null;\n        focusScopeTree.getTreeNode(scopeRef).nodeToRestore = null;\n      }\n\n      // If there is no next element, or it is outside the current scope, move focus to the\n      // next element after the node to restore to instead.\n      if ((!nextElement || !isElementInScope(nextElement, scopeRef.current)) && nodeToRestore) {\n        walker.currentNode = nodeToRestore;\n\n        // Skip over elements within the scope, in case the scope immediately follows the node to restore.\n        do {\n          nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n        } while (isElementInScope(nextElement, scopeRef.current));\n\n        e.preventDefault();\n        e.stopPropagation();\n        if (nextElement) {\n          focusElement(nextElement, true);\n        } else {\n           // If there is no next element and the nodeToRestore isn't within a FocusScope (i.e. we are leaving the top level focus scope)\n           // then move focus to the body.\n           // Otherwise restore focus to the nodeToRestore (e.g menu within a popover -> tabbing to close the menu should move focus to menu trigger)\n          if (!isElementInAnyScope(nodeToRestore)) {\n            focusedElement.blur();\n          } else {\n            focusElement(nodeToRestore, true);\n          }\n        }\n      }\n    };\n\n    if (!contain) {\n      document.addEventListener('keydown', onKeyDown, true);\n    }\n\n    return () => {\n      if (!contain) {\n        document.removeEventListener('keydown', onKeyDown, true);\n      }\n      let nodeToRestore = focusScopeTree.getTreeNode(scopeRef).nodeToRestore;\n\n      // if we already lost focus to the body and this was the active scope, then we should attempt to restore\n      if (\n        restoreFocus\n        && nodeToRestore\n        && (\n          isElementInScope(document.activeElement, scopeRef.current)\n          || (document.activeElement === document.body && activeScope === scopeRef)\n        )\n      ) {\n        // freeze the focusScopeTree so it persists after the raf, otherwise during unmount nodes are removed from it\n        let clonedTree = focusScopeTree.clone();\n        requestAnimationFrame(() => {\n          // Only restore focus if we've lost focus to the body, the alternative is that focus has been purposefully moved elsewhere\n          if (document.activeElement === document.body) {\n            // look up the tree starting with our scope to find a nodeToRestore still in the DOM\n            let treeNode = clonedTree.getTreeNode(scopeRef);\n            while (treeNode) {\n              if (treeNode.nodeToRestore && document.body.contains(treeNode.nodeToRestore)) {\n                focusElement(treeNode.nodeToRestore);\n                return;\n              }\n              treeNode = treeNode.parent;\n            }\n          }\n        });\n      }\n    };\n  }, [scopeRef, restoreFocus, contain]);\n}\n\n/**\n * Create a [TreeWalker]{@link https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker}\n * that matches all focusable/tabbable elements.\n */\nexport function getFocusableTreeWalker(root: Element, opts?: FocusManagerOptions, scope?: Element[]) {\n  let selector = opts?.tabbable ? TABBABLE_ELEMENT_SELECTOR : FOCUSABLE_ELEMENT_SELECTOR;\n  let walker = document.createTreeWalker(\n    root,\n    NodeFilter.SHOW_ELEMENT,\n    {\n      acceptNode(node) {\n        // Skip nodes inside the starting node.\n        if (opts?.from?.contains(node)) {\n          return NodeFilter.FILTER_REJECT;\n        }\n\n        if ((node as Element).matches(selector)\n          && isElementVisible(node as Element)\n          && (!scope || isElementInScope(node as Element, scope))\n          && (!opts?.accept || opts.accept(node as Element))\n        ) {\n          return NodeFilter.FILTER_ACCEPT;\n        }\n\n        return NodeFilter.FILTER_SKIP;\n      }\n    }\n  );\n\n  if (opts?.from) {\n    walker.currentNode = opts.from;\n  }\n\n  return walker;\n}\n\n/**\n * Creates a FocusManager object that can be used to move focus within an element.\n */\nexport function createFocusManager(ref: RefObject<Element>, defaultOptions: FocusManagerOptions = {}): FocusManager {\n  return {\n    focusNext(opts: FocusManagerOptions = {}) {\n      let root = ref.current;\n      if (!root) {\n        return;\n      }\n      let {from, tabbable = defaultOptions.tabbable, wrap = defaultOptions.wrap, accept = defaultOptions.accept} = opts;\n      let node = from || document.activeElement;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      if (root.contains(node)) {\n        walker.currentNode = node;\n      }\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (!nextNode && wrap) {\n        walker.currentNode = root;\n        nextNode = walker.nextNode() as FocusableElement;\n      }\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusPrevious(opts: FocusManagerOptions = defaultOptions) {\n      let root = ref.current;\n      if (!root) {\n        return;\n      }\n      let {from, tabbable = defaultOptions.tabbable, wrap = defaultOptions.wrap, accept = defaultOptions.accept} = opts;\n      let node = from || document.activeElement;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      if (root.contains(node)) {\n        walker.currentNode = node;\n      } else {\n        let next = last(walker);\n        if (next) {\n          focusElement(next, true);\n        }\n        return next;\n      }\n      let previousNode = walker.previousNode() as FocusableElement;\n      if (!previousNode && wrap) {\n        walker.currentNode = root;\n        previousNode = last(walker);\n      }\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    },\n    focusFirst(opts = defaultOptions) {\n      let root = ref.current;\n      if (!root) {\n        return;\n      }\n      let {tabbable = defaultOptions.tabbable, accept = defaultOptions.accept} = opts;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusLast(opts = defaultOptions) {\n      let root = ref.current;\n      if (!root) {\n        return;\n      }\n      let {tabbable = defaultOptions.tabbable, accept = defaultOptions.accept} = opts;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      let next = last(walker);\n      if (next) {\n        focusElement(next, true);\n      }\n      return next;\n    }\n  };\n}\n\nfunction last(walker: TreeWalker) {\n  let next: FocusableElement;\n  let last: FocusableElement;\n  do {\n    last = walker.lastChild() as FocusableElement;\n    if (last) {\n      next = last;\n    }\n  } while (last);\n  return next;\n}\n\n\nclass Tree {\n  private root: TreeNode;\n  private fastMap = new Map<ScopeRef, TreeNode>();\n\n  constructor() {\n    this.root = new TreeNode({scopeRef: null});\n    this.fastMap.set(null, this.root);\n  }\n\n  get size() {\n    return this.fastMap.size;\n  }\n\n  getTreeNode(data: ScopeRef) {\n    return this.fastMap.get(data);\n  }\n\n  addTreeNode(scopeRef: ScopeRef, parent: ScopeRef, nodeToRestore?: FocusableElement) {\n    let parentNode = this.fastMap.get(parent ?? null);\n    let node = new TreeNode({scopeRef});\n    parentNode.addChild(node);\n    node.parent = parentNode;\n    this.fastMap.set(scopeRef, node);\n    if (nodeToRestore) {\n      node.nodeToRestore = nodeToRestore;\n    }\n  }\n\n  removeTreeNode(scopeRef: ScopeRef) {\n    // never remove the root\n    if (scopeRef === null) {\n      return;\n    }\n    let node = this.fastMap.get(scopeRef);\n    let parentNode = node.parent;\n    // when we remove a scope, check if any sibling scopes are trying to restore focus to something inside the scope we're removing\n    // if we are, then replace the siblings restore with the restore from the scope we're removing\n    for (let current of this.traverse()) {\n      if (\n        current !== node &&\n        node.nodeToRestore &&\n        current.nodeToRestore &&\n        node.scopeRef.current &&\n        isElementInScope(current.nodeToRestore, node.scopeRef.current)\n      ) {\n        current.nodeToRestore = node.nodeToRestore;\n      }\n    }\n    let children = node.children;\n    parentNode.removeChild(node);\n    if (children.length > 0) {\n      children.forEach(child => parentNode.addChild(child));\n    }\n    this.fastMap.delete(node.scopeRef);\n  }\n\n  // Pre Order Depth First\n  *traverse(node: TreeNode = this.root): Generator<TreeNode> {\n    if (node.scopeRef != null) {\n      yield node;\n    }\n    if (node.children.length > 0) {\n      for (let child of node.children) {\n        yield* this.traverse(child);\n      }\n    }\n  }\n\n  clone(): Tree {\n    let newTree = new Tree();\n    for (let node of this.traverse()) {\n      newTree.addTreeNode(node.scopeRef, node.parent.scopeRef, node.nodeToRestore);\n    }\n    return newTree;\n  }\n}\n\nclass TreeNode {\n  public scopeRef: ScopeRef;\n  public nodeToRestore: FocusableElement;\n  public parent: TreeNode;\n  public children: TreeNode[] = [];\n  public contain = false;\n\n  constructor(props: {scopeRef: ScopeRef}) {\n    this.scopeRef = props.scopeRef;\n  }\n  addChild(node: TreeNode) {\n    this.children.push(node);\n    node.parent = this;\n  }\n  removeChild(node: TreeNode) {\n    this.children.splice(this.children.indexOf(node), 1);\n    node.parent = undefined;\n  }\n}\n\nexport let focusScopeTree = new Tree();\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an 'AS IS' BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {focusWithoutScrolling, runAfterTransition} from '@react-aria/utils';\nimport {getInteractionModality} from '@react-aria/interactions';\n\n/**\n * A utility function that focuses an element while avoiding undesired side effects such\n * as page scrolling and screen reader issues with CSS transitions.\n */\nexport function focusSafely(element: FocusableElement) {\n  // If the user is interacting with a virtual cursor, e.g. screen reader, then\n  // wait until after any animated transitions that are currently occurring on\n  // the page before shifting focus. This avoids issues with VoiceOver on iOS\n  // causing the page to scroll when moving focus if the element is transitioning\n  // from off the screen.\n  if (getInteractionModality() === 'virtual') {\n    let lastFocusedElement = document.activeElement;\n    runAfterTransition(() => {\n      // If focus did not move and the element is still in the document, focus it.\n      if (document.activeElement === lastFocusedElement && document.contains(element)) {\n        focusWithoutScrolling(element);\n      }\n    });\n  } else {\n    focusWithoutScrolling(element);\n  }\n}\n", "/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nfunction isStyleVisible(element: Element) {\n  if (!(element instanceof HTMLElement) && !(element instanceof SVGElement)) {\n    return false;\n  }\n\n  let {display, visibility} = element.style;\n\n  let isVisible = (\n    display !== 'none' &&\n    visibility !== 'hidden' &&\n    visibility !== 'collapse'\n  );\n\n  if (isVisible) {\n    const {getComputedStyle} = element.ownerDocument.defaultView;\n    let {display: computedDisplay, visibility: computedVisibility} = getComputedStyle(element);\n\n    isVisible = (\n      computedDisplay !== 'none' &&\n      computedVisibility !== 'hidden' &&\n      computedVisibility !== 'collapse'\n    );\n  }\n\n  return isVisible;\n}\n\nfunction isAttributeVisible(element: Element, childElement?: Element) {\n  return (\n    !element.hasAttribute('hidden') &&\n    (element.nodeName === 'DETAILS' &&\n      childElement &&\n      childElement.nodeName !== 'SUMMARY'\n      ? element.hasAttribute('open')\n      : true)\n  );\n}\n\n/**\n * Adapted from https://github.com/testing-library/jest-dom and \n * https://github.com/vuejs/vue-test-utils-next/.\n * Licensed under the MIT License.\n * @param element - Element to evaluate for display or visibility.\n */  \nexport function isElementVisible(element: Element, childElement?: Element) {\n  return (\n    element.nodeName !== '#comment' &&\n    isStyleVisible(element) &&\n    isAttributeVisible(element, childElement) &&\n    (!element.parentElement || isElementVisible(element.parentElement, element))\n  );\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport clsx from 'clsx';\nimport {mergeProps} from '@react-aria/utils';\nimport React, {ReactElement} from 'react';\nimport {useFocusRing} from './useFocusRing';\n\nexport interface FocusRingProps {\n  /** Child element to apply CSS classes to. */\n  children: ReactElement,\n  /** CSS class to apply when the element is focused. */\n  focusClass?: string,\n  /** CSS class to apply when the element has keyboard focus. */\n  focusRingClass?: string,\n  /**\n   * Whether to show the focus ring when something\n   * inside the container element has focus (true), or\n   * only if the container itself has focus (false).\n   * @default false\n   */\n  within?: boolean,\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\n/**\n * A utility component that applies a CSS class when an element has keyboard focus.\n * Focus rings are visible only when the user is interacting with a keyboard,\n * not with a mouse, touch, or other input methods.\n */\nexport function FocusRing(props: FocusRingProps) {\n  let {children, focusClass, focusRingClass} = props;\n  let {isFocused, isFocusVisible, focusProps} = useFocusRing(props);\n  let child = React.Children.only(children);\n\n  return React.cloneElement(child, mergeProps(child.props, {\n    ...focusProps,\n    className: clsx({\n      [focusClass || '']: isFocused,\n      [focusRingClass || '']: isFocusVisible\n    })\n  }));\n}\n", "import {DOMAttributes} from '@react-types/shared';\nimport {isFocusVisible, useFocus, useFocusVisibleListener, useFocusWithin} from '@react-aria/interactions';\nimport {useCallback, useState} from 'react';\nimport {useRef} from 'react';\n\nexport interface AriaFocusRingProps {\n  /**\n   * Whether to show the focus ring when something\n   * inside the container element has focus (true), or\n   * only if the container itself has focus (false).\n   * @default 'false'\n   */\n  within?: boolean,\n\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\nexport interface FocusRingAria {\n  /** Whether the element is currently focused. */\n  isFocused: boolean,\n\n  /** Whether keyboard focus should be visible. */\n  isFocusVisible: boolean,\n\n  /** Props to apply to the container element with the focus ring. */\n  focusProps: DOMAttributes\n}\n\n/**\n * Determines whether a focus ring should be shown to indicate keyboard focus.\n * Focus rings are visible only when the user is interacting with a keyboard,\n * not with a mouse, touch, or other input methods.\n */\nexport function useFocusRing(props: AriaFocusRingProps = {}): FocusRingAria {\n  let {\n    autoFocus = false,\n    isTextInput,\n    within\n  } = props;\n  let state = useRef({\n    isFocused: false,\n    isFocusVisible: autoFocus || isFocusVisible()\n  });\n  let [isFocused, setFocused] = useState(false);\n  let [isFocusVisibleState, setFocusVisible] = useState(() => state.current.isFocused && state.current.isFocusVisible);\n\n  let updateState = useCallback(() => setFocusVisible(state.current.isFocused && state.current.isFocusVisible), []);\n\n  let onFocusChange = useCallback(isFocused => {\n    state.current.isFocused = isFocused;\n    setFocused(isFocused);\n    updateState();\n  }, [updateState]);\n\n  useFocusVisibleListener((isFocusVisible) => {\n    state.current.isFocusVisible = isFocusVisible;\n    updateState();\n  }, [], {isTextInput});\n\n  let {focusProps} = useFocus({\n    isDisabled: within,\n    onFocusChange\n  });\n\n  let {focusWithinProps} = useFocusWithin({\n    isDisabled: !within,\n    onFocusWithinChange: onFocusChange\n  });\n\n  return {\n    isFocused,\n    isFocusVisible: state.current.isFocused && isFocusVisibleState,\n    focusProps: within ? focusWithinProps : focusProps\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DOMAttributes, FocusableDOMProps, FocusableElement, FocusableProps} from '@react-types/shared';\nimport {focusSafely} from './';\nimport {mergeProps, useSyncRef} from '@react-aria/utils';\nimport React, {MutableRefObject, ReactNode, RefObject, useContext, useEffect, useRef} from 'react';\nimport {useFocus, useKeyboard} from '@react-aria/interactions';\n\nexport interface FocusableOptions extends FocusableProps, FocusableDOMProps {\n  /** Whether focus should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface FocusableProviderProps extends DOMAttributes {\n  /** The child element to provide DOM props to. */\n  children?: ReactNode\n}\n\ninterface FocusableContextValue extends FocusableProviderProps {\n  ref?: MutableRefObject<FocusableElement>\n}\n\nlet FocusableContext = React.createContext<FocusableContextValue>(null);\n\nfunction useFocusableContext(ref: RefObject<FocusableElement>): FocusableContextValue {\n  let context = useContext(FocusableContext) || {};\n  useSyncRef(context, ref);\n\n  // eslint-disable-next-line\n  let {ref: _, ...otherProps} = context;\n  return otherProps;\n}\n\n/**\n * Provides DOM props to the nearest focusable child.\n */\nfunction FocusableProvider(props: FocusableProviderProps, ref: RefObject<FocusableElement>) {\n  let {children, ...otherProps} = props;\n  let context = {\n    ...otherProps,\n    ref\n  };\n\n  return (\n    <FocusableContext.Provider value={context}>\n      {children}\n    </FocusableContext.Provider>\n  );\n}\n\nlet _FocusableProvider = React.forwardRef(FocusableProvider);\nexport {_FocusableProvider as FocusableProvider};\n\nexport interface FocusableAria {\n  /** Props for the focusable element. */\n  focusableProps: DOMAttributes\n}\n\n/**\n * Used to make an element focusable and capable of auto focus.\n */\nexport function useFocusable(props: FocusableOptions, domRef: RefObject<FocusableElement>): FocusableAria {\n  let {focusProps} = useFocus(props);\n  let {keyboardProps} = useKeyboard(props);\n  let interactions = mergeProps(focusProps, keyboardProps);\n  let domProps = useFocusableContext(domRef);\n  let interactionProps = props.isDisabled ? {} : domProps;\n  let autoFocusRef = useRef(props.autoFocus);\n\n  useEffect(() => {\n    if (autoFocusRef.current && domRef.current) {\n      focusSafely(domRef.current);\n    }\n    autoFocusRef.current = false;\n  }, [domRef]);\n\n  return {\n    focusableProps: mergeProps(\n      {\n        ...interactions,\n        tabIndex: props.excludeFromTabOrder && !props.isDisabled ? -1 : undefined\n      },\n      interactionProps\n    )\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nexport {useSlider} from './useSlider';\nexport {useSliderThumb} from './useSliderThumb';\nexport type {AriaSliderProps} from '@react-types/slider';\nexport type {SliderAria} from './useSlider';\nexport type {AriaSliderThumbOptions, SliderThumbAria} from './useSliderThumb';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaSliderProps} from '@react-types/slider';\nimport {clamp, mergeProps, useGlobalListeners} from '@react-aria/utils';\nimport {DOMAttributes} from '@react-types/shared';\nimport {getSliderThumbId, sliderIds} from './utils';\nimport React, {LabelHTMLAttributes, OutputHTMLAttributes, RefObject, useRef} from 'react';\nimport {setInteractionModality, useMove} from '@react-aria/interactions';\nimport {SliderState} from '@react-stately/slider';\nimport {useLabel} from '@react-aria/label';\nimport {useLocale} from '@react-aria/i18n';\n\nexport interface SliderAria {\n  /** Props for the label element. */\n  labelProps: LabelHTMLAttributes<HTMLLabelElement>,\n\n  /** Props for the root element of the slider component; groups slider inputs. */\n  groupProps: DOMAttributes,\n\n  /** Props for the track element. */\n  trackProps: DOMAttributes,\n\n  /** Props for the output element, displaying the value of the slider thumbs. */\n  outputProps: OutputHTMLAttributes<HTMLOutputElement>\n}\n\n/**\n * Provides the behavior and accessibility implementation for a slider component representing one or more values.\n *\n * @param props Props for the slider.\n * @param state State for the slider, as returned by `useSliderState`.\n * @param trackRef Ref for the \"track\" element.  The width of this element provides the \"length\"\n * of the track -- the span of one dimensional space that the slider thumb can be.  It also\n * accepts click and drag motions, so that the closest thumb will follow clicks and drags on\n * the track.\n */\nexport function useSlider(\n  props: AriaSliderProps,\n  state: SliderState,\n  trackRef: RefObject<Element>\n): SliderAria {\n  let {labelProps, fieldProps} = useLabel(props);\n\n  let isVertical = props.orientation === 'vertical';\n\n  // Attach id of the label to the state so it can be accessed by useSliderThumb.\n  sliderIds.set(state, labelProps.id ?? fieldProps.id);\n\n  let {direction} = useLocale();\n\n  let {addGlobalListener, removeGlobalListener} = useGlobalListeners();\n\n  // When the user clicks or drags the track, we want the motion to set and drag the\n  // closest thumb.  Hence we also need to install useMove() on the track element.\n  // Here, we keep track of which index is the \"closest\" to the drag start point.\n  // It is set onMouseDown/onTouchDown; see trackProps below.\n  const realTimeTrackDraggingIndex = useRef<number | null>(null);\n\n  const stateRef = useRef<SliderState>(null);\n  stateRef.current = state;\n  const reverseX = direction === 'rtl';\n  const currentPosition = useRef<number>(null);\n  const {moveProps} = useMove({\n    onMoveStart() {\n      currentPosition.current = null;\n    },\n    onMove({deltaX, deltaY}) {\n      let {height, width} = trackRef.current.getBoundingClientRect();\n      let size = isVertical ? height : width;\n\n      if (currentPosition.current == null) {\n        currentPosition.current = stateRef.current.getThumbPercent(realTimeTrackDraggingIndex.current) * size;\n      }\n\n      let delta = isVertical ? deltaY : deltaX;\n      if (isVertical || reverseX) {\n        delta = -delta;\n      }\n\n      currentPosition.current += delta;\n\n      if (realTimeTrackDraggingIndex.current != null && trackRef.current) {\n        const percent = clamp(currentPosition.current / size, 0, 1);\n        stateRef.current.setThumbPercent(realTimeTrackDraggingIndex.current, percent);\n      }\n    },\n    onMoveEnd() {\n      if (realTimeTrackDraggingIndex.current != null) {\n        stateRef.current.setThumbDragging(realTimeTrackDraggingIndex.current, false);\n        realTimeTrackDraggingIndex.current = null;\n      }\n    }\n  });\n\n  let currentPointer = useRef<number | null | undefined>(undefined);\n  let onDownTrack = (e: React.UIEvent, id: number, clientX: number, clientY: number) => {\n    // We only trigger track-dragging if the user clicks on the track itself and nothing is currently being dragged.\n    if (trackRef.current && !props.isDisabled && state.values.every((_, i) => !state.isThumbDragging(i))) {\n      let {height, width, top, left} = trackRef.current.getBoundingClientRect();\n      let size = isVertical ? height : width;\n      // Find the closest thumb\n      const trackPosition = isVertical ? top : left;\n      const clickPosition = isVertical ? clientY : clientX;\n      const offset = clickPosition - trackPosition;\n      let percent = offset / size;\n      if (direction === 'rtl' || isVertical) {\n        percent = 1 - percent;\n      }\n      let value = state.getPercentValue(percent);\n\n      // to find the closet thumb we split the array based on the first thumb position to the \"right/end\" of the click.\n      let closestThumb;\n      let split = state.values.findIndex(v => value - v < 0);\n      if (split === 0) { // If the index is zero then the closetThumb is the first one\n        closestThumb = split;\n      } else if (split === -1) { // If no index is found they've clicked past all the thumbs\n        closestThumb = state.values.length - 1;\n      } else {\n        let lastLeft = state.values[split - 1];\n        let firstRight = state.values[split];\n        // Pick the last left/start thumb, unless they are stacked on top of each other, then pick the right/end one\n        if (Math.abs(lastLeft - value) < Math.abs(firstRight - value)) {\n          closestThumb = split - 1;\n        } else {\n          closestThumb = split;\n        }\n      }\n\n      // Confirm that the found closest thumb is editable, not disabled, and move it\n      if (closestThumb >= 0 && state.isThumbEditable(closestThumb)) {\n        // Don't unfocus anything\n        e.preventDefault();\n\n        realTimeTrackDraggingIndex.current = closestThumb;\n        state.setFocusedThumb(closestThumb);\n        currentPointer.current = id;\n\n        state.setThumbDragging(realTimeTrackDraggingIndex.current, true);\n        state.setThumbValue(closestThumb, value);\n\n        addGlobalListener(window, 'mouseup', onUpTrack, false);\n        addGlobalListener(window, 'touchend', onUpTrack, false);\n        addGlobalListener(window, 'pointerup', onUpTrack, false);\n      } else {\n        realTimeTrackDraggingIndex.current = null;\n      }\n    }\n  };\n\n  let onUpTrack = (e) => {\n    let id = e.pointerId ?? e.changedTouches?.[0].identifier;\n    if (id === currentPointer.current) {\n      if (realTimeTrackDraggingIndex.current != null) {\n        state.setThumbDragging(realTimeTrackDraggingIndex.current, false);\n        realTimeTrackDraggingIndex.current = null;\n      }\n\n      removeGlobalListener(window, 'mouseup', onUpTrack, false);\n      removeGlobalListener(window, 'touchend', onUpTrack, false);\n      removeGlobalListener(window, 'pointerup', onUpTrack, false);\n    }\n  };\n\n  if ('htmlFor' in labelProps && labelProps.htmlFor) {\n    // Ideally the `for` attribute should point to the first thumb, but VoiceOver on iOS\n    // causes this to override the `aria-labelledby` on the thumb. This causes the first\n    // thumb to only be announced as the slider label rather than its individual name as well.\n    // See https://bugs.webkit.org/show_bug.cgi?id=172464.\n    delete labelProps.htmlFor;\n    labelProps.onClick = () => {\n      // Safari does not focus <input type=\"range\"> elements when clicking on an associated <label>,\n      // so do it manually. In addition, make sure we show the focus ring.\n      document.getElementById(getSliderThumbId(state, 0))?.focus();\n      setInteractionModality('keyboard');\n    };\n  }\n\n  return {\n    labelProps,\n    // The root element of the Slider will have role=\"group\" to group together\n    // all the thumb inputs in the Slider.  The label of the Slider will\n    // be used to label the group.\n    groupProps: {\n      role: 'group',\n      ...fieldProps\n    },\n    trackProps: mergeProps({\n      onMouseDown(e: React.MouseEvent) {\n        if (e.button !== 0 || e.altKey || e.ctrlKey || e.metaKey) {\n          return;\n        }\n        onDownTrack(e, undefined, e.clientX, e.clientY);\n      },\n      onPointerDown(e: React.PointerEvent) {\n        if (e.pointerType === 'mouse' && (e.button !== 0 || e.altKey || e.ctrlKey || e.metaKey)) {\n          return;\n        }\n        onDownTrack(e, e.pointerId, e.clientX, e.clientY);\n      },\n      onTouchStart(e: React.TouchEvent) { onDownTrack(e, e.changedTouches[0].identifier, e.changedTouches[0].clientX, e.changedTouches[0].clientY); },\n      style: {\n        position: 'relative',\n        touchAction: 'none'\n      }\n    }, moveProps),\n    outputProps: {\n      htmlFor: state.values.map((_, index) => getSliderThumbId(state, index)).join(' '),\n      'aria-live': 'off'\n    }\n  };\n}\n", "import {SliderState} from '@react-stately/slider';\n\nexport const sliderIds = new WeakMap<SliderState, string>();\n\nexport function getSliderThumbId(state: SliderState, index: number) {\n  let id = sliderIds.get(state);\n  if (!id) {\n    throw new Error('Unknown slider state');\n  }\n\n  return `${id}-${index}`;\n}\n", "import {AriaSliderThumbProps} from '@react-types/slider';\nimport {clamp, focusWithoutScrolling, mergeProps, useGlobalListeners} from '@react-aria/utils';\nimport {DOMAttributes} from '@react-types/shared';\nimport {getSliderThumbId, sliderIds} from './utils';\nimport React, {ChangeEvent, InputHTMLAttributes, LabelHTMLAttributes, RefObject, useCallback, useEffect, useRef} from 'react';\nimport {SliderState} from '@react-stately/slider';\nimport {useFocusable} from '@react-aria/focus';\nimport {useKeyboard, useMove} from '@react-aria/interactions';\nimport {useLabel} from '@react-aria/label';\nimport {useLocale} from '@react-aria/i18n';\n\nexport interface SliderThumbAria {\n  /** Props for the root thumb element; handles the dragging motion. */\n  thumbProps: DOMAttributes,\n\n  /** Props for the visually hidden range input element. */\n  inputProps: InputHTMLAttributes<HTMLInputElement>,\n\n  /** Props for the label element for this thumb (optional). */\n  labelProps: LabelHTMLAttributes<HTMLLabelElement>,\n\n  /** Whether this thumb is currently being dragged. */\n  isDragging: boolean,\n  /** Whether the thumb is currently focused. */\n  isFocused: boolean,\n  /** Whether the thumb is disabled. */\n  isDisabled: boolean\n}\n\nexport interface AriaSliderThumbOptions extends AriaSliderThumbProps {\n  /** A ref to the track element. */\n  trackRef: RefObject<Element>,\n  /** A ref to the thumb input element. */\n  inputRef: RefObject<HTMLInputElement>\n}\n\n/**\n * Provides behavior and accessibility for a thumb of a slider component.\n *\n * @param opts Options for this Slider thumb.\n * @param state Slider state, created via `useSliderState`.\n */\nexport function useSliderThumb(\n  opts: AriaSliderThumbOptions,\n  state: SliderState\n): SliderThumbAria {\n  let {\n    index,\n    isRequired,\n    validationState,\n    trackRef,\n    inputRef,\n    orientation = state.orientation\n  } = opts;\n\n  let isDisabled = opts.isDisabled || state.isDisabled;\n  let isVertical = orientation === 'vertical';\n\n  let {direction} = useLocale();\n  let {addGlobalListener, removeGlobalListener} = useGlobalListeners();\n\n  let labelId = sliderIds.get(state);\n  const {labelProps, fieldProps} = useLabel({\n    ...opts,\n    id: getSliderThumbId(state, index),\n    'aria-labelledby': `${labelId} ${opts['aria-labelledby'] ?? ''}`.trim()\n  });\n\n  const value = state.values[index];\n\n  const focusInput = useCallback(() => {\n    if (inputRef.current) {\n      focusWithoutScrolling(inputRef.current);\n    }\n  }, [inputRef]);\n\n  const isFocused = state.focusedThumb === index;\n\n  useEffect(() => {\n    if (isFocused) {\n      focusInput();\n    }\n  }, [isFocused, focusInput]);\n\n  const stateRef = useRef<SliderState>(null);\n  stateRef.current = state;\n  let reverseX = direction === 'rtl';\n  let currentPosition = useRef<number>(null);\n\n  let {keyboardProps} = useKeyboard({\n    onKeyDown(e) {\n      let {\n        getThumbMaxValue,\n        getThumbMinValue,\n        decrementThumb,\n        incrementThumb,\n        setThumbValue,\n        setThumbDragging,\n        pageSize\n      } = stateRef.current;\n      // these are the cases that useMove or useSlider don't handle\n      if (!/^(PageUp|PageDown|Home|End)$/.test(e.key)) {\n        e.continuePropagation();\n        return;\n      }\n      // same handling as useMove, stopPropagation to prevent useSlider from handling the event as well.\n      e.preventDefault();\n      // remember to set this so that onChangeEnd is fired\n      setThumbDragging(index, true);\n      switch (e.key) {\n        case 'PageUp':\n          incrementThumb(index, pageSize);\n          break;\n        case 'PageDown':\n          decrementThumb(index, pageSize);\n          break;\n        case 'Home':\n          setThumbValue(index, getThumbMinValue(index));\n          break;\n        case 'End':\n          setThumbValue(index, getThumbMaxValue(index));\n          break;\n      }\n      setThumbDragging(index, false);\n    }\n  });\n\n  let {moveProps} = useMove({\n    onMoveStart() {\n      currentPosition.current = null;\n      stateRef.current.setThumbDragging(index, true);\n    },\n    onMove({deltaX, deltaY, pointerType, shiftKey}) {\n      const {\n        getThumbPercent,\n        setThumbPercent,\n        decrementThumb,\n        incrementThumb,\n        step,\n        pageSize\n      } = stateRef.current;\n      let {width, height} = trackRef.current.getBoundingClientRect();\n      let size = isVertical ? height : width;\n\n      if (currentPosition.current == null) {\n        currentPosition.current = getThumbPercent(index) * size;\n      }\n      if (pointerType === 'keyboard') {\n        if ((deltaX > 0 && reverseX) || (deltaX < 0 && !reverseX) || deltaY > 0) {\n          decrementThumb(index, shiftKey ? pageSize : step);\n        } else {\n          incrementThumb(index, shiftKey ? pageSize : step);\n        }\n      } else {\n        let delta = isVertical ? deltaY : deltaX;\n        if (isVertical || reverseX) {\n          delta = -delta;\n        }\n\n        currentPosition.current += delta;\n        setThumbPercent(index, clamp(currentPosition.current / size, 0, 1));\n      }\n    },\n    onMoveEnd() {\n      stateRef.current.setThumbDragging(index, false);\n    }\n  });\n\n  // Immediately register editability with the state\n  state.setThumbEditable(index, !isDisabled);\n\n  const {focusableProps} = useFocusable(\n    mergeProps(opts, {\n      onFocus: () => state.setFocusedThumb(index),\n      onBlur: () => state.setFocusedThumb(undefined)\n    }),\n    inputRef\n  );\n\n  let currentPointer = useRef<number | undefined>(undefined);\n  let onDown = (id?: number) => {\n    focusInput();\n    currentPointer.current = id;\n    state.setThumbDragging(index, true);\n\n    addGlobalListener(window, 'mouseup', onUp, false);\n    addGlobalListener(window, 'touchend', onUp, false);\n    addGlobalListener(window, 'pointerup', onUp, false);\n\n  };\n\n  let onUp = (e) => {\n    let id = e.pointerId ?? e.changedTouches?.[0].identifier;\n    if (id === currentPointer.current) {\n      focusInput();\n      state.setThumbDragging(index, false);\n      removeGlobalListener(window, 'mouseup', onUp, false);\n      removeGlobalListener(window, 'touchend', onUp, false);\n      removeGlobalListener(window, 'pointerup', onUp, false);\n    }\n  };\n\n  let thumbPosition = state.getThumbPercent(index);\n  if (isVertical || direction === 'rtl') {\n    thumbPosition = 1 - thumbPosition;\n  }\n\n  let interactions = !isDisabled ? mergeProps(\n    keyboardProps,\n    moveProps,\n    {\n      onMouseDown: (e: React.MouseEvent) => {\n        if (e.button !== 0 || e.altKey || e.ctrlKey || e.metaKey) {\n          return;\n        }\n        onDown();\n      },\n      onPointerDown: (e: React.PointerEvent) => {\n        if (e.button !== 0 || e.altKey || e.ctrlKey || e.metaKey) {\n          return;\n        }\n        onDown(e.pointerId);\n      },\n      onTouchStart: (e: React.TouchEvent) => {onDown(e.changedTouches[0].identifier);}\n    }\n  ) : {};\n\n  // We install mouse handlers for the drag motion on the thumb div, but\n  // not the key handler for moving the thumb with the slider.  Instead,\n  // we focus the range input, and let the browser handle the keyboard\n  // interactions; we then listen to input's onChange to update state.\n  return {\n    inputProps: mergeProps(focusableProps, fieldProps, {\n      type: 'range',\n      tabIndex: !isDisabled ? 0 : undefined,\n      min: state.getThumbMinValue(index),\n      max: state.getThumbMaxValue(index),\n      step: state.step,\n      value: value,\n      disabled: isDisabled,\n      'aria-orientation': orientation,\n      'aria-valuetext': state.getThumbValueLabel(index),\n      'aria-required': isRequired || undefined,\n      'aria-invalid': validationState === 'invalid' || undefined,\n      'aria-errormessage': opts['aria-errormessage'],\n      onChange: (e: ChangeEvent<HTMLInputElement>) => {\n        stateRef.current.setThumbValue(index, parseFloat(e.target.value));\n      }\n    }),\n    thumbProps: {\n      ...interactions,\n      style: {\n        position: 'absolute',\n        [isVertical ? 'top' : 'left']: `${thumbPosition * 100}%`,\n        transform: 'translate(-50%, -50%)',\n        touchAction: 'none'\n      }\n    },\n    labelProps,\n    isDragging: state.isThumbDragging(index),\n    isDisabled,\n    isFocused\n  };\n}\n", "import { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\nimport { mergeProps } from \"@react-aria/utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { SLIDER_THUMB_KEYS } from \"./__keys\";\nimport { SliderThumbStateReturn } from \"./SliderThumbState\";\n\nexport type SliderThumbOptions = RoleOptions &\n  Pick<SliderThumbStateReturn, \"thumbProps\">;\n\nexport type SliderThumbHTMLProps = RoleHTMLProps;\n\nexport type SliderThumbProps = SliderThumbOptions & SliderThumbHTMLProps;\n\nexport const useSliderThumb = createHook<\n  SliderThumbOptions,\n  SliderThumbHTMLProps\n>({\n  name: \"SliderThumb\",\n  compose: useRole,\n  keys: SLIDER_THUMB_KEYS,\n\n  useProps(options, htmlProps) {\n    const { thumbProps } = options;\n\n    return mergeProps(thumbProps, htmlProps);\n  },\n});\n\nexport const SliderThumb = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useSliderThumb,\n});\n", "import * as React from \"react\";\nimport { useSliderThumb } from \"@react-aria/slider\";\nimport { AriaSliderThumbProps } from \"@react-types/slider\";\n\nimport { SliderBaseStateReturn } from \"./SliderBaseState\";\n\nexport type SliderThumbState = {\n  /** A ref to the thumb input element. */\n  inputRef: React.RefObject<HTMLInputElement>;\n\n  /** Props for the root thumb element; handles the dragging motion. */\n  thumbProps: React.HTMLAttributes<HTMLElement>;\n\n  /** Props for the visually hidden range input element. */\n  inputProps: React.InputHTMLAttributes<HTMLInputElement>;\n\n  /** Props for the label element for this thumb (optional). */\n  labelProps: React.LabelHTMLAttributes<HTMLLabelElement>;\n};\n\nexport type SliderThumbActions = {};\n\nexport type SliderThumbStateReturn = SliderThumbState & SliderThumbActions;\n\nexport type SliderThumbInitialState = AriaSliderThumbProps & {\n  /** A ref to the track element. */\n  trackRef: React.RefObject<HTMLElement>;\n\n  state: SliderBaseStateReturn;\n};\n\nexport function useSliderThumbState(\n  props: SliderThumbInitialState,\n): SliderThumbStateReturn {\n  const { state, trackRef, ...thumbProps } = props;\n  const inputRef = React.useRef<HTMLInputElement>(null);\n  const sliderThumbProps = useSliderThumb(\n    {\n      inputRef,\n      trackRef,\n      ...thumbProps,\n    },\n    state,\n  );\n\n  return { ...sliderThumbProps, inputRef };\n}\n", "import { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\nimport { useForkRef } from \"reakit-utils\";\nimport { mergeProps } from \"@react-aria/utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { SLIDER_TRACK_KEYS } from \"./__keys\";\nimport { SliderStateReturn } from \"./SliderState\";\n\nexport type SliderTrackOptions = RoleOptions &\n  Pick<SliderStateReturn, \"trackProps\" | \"trackRef\">;\n\nexport type SliderTrackHTMLProps = RoleHTMLProps;\n\nexport type SliderTrackProps = SliderTrackOptions & SliderTrackHTMLProps;\n\nexport const useSliderTrack = createHook<\n  SliderTrackOptions,\n  SliderTrackHTMLProps\n>({\n  name: \"SliderTrack\",\n  compose: useRole,\n  keys: SLIDER_TRACK_KEYS,\n\n  useProps(options, htmlProps) {\n    const { trackProps, trackRef } = options;\n    const { ref: htmlRef, ...restHtmlProps } = htmlProps;\n\n    return mergeProps(trackProps, {\n      ref: useForkRef(trackRef, htmlRef),\n      ...restHtmlProps,\n    });\n  },\n});\n\nexport const SliderTrack = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useSliderTrack,\n});\n", "// Automatically generated\nexport const TIME_PICKER_COLUMN_STATE_KEYS = [\n  \"up\",\n  \"down\",\n  \"baseId\",\n  \"unstable_idCountRef\",\n  \"setBaseId\",\n  \"unstable_virtual\",\n  \"rtl\",\n  \"orientation\",\n  \"items\",\n  \"groups\",\n  \"currentId\",\n  \"loop\",\n  \"wrap\",\n  \"shift\",\n  \"unstable_moves\",\n  \"unstable_hasActiveWidget\",\n  \"unstable_includesBaseElement\",\n  \"registerItem\",\n  \"unregisterItem\",\n  \"registerGroup\",\n  \"unregisterGroup\",\n  \"move\",\n  \"next\",\n  \"previous\",\n  \"first\",\n  \"last\",\n  \"sort\",\n  \"unstable_setVirtual\",\n  \"setRTL\",\n  \"setOrientation\",\n  \"setCurrentId\",\n  \"setLoop\",\n  \"setWrap\",\n  \"setShift\",\n  \"reset\",\n  \"unstable_setIncludesBaseElement\",\n  \"unstable_setHasActiveWidget\",\n  \"popover\",\n  \"date\",\n  \"selected\",\n  \"setSelected\",\n  \"visible\",\n  \"columnType\",\n  \"restoreOldTime\",\n  \"updateOldTime\",\n] as const;\nexport const USE_TIME_PICKER_STATE_KEYS = [\n  \"baseId\",\n  \"visible\",\n  \"animated\",\n  \"modal\",\n  \"placement\",\n  \"unstable_fixed\",\n  \"unstable_flip\",\n  \"unstable_offset\",\n  \"gutter\",\n  \"unstable_preventOverflow\",\n  \"isDisabled\",\n  \"isReadOnly\",\n  \"pickerId\",\n  \"dialogId\",\n  \"segmentFocus\",\n  \"value\",\n  \"defaultValue\",\n  \"onChange\",\n  \"formatOptions\",\n  \"placeholderDate\",\n  \"autoFocus\",\n] as const;\nexport const TIME_PICKER_STATE_KEYS = [\n  \"fieldValue\",\n  \"setFieldValue\",\n  \"segments\",\n  \"dateFormatter\",\n  \"increment\",\n  \"decrement\",\n  \"incrementPage\",\n  \"decrementPage\",\n  \"setSegment\",\n  \"confirmPlaceholder\",\n  \"baseId\",\n  \"unstable_idCountRef\",\n  \"setBaseId\",\n  \"unstable_virtual\",\n  \"rtl\",\n  \"orientation\",\n  \"items\",\n  \"groups\",\n  \"currentId\",\n  \"loop\",\n  \"wrap\",\n  \"shift\",\n  \"unstable_moves\",\n  \"unstable_hasActiveWidget\",\n  \"unstable_includesBaseElement\",\n  \"registerItem\",\n  \"unregisterItem\",\n  \"registerGroup\",\n  \"unregisterGroup\",\n  \"move\",\n  \"next\",\n  \"previous\",\n  \"up\",\n  \"down\",\n  \"first\",\n  \"last\",\n  \"sort\",\n  \"unstable_setVirtual\",\n  \"setRTL\",\n  \"setOrientation\",\n  \"setCurrentId\",\n  \"setLoop\",\n  \"setWrap\",\n  \"setShift\",\n  \"reset\",\n  \"unstable_setIncludesBaseElement\",\n  \"unstable_setHasActiveWidget\",\n  \"visible\",\n  \"animated\",\n  \"animating\",\n  \"show\",\n  \"hide\",\n  \"toggle\",\n  \"setVisible\",\n  \"setAnimated\",\n  \"stopAnimation\",\n  \"modal\",\n  \"unstable_disclosureRef\",\n  \"setModal\",\n  \"unstable_referenceRef\",\n  \"unstable_popoverRef\",\n  \"unstable_arrowRef\",\n  \"unstable_popoverStyles\",\n  \"unstable_arrowStyles\",\n  \"unstable_originalPlacement\",\n  \"unstable_update\",\n  \"placement\",\n  \"place\",\n  \"pickerId\",\n  \"dialogId\",\n  \"isDisabled\",\n  \"isReadOnly\",\n  \"segmentFocus\",\n  \"time\",\n  \"hours\",\n  \"minutes\",\n  \"meridies\",\n  \"hourState\",\n  \"minuteState\",\n  \"meridiesState\",\n] as const;\nexport const TIME_PICKER_KEYS = [\n  ...TIME_PICKER_COLUMN_STATE_KEYS,\n  ...TIME_PICKER_STATE_KEYS,\n] as const;\nexport const TIME_PICKER_COLUMN_KEYS = TIME_PICKER_KEYS;\nexport const TIME_PICKER_COLUMN_VALUE_KEYS = [\n  ...TIME_PICKER_COLUMN_KEYS,\n  \"value\",\n] as const;\nexport const TIME_PICKER_CONTENT_KEYS = TIME_PICKER_COLUMN_KEYS;\nexport const TIME_PICKER_SEGMENT_KEYS = TIME_PICKER_CONTENT_KEYS;\nexport const TIME_PICKER_SEGMENT_FIELD_KEYS = TIME_PICKER_SEGMENT_KEYS;\nexport const TIME_PICKER_TRIGGER_KEYS = TIME_PICKER_SEGMENT_FIELD_KEYS;\n", "import {\n  PickerBaseHTMLProps,\n  PickerBaseOptions,\n  usePickerBase,\n} from \"../picker-base\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { TIME_PICKER_KEYS } from \"./__keys\";\n\nexport type TimePickerOptions = PickerBaseOptions;\n\nexport type TimePickerHTMLProps = PickerBaseHTMLProps;\n\nexport type TimePickerProps = TimePickerOptions & TimePickerHTMLProps;\n\nexport const useTimePicker = createHook<TimePickerOptions, TimePickerHTMLProps>(\n  {\n    name: \"TimePicker\",\n    compose: usePickerBase,\n    keys: TIME_PICKER_KEYS,\n  },\n);\n\nexport const TimePicker = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useTimePicker,\n});\n", "import '../_rollupPluginBabelHelpers-1f0bf8c2.js';\nimport 'reakit-system/createComponent';\nimport 'reakit-system/createHook';\nimport 'reakit-utils/shallowEqual';\nimport 'react';\nimport 'reakit-utils/useForkRef';\nimport 'reakit-utils/isButton';\nimport 'reakit-warning';\nimport 'reakit-utils/useLiveRef';\nimport 'reakit-utils/isSelfTarget';\nimport 'reakit-utils/useIsomorphicEffect';\nimport 'reakit-utils/hasFocusWithin';\nimport 'reakit-utils/isPortalEvent';\nimport 'reakit-utils/dom';\nimport 'reakit-utils/tabbable';\nimport '../Role/Role.js';\nimport '../Tabbable/Tabbable.js';\nimport '../Clickable/Clickable.js';\nimport 'reakit-utils/useSealedState';\nimport 'reakit-system/useCreateElement';\nimport 'reakit-utils/getDocument';\nimport 'reakit-utils/fireBlurEvent';\nimport 'reakit-utils/fireKeyboardEvent';\nimport 'reakit-utils/canUseDOM';\nimport 'reakit-utils/getNextActiveElementOnBlur';\nimport '../reverse-30eaa122.js';\nimport '../getCurrentId-5aa9849e.js';\nimport '../findEnabledItemById-8ddca752.js';\nimport '../__keys-6742f591.js';\nimport '../userFocus-e16425e3.js';\nexport { Composite, Composite as unstable_Composite, useComposite } from './Composite.js';\nimport 'reakit-utils/isTextField';\nimport 'reakit-utils/ensureFocus';\nimport '../Id/IdProvider.js';\nimport '../Id/Id.js';\nimport 'reakit-utils/fireEvent';\nimport '../setTextFieldValue-0a221f4e.js';\nexport { CompositeItem, CompositeItem as unstable_CompositeItem, useCompositeItem } from './CompositeItem.js';\nimport '../Group/Group.js';\nexport { CompositeGroup, CompositeGroup as unstable_CompositeGroup, useCompositeGroup } from './CompositeGroup.js';\nimport 'reakit-utils/applyState';\nimport '../Id/IdState.js';\nexport { useCompositeState as unstable_useCompositeState, useCompositeState } from './CompositeState.js';\nexport { unstable_CompositeItemWidget, unstable_useCompositeItemWidget } from './CompositeItemWidget.js';\n", "import {\n  CompositeHTMLProps,\n  CompositeOptions,\n  useComposite,\n} from \"reakit/Composite\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { TIME_PICKER_COLUMN_KEYS } from \"./__keys\";\nimport { TimePickerColumnStateReturn } from \"./TimePickerColumnState\";\n\nexport type TimePickerColumnOptions = CompositeOptions &\n  Pick<TimePickerColumnStateReturn, \"columnType\">;\n\nexport type TimePickerColumnHTMLProps = CompositeHTMLProps;\n\nexport type TimePickerColumnProps = TimePickerColumnOptions &\n  TimePickerColumnHTMLProps;\n\nexport const useTimePickerColumn = createHook<\n  TimePickerColumnOptions,\n  TimePickerColumnHTMLProps\n>({\n  name: \"TimePickerColumn\",\n  compose: useComposite,\n  keys: TIME_PICKER_COLUMN_KEYS,\n\n  useProps({ columnType }, htmlProps) {\n    return {\n      role: \"listbox\",\n      \"aria-label\": columnType,\n      ...htmlProps,\n    };\n  },\n});\n\nexport const TimePickerColumn = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useTimePickerColumn,\n});\n", "import * as React from \"react\";\nimport { useCompositeState } from \"reakit\";\nimport { ValueBase } from \"@react-types/shared\";\n\nimport { PickerBaseStateReturn } from \"../picker-base\";\nimport { useControllableState } from \"../utils\";\n\nimport { getSelectedDateFromValue, getSelectedValueFromDate } from \"./helpers\";\n\nexport type ColumnType = \"hour\" | \"minute\" | \"meridian\";\n\nexport interface TimePickerColumnInitialState extends ValueBase<Date> {\n  /**\n   * Popover visible state\n   */\n  visible?: boolean;\n  /**\n   * TimePicker column type\n   *\n   * @default \"hour\"\n   */\n  columnType?: ColumnType;\n  popover?: PickerBaseStateReturn;\n  restoreOldTime?(): Date;\n  updateOldTime?(): void;\n}\n\nexport const useTimePickerColumnState = (\n  props: TimePickerColumnInitialState = {},\n) => {\n  const {\n    defaultValue = new Date(),\n    value,\n    onChange,\n    visible,\n    columnType = \"hour\",\n    popover,\n    updateOldTime,\n    restoreOldTime,\n  } = props;\n\n  const [date, setDate] = useControllableState({\n    value,\n    defaultValue,\n    onChange,\n  });\n\n  const selected = getSelectedValueFromDate(date, columnType);\n\n  const composite = useCompositeState({\n    loop: true,\n    wrap: true,\n    orientation: \"vertical\",\n  });\n\n  const [count, setCount] = React.useState(selected);\n\n  // keep in sync\n  React.useEffect(() => {\n    setCount(selected);\n\n    if (!visible) {\n      updateOldTime?.();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selected, visible]);\n\n  const setSelected = React.useCallback(\n    (value: number, close?: boolean) => {\n      setDate(getSelectedDateFromValue(value, date, columnType));\n      close && popover?.hide();\n    },\n    [columnType, date, popover, setDate],\n  );\n\n  const comp = {\n    ...composite,\n    up: (unstable_allTheWay?: boolean) => {\n      composite.up(unstable_allTheWay);\n      setCount(prev => {\n        let count = prev - 1;\n        if (count < 0) {\n          count = composite.unstable_idCountRef.current - 1;\n        }\n        return count;\n      });\n    },\n    down: (unstable_allTheWay?: boolean) => {\n      composite.down(unstable_allTheWay);\n      setCount(prev => {\n        let count = (prev + 1) % composite.unstable_idCountRef.current;\n        return count;\n      });\n    },\n  };\n\n  // if count is incrementing while the popover is not visible,\n  // (ie: when users are using the segment control to increase the date)\n  // then also set the currentId of composite to the corret count index,\n  // so that when user opens the popover later it does not cause any syncing issues.\n  React.useEffect(() => {\n    // add 1 to meridian & minute beause they are zero based index\n    const id = count + (columnType === \"hour\" ? 0 : 1);\n    composite.setCurrentId(`${composite.baseId}-${id}`);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [columnType, count, visible]);\n\n  React.useEffect(() => {\n    setSelected(count);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [count]);\n\n  return {\n    popover,\n    date,\n    selected,\n    setSelected,\n    visible,\n    columnType,\n    restoreOldTime,\n    updateOldTime,\n    ...comp,\n  };\n};\n\nexport type TimePickerColumnStateReturn = ReturnType<\n  typeof useTimePickerColumnState\n>;\n", "import { isString } from \"@chakra-ui/utils\";\n\nimport { ColumnType } from \"./TimePickerColumnState\";\n\n// As per https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#times\nexport function parseTime(timeValue: string | undefined) {\n  if (timeValue == null || !isString(timeValue)) return;\n\n  const timeRegex = timeValue.match(/(\\d\\d)(:(\\d\\d)){1,2}/i);\n  if (timeRegex == null) return;\n\n  const time = timeValue.split(\":\");\n  const date = new Date();\n\n  if (+time[0] < 0 || +time[0] > 23 || +time[1] < 0 || +time[1] > 59) return;\n\n  date.setHours(+time[0]);\n  date.setMinutes(+time[1]);\n  date.setSeconds(0);\n\n  if (time[2]) {\n    if (+time[2] < 0 || +time[2] > 60) return;\n    date.setSeconds(+time[2]);\n  }\n\n  return date;\n}\n\nexport function stringifyTime(date: Date) {\n  return date.toString().slice(16, 24);\n}\n\nexport function getSelectedValueFromDate(date: Date, type: ColumnType) {\n  if (type === \"minute\") return date.getMinutes();\n  if (type === \"meridian\") return date.getHours() >= 12 ? 1 : 0;\n  return date.getHours() % 12 || 12;\n}\n\nexport function getSelectedDateFromValue(\n  value: number,\n  date: Date,\n  type: ColumnType,\n) {\n  if (type === \"minute\") {\n    return new Date(date.setMinutes(value));\n  }\n\n  if (type === \"meridian\") {\n    let hours = date.getHours() % 12;\n\n    if (value === 1) {\n      hours = hours + 12;\n    } else {\n      hours = hours % 12;\n    }\n\n    return new Date(date.setHours(hours));\n  }\n\n  if (date.getHours() >= 12) {\n    if (value !== 12) {\n      value = value + 12;\n    }\n  } else {\n    if (value !== 12) {\n      value = value % 12;\n    } else {\n      value = 0;\n    }\n  }\n\n  return new Date(date.setHours(value));\n}\n", "import * as React from \"react\";\nimport {\n  ButtonHTMLProps,\n  ButtonOptions,\n  CompositeItemHTMLProps,\n  CompositeItemOptions,\n  useButton,\n  useCompositeItem,\n} from \"reakit\";\nimport { useForkRef } from \"reakit-utils\";\nimport { callAllHandlers } from \"@chakra-ui/utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { TIME_PICKER_COLUMN_VALUE_KEYS } from \"./__keys\";\nimport { getSelectedValueFromDate } from \"./helpers\";\nimport { TimePickerColumnStateReturn } from \"./TimePickerColumnState\";\n\nexport type TimePickerColumnValueOptions = ButtonOptions &\n  CompositeItemOptions &\n  Pick<\n    TimePickerColumnStateReturn,\n    | \"selected\"\n    | \"move\"\n    | \"setSelected\"\n    | \"visible\"\n    | \"restoreOldTime\"\n    | \"updateOldTime\"\n    | \"columnType\"\n    | \"date\"\n    | \"popover\"\n  > & {\n    value: number;\n  };\n\nexport type TimePickerColumnValueHTMLProps = ButtonHTMLProps &\n  CompositeItemHTMLProps;\n\nexport type TimePickerColumnValueProps = TimePickerColumnValueOptions &\n  TimePickerColumnValueHTMLProps;\n\nexport const useTimePickerColumnValue = createHook<\n  TimePickerColumnValueOptions,\n  TimePickerColumnValueHTMLProps\n>({\n  name: \"TimePickerColumnValue\",\n  compose: [useButton, useCompositeItem],\n  keys: TIME_PICKER_COLUMN_VALUE_KEYS,\n\n  useProps(\n    options,\n    {\n      ref: htmlRef,\n      onClick: htmlOnClick,\n      onKeyDown: htmlOnKeyDown,\n      ...htmlProps\n    },\n  ) {\n    const {\n      popover,\n      setCurrentId,\n      selected,\n      value,\n      id,\n      setSelected,\n      visible,\n      date,\n      updateOldTime,\n      restoreOldTime,\n      baseId,\n      move,\n      columnType,\n    } = options;\n    const ref = React.useRef<HTMLElement>();\n\n    React.useEffect(() => {\n      if (selected === value) {\n        if (!id) return;\n\n        setCurrentId?.(id);\n        ref?.current?.scrollIntoView();\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [visible]);\n\n    const handleCancellation = () => {\n      const oldTime = restoreOldTime?.();\n      if (!oldTime) return;\n      if (oldTime.getTime() === date.getTime()) {\n        popover?.hide();\n      }\n\n      const idx = getSelectedValueFromDate(oldTime, columnType);\n      const id = idx + (columnType === \"hour\" ? 0 : 1);\n      ref?.current?.scrollIntoView();\n\n      move(`${baseId}-${id}`);\n    };\n\n    const handleSubmit = () => {\n      setSelected(value, true);\n      updateOldTime?.();\n    };\n\n    const onClick = React.useCallback(() => {\n      setSelected(value);\n    }, [setSelected, value]);\n\n    const onKeyDown = React.useCallback(\n      (e: React.KeyboardEvent<any>) => {\n        e.preventDefault();\n        if (e.key === \"Escape\") {\n          handleCancellation();\n          return;\n        }\n        if (e.key === \"Enter\") {\n          handleSubmit();\n          return;\n        }\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [restoreOldTime, updateOldTime, setSelected, value],\n    );\n\n    return {\n      role: \"option\",\n      \"aria-selected\": selected === value,\n      ref: useForkRef(ref, htmlRef),\n      onClick: callAllHandlers(htmlOnClick, onClick),\n      onKeyDown: callAllHandlers(htmlOnKeyDown, onKeyDown),\n      ...htmlProps,\n    };\n  },\n});\n\nexport const TimePickerColumnValue = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useTimePickerColumnValue,\n});\n", "import * as React from \"react\";\nimport { createOnKeyDown, useForkRef } from \"reakit-utils\";\nimport { focus, getNextTabbable, getPreviousTabbable } from \"@chakra-ui/utils\";\n\nimport {\n  PickerBaseContentHTMLProps,\n  PickerBaseContentOptions,\n  usePickerBaseContent,\n} from \"../picker-base\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { TIME_PICKER_CONTENT_KEYS } from \"./__keys\";\n\nexport type TimePickerContentOptions = PickerBaseContentOptions;\n\nexport type TimePickerContentHTMLProps = PickerBaseContentHTMLProps;\n\nexport type TimePickerContentProps = TimePickerContentOptions &\n  TimePickerContentHTMLProps;\n\nexport const useTimePickerContent = createHook<\n  TimePickerContentOptions,\n  TimePickerContentHTMLProps\n>({\n  name: \"TimePickerContent\",\n  compose: usePickerBaseContent,\n  keys: TIME_PICKER_CONTENT_KEYS,\n\n  useProps(_, { ref: htmlRef, onKeyDown: htmlOnKeyDown, ...htmlProps }) {\n    const ref = React.useRef<HTMLElement>(null);\n\n    const onKeyDown = React.useMemo(() => {\n      return createOnKeyDown({\n        onKeyDown: htmlOnKeyDown,\n        keyMap: () => {\n          return {\n            ArrowRight: () => {\n              if (!ref.current) return;\n\n              const nextTabbableElement = getNextTabbable(ref.current);\n              if (nextTabbableElement) {\n                focus(nextTabbableElement);\n              }\n            },\n            ArrowLeft: () => {\n              if (!ref.current) return;\n\n              const previousTabbableElement = getPreviousTabbable(ref.current);\n              if (previousTabbableElement) {\n                focus(previousTabbableElement);\n              }\n            },\n          };\n        },\n      });\n    }, [htmlOnKeyDown]);\n\n    return { ref: useForkRef(ref, htmlRef), onKeyDown, ...htmlProps };\n  },\n});\n\nexport const TimePickerContent = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useTimePickerContent,\n});\n", "import { SegmentHTMLProps, SegmentOptions, useSegment } from \"../segment\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { TIME_PICKER_SEGMENT_KEYS } from \"./__keys\";\nimport { TimePickerStateReturn } from \"./TimePickerState\";\n\nexport type TimePickerSegmentOptions = SegmentOptions & TimePickerStateReturn;\n\nexport type TimePickerSegmentHTMLProps = SegmentHTMLProps;\n\nexport type TimePickerSegmentProps = TimePickerSegmentOptions &\n  TimePickerSegmentHTMLProps;\n\nexport const useTimePickerSegment = createHook<\n  TimePickerSegmentOptions,\n  TimePickerSegmentHTMLProps\n>({\n  name: \"TimePickerSegment\",\n  compose: useSegment,\n  keys: TIME_PICKER_SEGMENT_KEYS,\n});\n\nexport const TimePickerSegment = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useTimePickerSegment,\n});\n", "import {\n  SegmentFieldHTMLProps,\n  SegmentFieldOptions,\n  useSegmentField,\n} from \"../segment\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { TIME_PICKER_SEGMENT_FIELD_KEYS } from \"./__keys\";\n\nexport type TimePickerSegmentFieldOptions = SegmentFieldOptions;\n\nexport type TimePickerSegmentFieldHTMLProps = SegmentFieldHTMLProps;\n\nexport type TimePickerSegmentFieldProps = TimePickerSegmentFieldOptions &\n  TimePickerSegmentFieldHTMLProps;\n\nexport const useTimePickerSegmentField = createHook<\n  TimePickerSegmentFieldOptions,\n  TimePickerSegmentFieldHTMLProps\n>({\n  name: \"TimePickerSegmentField\",\n  compose: useSegmentField,\n  keys: TIME_PICKER_SEGMENT_FIELD_KEYS,\n});\n\nexport const TimePickerSegmentField = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useTimePickerSegmentField,\n});\n", "import * as React from \"react\";\nimport { useDateFormatter } from \"@react-aria/i18n\";\nimport { ValueBase } from \"@react-types/shared\";\n\nimport { PickerBaseInitialState, usePickerBaseState } from \"../picker-base\";\nimport { SegmentInitialState, useSegmentState } from \"../segment\";\nimport { useControllableState } from \"../utils\";\nimport { announce } from \"../utils/LiveAnnouncer\";\n\nimport { parseTime, stringifyTime } from \"./helpers\";\nimport { useTimePickerColumnState } from \"./TimePickerColumnState\";\n\nexport type TimePickerInitialState = PickerBaseInitialState &\n  ValueBase<string> &\n  Pick<Partial<SegmentInitialState>, \"formatOptions\" | \"placeholderDate\"> & {\n    /**\n     * Whether the element should receive focus on render.\n     */\n    autoFocus?: boolean;\n  };\n\nexport const useTimePickerState = (props: TimePickerInitialState = {}) => {\n  const {\n    value: initialValue,\n    defaultValue: defaultValueProp = stringifyTime(new Date()),\n    onChange: onChangeProp,\n    formatOptions = { timeStyle: \"short\" },\n    placeholderDate,\n    autoFocus,\n  } = props;\n\n  const onChange = React.useCallback(\n    (date: Date) => {\n      return onChangeProp?.(stringifyTime(date));\n    },\n    [onChangeProp],\n  );\n\n  const [time, setTime] = useControllableState({\n    value: parseTime(initialValue),\n    defaultValue: parseTime(defaultValueProp) || new Date(),\n    onChange,\n  });\n\n  const [oldTime, setOldTime] = React.useState(new Date(time));\n\n  const updateOldTime = () => {\n    setOldTime(new Date(time));\n  };\n\n  const restoreOldTime = () => {\n    setTime(new Date(oldTime));\n    return new Date(oldTime);\n  };\n\n  const segmentState = useSegmentState({\n    value: time,\n    onChange: setTime,\n    formatOptions,\n    placeholderDate,\n  });\n\n  const popover = usePickerBaseState({\n    segmentFocus: segmentState.first,\n    ...props,\n  });\n\n  const setTimeProp = (date: Date) => {\n    setTime(date);\n  };\n\n  const hourState = useTimePickerColumnState({\n    columnType: \"hour\",\n    value: time,\n    onChange: setTimeProp,\n    visible: popover.visible,\n    popover,\n    updateOldTime,\n    restoreOldTime,\n  });\n\n  const minuteState = useTimePickerColumnState({\n    columnType: \"minute\",\n    value: time,\n    onChange: setTimeProp,\n    visible: popover.visible,\n    popover,\n    updateOldTime,\n    restoreOldTime,\n  });\n\n  const meridiesState = useTimePickerColumnState({\n    columnType: \"meridian\",\n    value: time,\n    onChange: setTimeProp,\n    visible: popover.visible,\n    popover,\n    updateOldTime,\n    restoreOldTime,\n  });\n\n  const hours = [...new Array(13).keys()].slice(1);\n  const minutes = [...new Array(60).keys()];\n  const meridies = [\"AM\", \"PM\"];\n\n  const dateFormatter = useDateFormatter({ timeStyle: \"medium\" });\n\n  const announceSelectedDate = () => {\n    announce(`Selected Time: ${dateFormatter.format(time)}`);\n  };\n\n  React.useEffect(() => {\n    if (autoFocus) {\n      segmentState.first();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [autoFocus, segmentState.first]);\n\n  React.useEffect(() => {\n    if (popover.visible === false && oldTime !== new Date(time)) {\n      setOldTime(new Date(time));\n      announceSelectedDate();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [popover.visible]);\n\n  return {\n    time,\n    hours,\n    minutes,\n    meridies,\n    hourState,\n    minuteState,\n    meridiesState,\n    ...popover,\n    ...segmentState,\n  };\n};\n\nexport type TimePickerStateReturn = ReturnType<typeof useTimePickerState>;\n", "import {\n  PickerBaseHTMLProps,\n  PickerBaseOptions,\n  usePickerBaseTrigger,\n} from \"../picker-base\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { TIME_PICKER_TRIGGER_KEYS } from \"./__keys\";\nimport { TimePickerStateReturn } from \"./TimePickerState\";\n\nexport type TimePickerTriggerOptions = PickerBaseOptions &\n  TimePickerStateReturn;\n\nexport type TimePickerTriggerHTMLProps = PickerBaseHTMLProps;\n\nexport type TimePickerTriggerProps = TimePickerTriggerOptions &\n  TimePickerTriggerHTMLProps;\n\nexport const useTimePickerTrigger = createHook<\n  TimePickerTriggerOptions,\n  TimePickerTriggerHTMLProps\n>({\n  name: \"TimePickerTrigger\",\n  compose: usePickerBaseTrigger,\n  keys: TIME_PICKER_TRIGGER_KEYS,\n\n  useProps(_, htmlProps) {\n    return {\n      \"aria-haspopup\": \"listbox\",\n      ...htmlProps,\n    };\n  },\n});\n\nexport const TimePickerTrigger = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useTimePickerTrigger,\n});\n", "// Automatically generated\nexport const DEFAULT_TOAST_KEYS = [] as const;\nexport const DEFAULT_TOAST_PROVIDER_KEYS = [] as const;\nexport const CONFIGURABLE_TOAST_KEYS = [] as const;\nexport const TOAST_KEYS = [] as const;\n", "import * as React from \"react\";\nimport { createContext } from \"@chakra-ui/react-utils\";\n\nimport type {\n  AddToast,\n  CreateToast,\n  CreateToastStoreReturn,\n  DefaultToastOptions,\n  DefaultToastProviderOptions,\n  DismissToast,\n  RemoveToast,\n  ShowToast,\n  ToastHandlers,\n  ToastOptions,\n  ToastStore,\n  UpdateAllToast,\n  UpdateFieldToast,\n  UpdateToast,\n} from \"./CreateToastContext.types\";\nimport { ActionType, DefaultToast, genId, useToastState } from \"./index\";\n\nexport function createToastStore<T extends DefaultToast, Content>(\n  defaultOptions: DefaultToastOptions<T>,\n) {\n  const [ToastStoreProvider, useToastStore] = createContext<ToastStore<T>>({\n    strict: false,\n    name: \"ToastsState\",\n    errorMessage: \"useToastStore must be used within ToastProvider\",\n  });\n\n  const [CreateToastProvider, useCreateToast] = createContext<\n    CreateToast<T, Content>\n  >({\n    strict: false,\n    name: \"CreateToast\",\n    errorMessage: \"useCreateToast must be used within ToastProvider\",\n  });\n\n  const [ToastHandlersProvider, useToastHandlers] = createContext<\n    ToastHandlers<T, Content>\n  >({\n    strict: false,\n    name: \"ToastHandlers\",\n    errorMessage: \"useToastHandlers must be used within ToastProvider\",\n  });\n\n  const ToastProvider: React.FC<DefaultToastProviderOptions<T>> = props => {\n    const { children, ...rest } = props;\n    const { toasts, dispatch } = useToastState<T>();\n    const context = React.useMemo(\n      () => ({\n        toasts,\n        dispatch,\n      }),\n      [toasts, dispatch],\n    );\n\n    const createToast = React.useCallback(\n      (content: Content, opts?: ToastOptions<T>) =>\n        ({\n          visible: false,\n          reverseOrder: true,\n          createdAt: Date.now(),\n          ...defaultOptions,\n          ...rest,\n          ...opts,\n          content,\n          id: opts?.id || genId(),\n        } as unknown as T),\n      // Since its only a few object https://twitter.com/dan_abramov/status/1104414272753487872\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [JSON.stringify(rest)],\n    );\n\n    const addToast: AddToast<T, Content> = React.useCallback(\n      (content, options) => {\n        const toast = createToast(content, options);\n\n        dispatch({\n          type: ActionType.ADD_TOAST,\n          toast: { ...toast, visible: true },\n        });\n\n        return toast.id;\n      },\n      [createToast, dispatch],\n    );\n\n    const showToast: ShowToast<T, Content> = React.useCallback(\n      (content, options) => {\n        const toast = createToast(content, options);\n\n        dispatch({ type: ActionType.ADD_TOAST, toast });\n\n        setTimeout(() => {\n          dispatch({\n            type: ActionType.UPDATE_TOAST,\n            toast: { ...toast, visible: true },\n          });\n        }, 0);\n\n        return toast.id;\n      },\n      [createToast, dispatch],\n    );\n\n    const updateToast: UpdateToast<T> = React.useCallback(\n      (toastId, toast) => {\n        dispatch({\n          type: ActionType.UPDATE_TOAST,\n          toast: { ...toast, id: toastId },\n        });\n      },\n      [dispatch],\n    );\n\n    const updateFieldToast: UpdateFieldToast<T> = React.useCallback(\n      (field, fieldValue, toast) => {\n        dispatch({\n          type: ActionType.UPDATE_FIELD_TOAST,\n          field,\n          fieldValue,\n          toast,\n        });\n      },\n      [dispatch],\n    );\n\n    const updateAllToast: UpdateAllToast<T> = React.useCallback(\n      toast => {\n        dispatch({ type: ActionType.UPDATE_ALL_TOAST, toast });\n      },\n      [dispatch],\n    );\n\n    const dismissToast: DismissToast = React.useCallback(\n      toastId => {\n        const unmountDuration = defaultOptions.animationDuration;\n\n        dispatch({ type: ActionType.DISMISS_TOAST, toastId });\n\n        setTimeout(() => {\n          dispatch({ type: ActionType.REMOVE_TOAST, toastId });\n        }, unmountDuration);\n      },\n      [dispatch],\n    );\n\n    const removeToast: RemoveToast = React.useCallback(\n      toastId => {\n        dispatch({ type: ActionType.REMOVE_TOAST, toastId });\n      },\n      [dispatch],\n    );\n\n    return (\n      <ToastStoreProvider value={context}>\n        <CreateToastProvider value={{ createToast }}>\n          <ToastHandlersProvider\n            value={{\n              addToast,\n              showToast,\n              updateToast,\n              updateFieldToast,\n              updateAllToast,\n              dismissToast,\n              removeToast,\n            }}\n          >\n            {children}\n          </ToastHandlersProvider>\n        </CreateToastProvider>\n      </ToastStoreProvider>\n    );\n  };\n\n  ToastProvider.displayName = \"ToastStoreProvider\";\n\n  return [\n    ToastProvider,\n    useToastStore,\n    useCreateToast,\n    useToastHandlers,\n  ] as CreateToastStoreReturn<T, Content>;\n}\n", "import { DefaultToast } from \"../index\";\n\nexport const genId = (() => {\n  let count = 0;\n  return () => {\n    return (++count).toString();\n  };\n})();\n\nexport const getToast = <T extends DefaultToast>(\n  toasts: T[],\n  toastId: string,\n) => {\n  const index = toasts.findIndex(toast => toast.id === toastId);\n  return toasts[index];\n};\n", "import * as React from \"react\";\n\nimport { Action, ActionType, DefaultToast, State } from \"./ToastTypes\";\n\nconst TOAST_LIMIT = 20;\n\nconst reducer = <T extends DefaultToast>(\n  state: State<T>,\n  action: Action<T>,\n): State<T> => {\n  switch (action.type) {\n    case ActionType.ADD_TOAST: {\n      const maxToasts = action.maxToasts || TOAST_LIMIT;\n\n      return {\n        ...state,\n        toasts: action.toast.reverseOrder\n          ? [...state.toasts, action.toast].slice(-maxToasts)\n          : [action.toast, ...state.toasts].slice(-maxToasts),\n      };\n    }\n\n    case ActionType.UPDATE_TOAST:\n      return {\n        ...state,\n        toasts: state.toasts.map(t =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t,\n        ),\n      };\n\n    // Update toast by finding field value\n    case ActionType.UPDATE_FIELD_TOAST:\n      return {\n        ...state,\n        toasts: state.toasts.map(t =>\n          t[action.field] === action.fieldValue ? { ...t, ...action.toast } : t,\n        ),\n      };\n\n    case ActionType.UPDATE_ALL_TOAST:\n      return {\n        ...state,\n        toasts: state.toasts.map(t => ({ ...t, ...action.toast })),\n      };\n\n    case ActionType.UPSERT_TOAST:\n      const { toast } = action;\n      return state.toasts.find(t => t.id === toast.id)\n        ? reducer(state, { type: ActionType.UPDATE_TOAST, toast })\n        : reducer(state, { type: ActionType.ADD_TOAST, toast });\n\n    case ActionType.DISMISS_TOAST:\n      return {\n        ...state,\n        toasts: state.toasts.map(t =>\n          t.id === action.toastId || action.toastId === undefined\n            ? {\n                ...t,\n                visible: false,\n              }\n            : t,\n        ),\n      };\n\n    case ActionType.REMOVE_TOAST:\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        };\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.filter(t => t.id !== action.toastId),\n      };\n  }\n};\n\nconst initialState = { toasts: [] };\n\nexport const useToastState = <T extends DefaultToast>(): StateReturnType<T> => {\n  const [state, dispatch] = React.useReducer<\n    React.Reducer<State<T>, Action<T>>\n  >(reducer, initialState);\n\n  return { toasts: state.toasts, dispatch };\n};\n\nexport interface StateReturnType<T> {\n  toasts: T[];\n  dispatch: React.Dispatch<Action<T>>;\n}\n", "export interface DefaultToast {\n  id: string;\n  visible: boolean;\n  reverseOrder: boolean;\n  animationDuration: number;\n}\n\nexport type TimerToast = DefaultToast & {\n  createdAt: number;\n  pauseDuration: number;\n  pausedAt: number | null;\n  autoDismiss: boolean;\n  dismissDuration: number;\n};\n\nexport interface State<T> {\n  toasts: T[];\n}\n\nexport enum ActionType {\n  ADD_TOAST,\n  UPSERT_TOAST,\n  UPDATE_TOAST,\n  UPDATE_FIELD_TOAST,\n  UPDATE_ALL_TOAST,\n  DISMISS_TOAST,\n  REMOVE_TOAST,\n}\n\nexport type Action<T> =\n  | {\n      type: ActionType.ADD_TOAST;\n      toast: T;\n      maxToasts?: number;\n    }\n  | {\n      type: ActionType.UPSERT_TOAST;\n      toast: T;\n    }\n  | {\n      type: ActionType.UPDATE_TOAST;\n      toast: Partial<T>;\n    }\n  | {\n      type: ActionType.UPDATE_FIELD_TOAST;\n      field: keyof T;\n      fieldValue: any;\n      toast: Partial<T>;\n    }\n  | {\n      type: ActionType.UPDATE_ALL_TOAST;\n      toast: Partial<T>;\n    }\n  | {\n      type: ActionType.DISMISS_TOAST;\n      toastId?: string;\n    }\n  | {\n      type: ActionType.REMOVE_TOAST;\n      toastId?: string;\n    };\n", "import React from \"react\";\n\nimport { DismissToast, UpdateToast } from \"./CreateToastContext.types\";\nimport { getToast } from \"./helpers\";\nimport { TimerToast } from \"./ToastTypes\";\n\nexport const useToastTimer = (\n  toasts: TimerToast[],\n  updateToast: UpdateToast<TimerToast>,\n  dismissToast: DismissToast,\n) => {\n  React.useEffect(() => {\n    const now = Date.now();\n    const timeouts = toasts.map(t => {\n      if (!t.autoDismiss) return undefined;\n      if (t.pausedAt) return undefined;\n\n      const durationLeft =\n        (t.dismissDuration || 0) + t.pauseDuration - (now - t.createdAt);\n\n      if (durationLeft < 0) {\n        if (t.visible) {\n          dismissToast(t.id);\n        }\n        return undefined;\n      }\n\n      return setTimeout(() => {\n        dismissToast(t.id);\n      }, durationLeft);\n    });\n\n    return () => {\n      timeouts.forEach(timeout => timeout && clearTimeout(timeout));\n    };\n  }, [toasts, dismissToast]);\n\n  const pauseTimer = React.useCallback(\n    (toastId: string) => {\n      const toast = getToast<TimerToast>(toasts, toastId);\n\n      if (!toast?.autoDismiss) return;\n\n      updateToast(toastId, { pausedAt: Date.now() });\n    },\n    [toasts, updateToast],\n  );\n\n  const resumeTimer = React.useCallback(\n    (toastId: string) => {\n      const toast = getToast(toasts, toastId);\n\n      if (!toast?.autoDismiss) return;\n\n      const now = Date.now();\n      const diff = now - (toast.pausedAt || 0);\n\n      updateToast(toastId, {\n        pausedAt: null,\n        pauseDuration: toast.pauseDuration + diff,\n      });\n    },\n    [toasts, updateToast],\n  );\n\n  return { resumeTimer, pauseTimer };\n};\n", "import React from \"react\";\nimport { Portal } from \"reakit\";\n\nimport {\n  PopoverHTMLProps,\n  PopoverOptions,\n  usePopover,\n} from \"../popover/Popover\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { TOOLTIP_KEYS } from \"./__keys\";\n\nexport type TooltipOptions = PopoverOptions & {\n  /**\n   * Whether or not the tooltip should be rendered within `Portal`.\n   */\n  unstable_portal?: boolean;\n};\n\nexport type TooltipHTMLProps = PopoverHTMLProps;\n\nexport type TooltipProps = TooltipOptions & TooltipHTMLProps;\n\nexport const useTooltip = createHook<TooltipOptions, TooltipHTMLProps>({\n  name: \"Tooltip\",\n  compose: usePopover,\n  keys: TOOLTIP_KEYS,\n\n  useOptions({ unstable_portal = true, ...options }) {\n    return { unstable_portal, ...options };\n  },\n\n  useProps(options, htmlProps) {\n    const {\n      style: htmlStyle,\n      wrapElement: htmlWrapElement,\n      ...restHtmlProps\n    } = htmlProps;\n\n    const wrapElement = React.useCallback(\n      (element: React.ReactNode) => {\n        if (options.unstable_portal) {\n          element = <Portal>{element}</Portal>;\n        }\n\n        if (htmlWrapElement) {\n          return htmlWrapElement(element);\n        }\n\n        return element;\n      },\n      [options.unstable_portal, htmlWrapElement],\n    );\n\n    return {\n      style: {\n        pointerEvents: \"none\",\n        ...htmlStyle,\n      },\n      wrapElement,\n      ...restHtmlProps,\n    };\n  },\n});\n\nexport const Tooltip = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useTooltip,\n});\n", "// Automatically generated\nexport const USE_TOOLTIP_STATE_KEYS = [\n  \"baseId\",\n  \"visible\",\n  \"side\",\n  \"align\",\n  \"sideOffset\",\n  \"alignOffset\",\n  \"arrowOffset\",\n  \"collisionTolerance\",\n  \"defaultVisible\",\n  \"onVisibleChange\",\n  \"enableCollisionsDetection\",\n  \"unstable_timeout\",\n] as const;\nexport const TOOLTIP_STATE_KEYS = [\n  \"baseId\",\n  \"visible\",\n  \"side\",\n  \"align\",\n  \"sideOffset\",\n  \"alignOffset\",\n  \"arrowOffset\",\n  \"collisionTolerance\",\n  \"unstable_idCountRef\",\n  \"disclosureRef\",\n  \"popperStyles\",\n  \"arrowStyles\",\n  \"placedSide\",\n  \"placedAlign\",\n  \"anchor\",\n  \"popper\",\n  \"arrow\",\n  \"setBaseId\",\n  \"show\",\n  \"hide\",\n  \"toggle\",\n  \"setVisible\",\n  \"setSide\",\n  \"setAlign\",\n  \"setSideOffset\",\n  \"setAlignOffset\",\n  \"setArrowOffset\",\n  \"setCollisionTolerance\",\n  \"setAnchor\",\n  \"setPopper\",\n  \"setArrow\",\n  \"unstable_timeout\",\n  \"unstable_setTimeout\",\n] as const;\nexport const TOOLTIP_KEYS = [...TOOLTIP_STATE_KEYS, \"unstable_portal\"] as const;\nexport const TOOLTIP_ANCHOR_KEYS = TOOLTIP_STATE_KEYS;\nexport const TOOLTIP_ARROW_KEYS = TOOLTIP_ANCHOR_KEYS;\nexport const TOOLTIP_ARROW_CONTENT_KEYS = TOOLTIP_ARROW_KEYS;\nexport const TOOLTIP_CONTENT_KEYS = TOOLTIP_ARROW_CONTENT_KEYS;\nexport const TOOLTIP_REFERENCE_KEYS = TOOLTIP_CONTENT_KEYS;\nexport const TOOLTIP_TRIGGER_KEYS = TOOLTIP_REFERENCE_KEYS;\n", "import {\n  PopoverAnchorHTMLProps,\n  PopoverAnchorOptions,\n  usePopoverAnchor,\n} from \"../popover\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { TOOLTIP_ANCHOR_KEYS } from \"./__keys\";\nimport { TooltipStateReturn } from \"./TooltipState\";\n\nexport type TooltipAnchorOptions = PopoverAnchorOptions &\n  Pick<TooltipStateReturn, \"setAnchor\">;\n\nexport type TooltipAnchorHTMLProps = PopoverAnchorHTMLProps;\n\nexport type TooltipAnchorProps = TooltipAnchorOptions & TooltipAnchorHTMLProps;\n\nexport const useTooltipAnchor = createHook<\n  TooltipAnchorOptions,\n  TooltipAnchorHTMLProps\n>({\n  name: \"TooltipAnchor\",\n  compose: usePopoverAnchor,\n  keys: TOOLTIP_ANCHOR_KEYS,\n\n  useOptions(options, htmlProps) {\n    return options;\n  },\n\n  useProps(options, htmlProps) {\n    return htmlProps;\n  },\n});\n\nexport const TooltipAnchor = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useTooltipAnchor,\n});\n", "import {\n  PopoverArrowHTMLProps,\n  PopoverArrowOptions,\n  usePopoverArrow,\n} from \"../popover/PopoverArrow\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { TOOLTIP_ARROW_KEYS } from \"./__keys\";\n\nexport type TooltipArrowOptions = PopoverArrowOptions;\n\nexport type TooltipArrowHTMLProps = PopoverArrowHTMLProps;\n\nexport type TooltipArrowProps = TooltipArrowOptions & TooltipArrowHTMLProps;\n\nexport const useTooltipArrow = createHook<\n  TooltipArrowOptions,\n  TooltipArrowHTMLProps\n>({\n  name: \"TooltipArrow\",\n  compose: usePopoverArrow,\n  keys: TOOLTIP_ARROW_KEYS,\n\n  useOptions(options) {\n    return options;\n  },\n\n  useProps(options, htmlProps) {\n    return htmlProps;\n  },\n});\n\nexport const TooltipArrow = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useTooltipArrow,\n});\n", "import {\n  PopoverArrowContentHTMLProps,\n  PopoverArrowContentOptions,\n  usePopoverArrowContent,\n} from \"../popover/PopoverArrowContent\";\nimport { createComponent, createHook } from \"../system\";\n\nimport { TOOLTIP_ARROW_CONTENT_KEYS } from \"./__keys\";\n\nexport type TooltipArrowContentOptions = PopoverArrowContentOptions;\n\nexport type TooltipArrowContentHTMLProps = PopoverArrowContentHTMLProps;\n\nexport type TooltipArrowContentProps = TooltipArrowContentOptions &\n  TooltipArrowContentHTMLProps;\n\nexport const useTooltipArrowContent = createHook<\n  TooltipArrowContentOptions,\n  TooltipArrowContentHTMLProps\n>({\n  name: \"TooltipArrowContent\",\n  compose: usePopoverArrowContent,\n  keys: TOOLTIP_ARROW_CONTENT_KEYS,\n\n  useOptions(options) {\n    return options;\n  },\n\n  useProps(options, htmlProps) {\n    return htmlProps;\n  },\n});\n\nexport const TooltipArrowContent = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useTooltipArrowContent,\n});\n", "import * as React from \"react\";\nimport { getDocument, useForkRef } from \"reakit-utils\";\n\nimport {\n  DisclosureContentHTMLProps,\n  DisclosureContentOptions,\n  useDisclosureContent,\n} from \"../disclosure/DisclosureContent\";\nimport { createComponent, createHook } from \"../system\";\n\nimport globalState from \"./__globalState\";\nimport { TOOLTIP_KEYS } from \"./__keys\";\nimport { TooltipStateReturn } from \"./TooltipState\";\n\nexport type TooltipContentOptions = DisclosureContentOptions &\n  Pick<Partial<TooltipStateReturn>, \"setPopper\" | \"popper\"> & {};\n\nexport type TooltipContentHTMLProps = DisclosureContentHTMLProps;\n\nexport type TooltipContentProps = TooltipContentOptions &\n  TooltipContentHTMLProps;\n\nfunction globallyHideTooltipContentOnEscape(event: KeyboardEvent) {\n  if (event.defaultPrevented) return;\n  if (event.key === \"Escape\") {\n    globalState.show(null);\n  }\n}\n\nexport const useTooltipContent = createHook<\n  TooltipContentOptions,\n  TooltipContentHTMLProps\n>({\n  name: \"TooltipContent\",\n  compose: useDisclosureContent,\n  keys: TOOLTIP_KEYS,\n\n  useOptions(options) {\n    return options;\n  },\n\n  useProps(options, { ref: htmlRef, style: htmlStyle, ...htmlProps }) {\n    React.useEffect(() => {\n      const document = getDocument(options.popper);\n\n      document.addEventListener(\"keydown\", globallyHideTooltipContentOnEscape);\n    }, [options.popper]);\n\n    return {\n      ref: useForkRef(options.setPopper, htmlRef),\n      role: \"tooltip\",\n      style: {\n        pointerEvents: \"none\",\n        ...htmlStyle,\n      },\n      ...htmlProps,\n    };\n  },\n});\n\nexport const TooltipContent = createComponent({\n  as: \"div\",\n  memo: true,\n  useHook: useTooltipContent,\n});\n", "type Listener = (id: string | null) => void;\n\nconst state = {\n  currentTooltipId: null as string | null,\n  listeners: new Set<Listener>(),\n  subscribe(listener: Listener) {\n    this.listeners.add(listener);\n    return () => {\n      this.listeners.delete(listener);\n    };\n  },\n  show(id: string | null) {\n    this.currentTooltipId = id;\n    this.listeners.forEach(listener => listener(id));\n  },\n  hide(id: string) {\n    if (this.currentTooltipId === id) {\n      this.currentTooltipId = null;\n      this.listeners.forEach(listener => listener(null));\n    }\n  },\n};\n\nexport default state;\n", "import * as React from \"react\";\nimport { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\nimport { useForkRef, useLiveRef } from \"reakit-utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { TOOLTIP_REFERENCE_KEYS } from \"./__keys\";\nimport { TooltipStateReturn } from \"./TooltipState\";\n\nexport type TooltipReferenceOptions = RoleOptions &\n  Pick<Partial<TooltipStateReturn>, \"setAnchor\" | \"baseId\"> &\n  Pick<TooltipStateReturn, \"show\" | \"hide\">;\n\nexport type TooltipReferenceHTMLProps = RoleHTMLProps;\n\nexport type TooltipReferenceProps = TooltipReferenceOptions &\n  TooltipReferenceHTMLProps;\n\nexport const useTooltipReference = createHook<\n  TooltipReferenceOptions,\n  TooltipReferenceHTMLProps\n>({\n  name: \"TooltipReference\",\n  compose: useRole,\n  keys: TOOLTIP_REFERENCE_KEYS,\n\n  useProps(\n    options,\n    {\n      ref: htmlRef,\n      onFocus: htmlOnFocus,\n      onBlur: htmlOnBlur,\n      onMouseEnter: htmlOnMouseEnter,\n      onMouseLeave: htmlOnMouseLeave,\n      ...htmlProps\n    },\n  ) {\n    const { show, hide, baseId, setAnchor } = options;\n    const onFocusRef = useLiveRef(htmlOnFocus);\n    const onBlurRef = useLiveRef(htmlOnBlur);\n    const onMouseEnterRef = useLiveRef(htmlOnMouseEnter);\n    const onMouseLeaveRef = useLiveRef(htmlOnMouseLeave);\n\n    const onFocus = React.useCallback(\n      (event: React.FocusEvent) => {\n        onFocusRef.current?.(event);\n        if (event.defaultPrevented) return;\n        show?.();\n      },\n      [onFocusRef, show],\n    );\n\n    const onBlur = React.useCallback(\n      (event: React.FocusEvent) => {\n        onBlurRef.current?.(event);\n        if (event.defaultPrevented) return;\n        hide?.();\n      },\n      [hide, onBlurRef],\n    );\n\n    const onMouseEnter = React.useCallback(\n      (event: React.MouseEvent) => {\n        onMouseEnterRef.current?.(event);\n        if (event.defaultPrevented) return;\n        show?.();\n      },\n      [onMouseEnterRef, show],\n    );\n\n    const onMouseLeave = React.useCallback(\n      (event: React.MouseEvent) => {\n        onMouseLeaveRef.current?.(event);\n        if (event.defaultPrevented) return;\n        hide?.();\n      },\n      [hide, onMouseLeaveRef],\n    );\n\n    return {\n      ref: useForkRef(setAnchor, htmlRef),\n      tabIndex: 0,\n      onFocus,\n      onBlur,\n      onMouseEnter,\n      onMouseLeave,\n      \"aria-describedby\": baseId,\n      ...htmlProps,\n    };\n  },\n});\n\nexport const TooltipReference = createComponent({\n  as: \"div\",\n  useHook: useTooltipReference,\n});\n", "import * as React from \"react\";\n\nimport {\n  PopoverActions,\n  PopoverInitialState,\n  PopoverState,\n  PopoverStateReturn,\n  usePopoverState,\n} from \"../popover/PopoverState\";\n\nimport globalState from \"./__globalState\";\n\nexport type TooltipState = Omit<PopoverState, \"modal\"> & {\n  /**\n   * @private\n   */\n  unstable_timeout: number;\n};\n\nexport type TooltipActions = Omit<PopoverActions, \"setModal\"> & {\n  /**\n   * @private\n   */\n  unstable_setTimeout: React.Dispatch<\n    React.SetStateAction<TooltipState[\"unstable_timeout\"]>\n  >;\n};\n\nexport type TooltipInitialState = Omit<PopoverInitialState, \"modal\"> &\n  Pick<Partial<TooltipState>, \"unstable_timeout\">;\n\nexport type TooltipStateReturn = Omit<\n  PopoverStateReturn,\n  \"modal\" | \"setModal\"\n> &\n  TooltipState &\n  TooltipActions;\n\nexport function useTooltipState(\n  props: TooltipInitialState = {},\n): TooltipStateReturn {\n  const { unstable_timeout: initialTimeout = 0, ...restProps } = props;\n  const [timeout, setTimeout] = React.useState(initialTimeout);\n  const showTimeout = React.useRef<number | null>(null);\n  const hideTimeout = React.useRef<number | null>(null);\n\n  const { modal, setModal, ...popover } = usePopoverState({\n    ...restProps,\n  });\n\n  const clearTimeouts = React.useCallback(() => {\n    if (showTimeout.current !== null) {\n      window.clearTimeout(showTimeout.current);\n    }\n    if (hideTimeout.current !== null) {\n      window.clearTimeout(hideTimeout.current);\n    }\n  }, []);\n\n  const hide = React.useCallback(() => {\n    clearTimeouts();\n    popover.hide();\n    // Let's give some time so people can move from a reference to another\n    // and still show tooltips immediately\n    hideTimeout.current = window.setTimeout(() => {\n      globalState.hide(popover.baseId);\n    }, timeout);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [clearTimeouts, popover.hide, timeout, popover.baseId]);\n\n  const show = React.useCallback(() => {\n    clearTimeouts();\n    if (!timeout || globalState.currentTooltipId) {\n      // If there's no timeout or a tooltip visible already, we can show this\n      // immediately\n      globalState.show(popover.baseId);\n      popover.show();\n    } else {\n      // There may be a reference with focus whose tooltip is still not visible\n      // In this case, we want to update it before it gets shown.\n      globalState.show(null);\n      // Otherwise, wait a little bit to show the tooltip\n      showTimeout.current = window.setTimeout(() => {\n        globalState.show(popover.baseId);\n        popover.show();\n      }, timeout);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [clearTimeouts, timeout, popover.show, popover.baseId]);\n\n  React.useEffect(() => {\n    return globalState.subscribe(id => {\n      if (id !== popover.baseId) {\n        clearTimeouts();\n        if (popover.visible) {\n          // Make sure there will be only one tooltip visible\n          popover.hide();\n        }\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [popover.baseId, clearTimeouts, popover.visible, popover.hide]);\n\n  React.useEffect(\n    () => () => {\n      clearTimeouts();\n      globalState.hide(popover.baseId);\n    },\n    [clearTimeouts, popover.baseId],\n  );\n\n  return {\n    ...popover,\n    hide,\n    show,\n    unstable_timeout: timeout,\n    unstable_setTimeout: setTimeout,\n  };\n}\n", "import * as React from \"react\";\nimport { RoleHTMLProps, RoleOptions, useRole } from \"reakit\";\nimport { useLiveRef } from \"reakit-utils\";\n\nimport { createComponent, createHook } from \"../system\";\n\nimport { TOOLTIP_TRIGGER_KEYS } from \"./__keys\";\nimport { TooltipStateReturn } from \"./TooltipState\";\n\nexport type TooltipTriggerOptions = RoleOptions &\n  Pick<Partial<TooltipStateReturn>, \"baseId\"> &\n  Pick<TooltipStateReturn, \"show\" | \"hide\">;\n\nexport type TooltipTriggerHTMLProps = RoleHTMLProps;\n\nexport type TooltipTriggerProps = TooltipTriggerOptions &\n  TooltipTriggerHTMLProps;\n\nexport const useTooltipTrigger = createHook<\n  TooltipTriggerOptions,\n  TooltipTriggerHTMLProps\n>({\n  name: \"TooltipTrigger\",\n  compose: useRole,\n  keys: TOOLTIP_TRIGGER_KEYS,\n\n  useProps(\n    options,\n    {\n      ref: htmlRef,\n      onFocus: htmlOnFocus,\n      onBlur: htmlOnBlur,\n      onMouseEnter: htmlOnMouseEnter,\n      onMouseLeave: htmlOnMouseLeave,\n      ...htmlProps\n    },\n  ) {\n    const { show, hide, baseId } = options;\n    const onFocusRef = useLiveRef(htmlOnFocus);\n    const onBlurRef = useLiveRef(htmlOnBlur);\n    const onMouseEnterRef = useLiveRef(htmlOnMouseEnter);\n    const onMouseLeaveRef = useLiveRef(htmlOnMouseLeave);\n\n    const onFocus = React.useCallback(\n      (event: React.FocusEvent) => {\n        onFocusRef.current?.(event);\n        if (event.defaultPrevented) return;\n        options.show?.();\n      },\n      [onFocusRef, options],\n    );\n\n    const onBlur = React.useCallback(\n      (event: React.FocusEvent) => {\n        onBlurRef.current?.(event);\n        if (event.defaultPrevented) return;\n        hide?.();\n      },\n      [hide, onBlurRef],\n    );\n\n    const onMouseEnter = React.useCallback(\n      (event: React.MouseEvent) => {\n        onMouseEnterRef.current?.(event);\n        if (event.defaultPrevented) return;\n        show?.();\n      },\n      [onMouseEnterRef, show],\n    );\n\n    const onMouseLeave = React.useCallback(\n      (event: React.MouseEvent) => {\n        onMouseLeaveRef.current?.(event);\n        if (event.defaultPrevented) return;\n        hide?.();\n      },\n      [hide, onMouseLeaveRef],\n    );\n\n    return {\n      tabIndex: 0,\n      onFocus,\n      onBlur,\n      onMouseEnter,\n      onMouseLeave,\n      \"aria-describedby\": baseId,\n      ...htmlProps,\n    };\n  },\n});\n\nexport const TooltipTrigger = createComponent({\n  as: \"div\",\n  useHook: useTooltipTrigger,\n});\n"],
  "mappings": "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A,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,UAAU;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,UAAU;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IAC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OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OA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ASjE;AAH6B,CAAD;;;AEpHhC,SAASkE,mBAEO;AAAA,MADrBC,QACqB,UAAA,SAAA,KAAA,UAAA,CAAA,MAAA,SAAA,UAAA,CAAA,IADS,CAAA;AAE9B,MAAM;;IAEJC,eAAe;IACfC,OAAOC;IACPC;EAJI,IAKFJ;AAEJ,MAAM,CAACE,QAAOG,QAAR,IAAoBC,sBAAqB;IAC7CC,cAAcN;IACdO,OAAOL;IACPM,UAAUL;EAHmC,CAAD;AAM9C,SAAO;IAAEF,OAAAA;IAAOG;EAAT;AACR;AAjBeN;;;ACtCT,IAAMW,6BAA6B,CACxC,SACA,gBACA,YACA,YACA,YACA,mBACA,cACA,UACA,WACA,YACA,SACA,aACA,kBACA,iBACA,mBACA,UACA,4BACA,cACA,cACA,YACA,YACA,gBACA,iBACA,mBACA,WAzBwC;AA2BnC,IAAMC,yBAAyB,CACpC,YACA,qBACA,cACA,iBACA,YACA,iBACA,aACA,aACA,iBACA,iBACA,cACA,sBACA,UACA,uBACA,aACA,oBACA,OACA,eACA,SACA,UACA,aACA,QACA,QACA,SACA,kBACA,4BACA,gCACA,gBACA,kBACA,iBACA,mBACA,QACA,QACA,YACA,MACA,QACA,SACA,QACA,QACA,uBACA,UACA,kBACA,gBACA,WACA,WACA,YACA,SACA,mCACA,+BACA,WACA,YACA,aACA,QACA,QACA,UACA,cACA,eACA,iBACA,SACA,0BACA,YACA,yBACA,uBACA,qBACA,0BACA,wBACA,8BACA,mBACA,aACA,SACA,YACA,YACA,cACA,cACA,gBACA,aACA,gBACA,cACA,mBACA,YACA,YACA,YAlFoC;AAoF/B,IAAMC,mCAAmCF;AACzC,IAAMG,+BAA+B,CAC1C,qBACA,mBACA,YACA,qBACA,UACA,uBACA,WACA,YACA,aACA,aACA,QACA,QACA,UACA,cACA,eACA,iBACA,SACA,0BACA,YACA,yBACA,uBACA,qBACA,0BACA,wBACA,8BACA,mBACA,aACA,SACA,YACA,YACA,cACA,cACA,gBACA,aACA,gBACA,cACA,mBACA,YACA,YACA,YAxC0C;AA0Cr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BACA,gBACA,WACA,WACA,YACA,SACA,mCACA,+BACA,gBACA,kBAnCoC;AAqC/B,IAAME,yBAAyBD;AAC/B,IAAME,gCAAgC,CAC3C,UACA,WACA,YACA,SACA,aACA,kBACA,iBACA,mBACA,UACA,0BAV2C;AAYtC,IAAMC,4BAA4B,CACvC,UACA,uBACA,WACA,YACA,aACA,SACA,0BACA,yBACA,uBACA,qBACA,0BACA,wBACA,8BACA,mBACA,aACA,aACA,QACA,QACA,UACA,cACA,eACA,iBACA,YACA,OAxBuC;AA0BlC,IAAMC,wBAAwB,CACnC,GAAGN,4BACH,GAAGI,+BACH,OACA,eACA,aACA,QACA,QACA,SACA,8BATmC;AAW9B,IAAMG,oBAAoB,CAC/B,GAAGP,4BACH,GAAGK,2BACH,oBACA,OACA,eACA,aACA,QACA,QACA,SACA,gCACA,4BACA,UACA,kBACA,YACA,SACA,cACA,gBACA,cACA,kBACA,iBACA,mBACA,QACA,QACA,YACA,MACA,QACA,SACA,QACA,QACA,uBACA,UACA,kBACA,gBACA,WACA,WACA,YACA,SACA,mCACA,+BACA,gBACA,kBAzC+B;AA2C1B,IAAMG,cAAc,CAAC,GAAGD,mBAAmB,WAAvB;AACpB,IAAME,mBAAmB,CAAC,GAAGF,mBAAmB,OAAvB;AACzB,IAAMG,mBAAmBH;AACzB,IAAMI,qBAAqBD;AAC3B,IAAME,sBAAsBD;;;ACnJnC,IAAAE,UAAuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAehB,IAAMC,YAAYC,YAA2C;EAClEC,MAAM;EACNC,SAASC;EACTC,MAAMC;EAENC,WAAU,MAAyD;AAAA,QAAxD;MAAEC,WAAW;MAAWC,YAAY;IAApC,IAAwD,MAAXC,UAAWC,2BAAA,MAAAC,WAAA;AACjE,WAAAC,gBAAA;MAASL;MAAUC;IAAnB,GAAiCC,OAAjC;EACD;EAEDI,SACEJ,SADM,OAQN;AAAA,QANA;MACEK,SAASC;MACTC,WAAWC;MACXC,aAAaC;IAHf,IAMA,OAFKC,YAELV,2BAAA,OAAAW,Y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A,aACA,QACA,QACA,SACA,kBACA,4BACA,gCACA,gBACA,kBACA,iBACA,mBACA,QACA,QACA,YACA,SACA,QACA,QACA,uBACA,UACA,kBACA,gBACA,WACA,WACA,YACA,SACA,mCACA,+BACA,WACA,QACA,YACA,eACA,WACA,cACA,kBACA,eA7C2C;AA+CtC,IAAMC,6BAA6B,CACxC,UACA,WACA,YACA,SACA,aACA,kBACA,iBACA,mBACA,UACA,4BACA,cACA,cACA,YACA,YACA,gBACA,SACA,gBACA,YACA,iBACA,mBACA,WArBwC;AAuBnC,IAAMC,yBAAyB,CACpC,cACA,iBACA,YACA,iBACA,aACA,aACA,iBACA,iBACA,cACA,sBACA,UACA,uBACA,aACA,oBACA,OACA,eACA,SACA,UACA,aACA,QACA,QACA,SACA,kBACA,4BACA,gCACA,gBACA,kBACA,iBACA,mBACA,QACA,QACA,YACA,MACA,QACA,SACA,QACA,QACA,uBACA,UACA,kBACA,gBACA,WACA,WACA,YACA,SACA,mCACA,+BACA,WACA,YACA,aACA,QACA,QACA,UACA,cACA,eACA,iBACA,SACA,0BACA,YACA,yBACA,uBACA,qBACA,0BACA,wBACA,8BACA,mBACA,aACA,SACA,YACA,YACA,cACA,cACA,gBACA,QACA,SACA,WACA,YACA,aACA,eACA,eAhFoC;AAkF/B,IAAMC,mBAAmB,CAC9B,GAAGH,+BACH,GAAGE,sBAF2B;AAIzB,IAAME,0BAA0BD;AAChC,IAAME,gCAAgC,CAC3C,GAAGD,yBACH,OAF2C;AAItC,IAAME,2BAA2BF;AACjC,IAAMG,2BAA2BD;AACjC,IAAME,iCAAiCD;AACvC,IAAME,2BAA2BD;;;ACtJjC,IAAME,gBAAgBC,YAC3B;EACEC,MAAM;EACNC,SAASC;EACTC,MAAMC;AAHR,CADqC;AAQhC,IAAMC,aAAaC,iBAAgB;EACxCC,IAAI;EACJC,MAAM;EACNC,SAASX;AAH+B,CAAD;;;ACnBzC,IAAAY,iBAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACeA,IAAMC,sBAA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",
  "names": ["e", "n", "Symbol", "Uint8Array", "Map", "isObject", "data", "isFunction", "isPlainObject", "format", "copy", "range", "e", "err", "raf", "i", "e", "USE_ACCORDION_BASE_STATE_KEYS", "ACCORDION_BASE_STATE_KEYS", "USE_ACCORDION_MULTI_STATE_KEYS", "ACCORDION_MULTI_STATE_KEYS", "USE_ACCORDION_STATE_KEYS", "ACCORDION_STATE_KEYS", "ACCORDION_KEYS", "ACCORDION_PANEL_KEYS", "ACCORDION_TRIGGER_KEYS", "import_react", "forwardRef", "component", "React", "memo", "component", "propsAreEqual", "createComponent", "as", "type", "useHook", "memo", "shouldMemo", "propsAreEqual", "unstable_propsAreEqual", "keys", "__keys", "useCreateElement", "defaultUseCreateElement", "Comp", "ref", "props", "options", "htmlProps", "splitProps", "wrapElement", "elementProps", "asKeys", "render", "asOptions", "allProps", "element", "displayName", "name", "replace", "forwardRef", "normalizePropsAreEqual", "shallowEqual", "__displayName", "createComposableHook", "options", "composableHook", "newOptions", "createHook", "_objectSpread", "createHook", "options", "composedHooks", "toArray", "compose", "__useOptions", "hookOptions", "htmlProps", "useOptions", "name", "hook", "useHook", "unstable_ignoreUseOptions", "useProps", "useComposeOptions", "useComposeProps", "finalHTMLProps", "definedHTMLProps", "prop", "undefined", "composedKeys", "reduce", "keys", "push", "__keys", "useState", "unstable_propsAreEqual", "propsAreEqual", "shallowEqual", "Object", "defineProperty", "value", "useAccordion", "createHook", "name", "compose", "useComposite", "keys", "ACCORDION_KEYS", "useComposeProps", "options", "htmlProps", "compositeHtmlProp", "_objectSpread", "tabIndex", "undefined", "Accordion", "createComponent", "as", "memo", "useHook", "useAccordionBaseState", "props", "composite", "useCompositeState", "_objectSpread", "orientation", "panels", "items", "registerPanel", "registerItem", "unregisterPanel", "unregisterItem", "React", "React", "import_react", "memoize", "memoizedFn", "node", "canUseDOM", "hasTabIndex", "hasNegativeTabIndex", "isFocusable", "a", "isTabbable", "isTabbable", "i", "o", "n", "_createForOfIteratorHelperLoose", "noop", "pipe", "a", "distance1D", "isPoint", "e", "_createForOfIteratorHelperLoose", "e", "p", "min", "max", "i", "isMouseEvent", "e", "wrapPointerEventHandler", "listener", "supportsPointerEvents", "supportsTouchEvents", "supportsMouseEvents", "PanSession", "a", "toMilliseconds", "i", "React", "import_react", "state", "useUpdateEffect", "tick", "flush", "clearKeysAfterDelay", "useAccordionMultiState", "props", "manual", "useAccordionBaseState", "move", "baseState", "_objectWithoutProperties", "_excluded", "selectedIds", "setSelectedIds", "useControllableState", "defaultValue", "defaultSelectedIds", "value", "onChange", "onSelectedIdsChange", "select", "useCallback", "id", "includes", "prevIds", "filter", "pId", "_objectSpread", "allowToggle", "allowMultiple", "React", "React", "getAccordionId", "options", "panels", "id", "items", "panel", "find", "p", "accordionId", "groupId", "panelIndex", "getPanelIndex", "accordionsWithoutPanel", "getAccordionsWithoutPanel", "undefined", "panelsWithoutAccordionId", "filter", "indexOf", "accordions", "panelsAccordionIds", "map", "Boolean", "item", "isPanelVisible", "allowMultiple", "selectedId", "selectedIds", "includes", "isAccordionSelected", "useAccordionPanelId", "useMemo", "useAccordionPanel", "createHook", "name", "compose", "unstable_useId", "useDisclosureContent", "keys", "ACCORDION_PANEL_KEYS", "useProps", "options", "ref", "htmlRef", "htmlProps", "_objectWithoutProperties", "_excluded", "useRef", "id", "registerPanel", "unregisterPanel", "accordionId", "getAccordionId", "React", "useLayoutEffect", "groupId", "_objectSpread", "useForkRef", "role", "useComposeOptions", "visible", "isPanelVisible", "AccordionPanel", "createComponent", "as", "memo", "useHook", "React", "useAccordionState", "props", "manual", "allowToggle", "useAccordionBaseState", "move", "baseState", "_objectWithoutProperties", "_excluded", "selectedId", "setSelectedId", "useControllableState", "defaultValue", "defaultSelectedId", "value", "onChange", "onSelectedIdChange", "select", "useCallback", "id", "_objectSpread", "allowMultiple", "React", "defaultOptions", "defaultOptions", "defaultOptions", "MILLISECONDS_IN_WEEK", "format", "ordinalNumber", "valueCallback", "lastDayOfMonth", "Setter", "ValueSetter", "set", "DateToSystemTimezoneSetter", "Parser", "match", "EraParser", "parse", "match", "set", "n", "YearParser", "parse", "match", "valueCallback", "set", "LocalWeekYearParser", "parse", "match", "valueCallback", "set", "ISOWeekYearParser", "parse", "set", "ExtendedYearParser", "parse", "set", "QuarterParser", "parse", "match", "set", "StandAloneQuarterParser", "parse", "match", "set", "MonthParser", "parse", "match", "valueCallback", "set", "StandAloneMonthParser", "parse", "match", "valueCallback", "set", "LocalWeekParser", "parse", "match", "set", "ISOWeekParser", "parse", "match", "set", "DateParser", "parse", "match", "isLeapYear", "set", "DayOfYearParser", "parse", "match", "isLeapYear", "set", "defaultOptions", "DayParser", "parse", "match", "set", "LocalDayParser", "parse", "match", "valueCallback", "set", "StandAloneLocalDayParser", "parse", "match", "valueCallback", "set", "ISODayParser", "parse", "match", "valueCallback", "set", "AMPMParser", "parse", "match", "set", "AMPMMidnightParser", "parse", "match", "set", "DayPeriodParser", "parse", "match", "set", "Hour1to12Parser", "parse", "match", "set", "Hour0to23Parser", "parse", "match", "set", "Hour0To11Parser", "parse", "match", "set", "Hour1To24Parser", "parse", "match", "set", "MinuteParser", "parse", "match", "set", "SecondParser", "parse", "match", "set", "FractionOfSecondParser", "parse", "valueCallback", "set", "ISOTimezoneWithZParser", "parse", "set", "ISOTimezoneParser", "parse", "set", "TimestampSecondsParser", "parse", "set", "TimestampMillisecondsParser", "parse", "set", "defaultOptions", "toUTCString", "date", "toISOString", "slice", "toUTCRangeString", "start", "end", "React", "useControllableProp", "prop", "state", "current", "isControlled", "useRef", "undefined", "value", "defaultPropsMap", "defaultValue", "onChange", "useControllableState", "props", "valueProp", "name", "propsMap", "valueState", "setValue", "useState", "React", "useEffect", "nextIsControlled", "nextMode", "mode", "warn", "condition", "message", "initialDefaultValue", "JSON", "stringify", "updateValue", "useCallback", "next", "nextValue", "runIfFn", "import_react", "useControlledState", "value", "defaultValue", "onChange", "stateValue", "setStateValue", "useState", "ref", "useRef", "undefined", "wasControlled", "current", "isControlled", "stateRef", "console", "warn", "setValue", "useCallback", "args", "onChangeCaller", "Object", "is", "onChangeArgs", "updateFunction", "oldValue", "functionArgs", "interceptedValue", "isNull", "value", "clamp", "min", "max", "Infinity", "Math", "clampValue", "warn", "condition", "message", "getOptimumValue", "valueToPercent", "isFunction", "isTouch", "Boolean", "window", "navigator", "maxTouchPoints", "msMaxTouchPoints", "dataAttr", "undefined", "ariaAttr", "cx", "classNames", "filter", "join", "kebabCase", "string", "toLowerCase", "replace", "splitStateProps", "props", "keys", "stateProps", "otherProps", "splitProps", "useAccordionTrigger", "createHook", "name", "compose", "useButton", "useCompositeItem", "keys", "ACCORDION_TRIGGER_KEYS", "useProps", "options", "onClick", "htmlOnClick", "onKeyDown", "htmlOnKeyDown", "onFocus", "htmlOnFocus", "htmlProps", "_objectWithoutProperties", "_excluded", "manual", "id", "allowToggle", "select", "first", "last", "selected", "isAccordionSelected", "accordionPanelId", "useAccordionPanelId", "useCallback", "event", "_first", "setTimeout", "_last", "keyMap", "Home", "End", "action", "key", "preventDefault", "stopPropagation", "handleSelection", "_objectSpread", "ariaAttr", "callAllHandlers", "useComposeProps", "buttonHtmlProps", "compositeHtmlProps", "tabIndex", "AccordionTrigger", "createComponent", "as", "memo", "useHook", "BREADCRUMB_LINK_KEYS", "BREADCRUMBS_KEYS", "LINK_KEYS", "React", "useLink", "createHook", "name", "compose", "useClickable", "keys", "LINK_KEYS", "useOptions", "options", "_objectSpread", "unstable_clickOnSpace", "useProps", "isExternal", "ref", "htmlRef", "htmlProps", "_objectWithoutProperties", "_excluded", "useRef", "role", "setRole", "useState", "undefined", "React", "useEffect", "element", "current", "useWarning", "tagName", "useForkRef", "target", "rel", "Link", "createComponent", "as", "memo", "useHook", "useBreadcrumbLink", "createHook", "name", "compose", "useLink", "keys", "BREADCRUMB_LINK_KEYS", "useProps", "htmlProps", "isCurrent", "_objectSpread", "BreadcrumbLink", "createComponent", "as", "memo", "useHook", "useBreadcrumbs", "createHook", "name", "compose", "useRole", "Breadcrumbs", "createComponent", "as", "memo", "useHook", "useCreateElement", "type", "props", "children", "useWarning", "USE_CALENDAR_STATE_KEYS", "CALENDAR_STATE_KEYS", "USE_RANGE_CALENDAR_STATE_KEYS", "RANGE_CALENDAR_STATE_KEYS", "CALENDAR_KEYS", "CALENDAR_BUTTON_KEYS", "CALENDAR_CELL_KEYS", "CALENDAR_CELL_BUTTON_KEYS", "CALENDAR_GRID_KEYS", "CALENDAR_HEADER_KEYS", "CALENDAR_WEEK_TITLE_KEYS", "useCalendar", "createHook", "name", "compose", "useRole", "keys", "CALENDAR_KEYS", "useProps", "htmlProps", "calendarId", "_objectSpread", "role", "Calendar", "createComponent", "as", "memo", "useHook", "useCalendarButton", "createHook", "name", "compose", "useButton", "keys", "CALENDAR_BUTTON_KEYS", "useProps", "options", "onClick", "htmlOnClick", "htmlProps", "_objectWithoutProperties", "_excluded", "focusNextMonth", "focusPreviousMonth", "focusPreviousYear", "focusNextYear", "goto", "HANDLER_TYPES", "nextMonth", "handler", "ariaLabel", "previousMonth", "nextYear", "previousYear", "_objectSpread", "callAllHandlers", "CalendarButton", "createComponent", "as", "memo", "useHook", "import_react", "useCalendarCell", "createHook", "name", "compose", "useRole", "keys", "CALENDAR_CELL_KEYS", "useProps", "options", "onMouseEnter", "htmlOnMouseEnter", "htmlProps", "_objectWithoutProperties", "_excluded", "isDisabled", "highlightDate", "date", "useCallback", "_objectSpread", "role", "dataAttr", "isWeekend", "isRangeCalendar", "callAllHandlers", "getCalendarCellProps", "CalendarCell", "createComponent", "as", "memo", "useHook", "dateValue", "highlightedRange", "currentMonth", "isSelected", "start", "end", "isRangeStart", "getDate", "isRangeEnd", "getDaysInMonth", "isSelectionStart", "isSameDay", "isSelectionEnd", "ariaAttr", "React", "$89yE2$react", "$89yE2$useContext", "$89yE2$useMemo", "$89yE2$useState", "$89yE2$useLayoutEffect", "p", "a", "min", "max", "e", "p", "a", "$iFADg$useState", "$iFADg$useEffect", "$iFADg$react", "$iFADg$useContext", "$iFADg$useMemo", "$iFADg$useRef", "$iFADg$useMemo", "a", "d", "b", "p", "__assign", "t", "s", "i", "n", "__spreadArray", "i", "__assign", "t", "s", "i", "n", "p", "ErrorKind", "TYPE", "SKELETON_TYPE", "match", "__assign", "t", "s", "i", "n", "p", "_a", "__assign", "opt", "n", "startsWith", "s", "fromCodePoint", "i", "fromEntries", "_a", "codePointAt", "trimStart", "trimEnd", "matchIdentifierAtIndex", "match", "c", "Parser", "__assign", "e", "c", "parse", "__assign", "Parser", "error", "memoize", "ErrorCode", "FormatError", "InvalidValueError", "InvalidValueTypeError", "MissingValueError", "PART_TYPE", "p", "c", "__assign", "memoize", "_a", "__spreadArray", "IntlMessageFormat", "parse", "import_react", "useCalendarCellButton", "createHook", "name", "compose", "useButton", "keys", "CALENDAR_CELL_BUTTON_KEYS", "useOptions", "options", "disabled", "isDisabled", "isDisabledOption", "date", "month", "isInvalidDateRange", "isCurrentMonth", "getMonth", "truelyDisabled", "_objectSpread", "useProps", "onFocus", "htmlOnFocus", "onClick", "htmlOnClick", "ref", "htmlRef", "htmlProps", "_objectWithoutProperties", "_excluded", "dateValue", "selectDate", "anchorDate", "focusedDate", "setFocusedDate", "isFocused", "isFocusedOption", "useRef", "isSelected", "isSameDay", "isToday", "Date", "React", "useEffect", "current", "ensureFocus", "useCallback", "dateFormatter", "useDateFormatter", "weekday", "day", "year", "getAriaLabel", "ariaLabel", "format", "isTodayLabel", "isSelctedLabel", "isRangeCalendar", "rangeSelectionPrompt", "children", "tabIndex", "undefined", "useForkRef", "callAllHandlers", "CalendarCellButton", "createComponent", "as", "memo", "useHook", "import_react", "$6imuh$useState", "$6imuh$useRef", "$6imuh$useCallback", "min", "max", "i", "$12uGp$react", "$12uGp$useState", "$12uGp$useRef", "$12uGp$useCallback", "r", "$12uGp$useEffect", "i", "a", "e", "e", "$12uGp$useRef", "$12uGp$useCallback", "$12uGp$useEffect", "useCalendarGrid", "createHook", "name", "compose", "useRole", "keys", "CALENDAR_GRID_KEYS", "useProps", "options", "ref", "htmlRef", "onKeyDown", "htmlOnKeyDown", "onBlur", "htmlOnFocus", "htmlOnBlur", "htmlProps", "_objectWithoutProperties", "_excluded", "isReadOnly", "isDisabled", "setFocused", "selectFocusedDate", "focusPreviousYear", "focusPreviousMonth", "focusNextYear", "focusNextMonth", "focusEndOfMonth", "focusStartOfMonth", "focusNextDay", "focusPreviousDay", "focusNextWeek", "focusPreviousWeek", "calendarId", "setAnchorDate", "useRef", "createOnKeyDown", "preventDefault", "keyMap", "event", "shift", "shiftKey", "Enter", "End", "Home", "ArrowLeft", "ArrowUp", "ArrowRight", "ArrowDown", "PageUp", "PageDown", "rangeCalendarProps", "isRangeCalendar", "onRangeKeyDown", "e", "key", "callAllHandlers", "chain", "_objectSpread", "useForkRef", "role", "ariaAttr", "onFocus", "CalendarGrid", "createComponent", "as", "memo", "useHook", "useCalendarHeader", "createHook", "name", "compose", "useRole", "keys", "CALENDAR_HEADER_KEYS", "useProps", "htmlProps", "format", "month", "year", "currentMonth", "calendarId", "_objectSpread", "id", "children", "useDateFormatter", "CalendarHeader", "createComponent", "as", "memo", "useHook", "React", "import_react", "liveRegionAnnouncer", "React", "createRef", "node", "clearTimeoutId", "LIVEREGION_TIMEOUT_DELAY", "announce", "message", "assertiveness", "timeout", "ensureInstance", "announcer", "ensureInstance", "callback", "liveRegionAnnouncer", "current", "node", "document", "createElement", "body", "appendChild", "ReactDOM", "render", "_jsx", "LiveRegionAnnouncer", "React", "forwardRef", "props", "ref", "assertiveMessage", "setAssertiveMessage", "useState", "politeMessage", "setPoliteMessage", "clear", "assertiveness", "announce", "message", "timeout", "LIVEREGION_TIMEOUT_DELAY", "clearTimeoutId", "clearTimeout", "setTimeout", "useImperativeHandle", "_jsxs", "MessageAlternator", "ariaLive", "messagesRef", "useRef", "indexRef", "MessageBlock", "data", "AD", "AE", "AF", "AI", "AL", "AM", "AN", "AT", "AX", "AZ", "BA", "BE", "BG", "BH", "BM", "BN", "BY", "CH", "CL", "CM", "CR", "CY", "CZ", "DE", "DJ", "DK", "DZ", "EC", "EE", "EG", "ES", "FI", "FJ", "FO", "FR", "GB", "GE", "GF", "GP", "GR", "HR", "HU", "IE", "IQ", "IR", "IS", "IT", "JO", "KG", "KW", "KZ", "LB", "LI", "LK", "LT", "LU", "LV", "LY", "MC", "MD", "ME", "MK", "MN", "MQ", "MV", "MY", "NL", "NO", "NZ", "OM", "PL", "QA", "RE", "RO", "RS", "RU", "SD", "SE", "SI", "SK", "SM", "SY", "TJ", "TM", "TR", "UA", "UY", "UZ", "VA", "VN", "XK", "useWeekStart", "region", "useRegion", "locale", "useLocale", "Intl", "Locale", "maximize", "split", "useWeekDays", "weekStart", "dayFormatter", "useDateFormatter", "weekday", "dayFormatterLong", "map", "index", "dateDay", "setDay", "Date", "now", "day", "format", "dayLong", "title", "abbr", "generateDaysInMonthArray", "month", "monthStartsAt", "weeksInMonth", "year", "Array", "fill", "reduce", "weeks", "_", "weekIndex", "daysInWeek", "days", "dayIndex", "utcDate", "toUTCString", "cellDate", "makeRange", "start", "end", "useCalendarState", "props", "value", "initialValue", "defaultValue", "toUTCString", "Date", "onChange", "minValue", "maxValue", "isDisabled", "isReadOnly", "autoFocus", "setValue", "useControllableState", "date", "useMemo", "minDateValue", "maxDateValue", "currentMonth", "setCurrentMonth", "useState", "focusedDate", "setFocusedDate", "isFocused", "setFocused", "month", "getMonth", "year", "getFullYear", "weekStart", "useWeekStart", "weekDays", "useWeekDays", "monthStartsAt", "startOfMonth", "getDay", "days", "getDaysInMonth", "weeksInMonth", "Math", "ceil", "daysInMonth", "generateDaysInMonthArray", "isInvalidDateRange", "min", "max", "focusCell", "isSameMonth", "dateFormatter", "useDateFormatter", "dateStyle", "announceSelectedDate", "useCallback", "announce", "format", "setDate", "monthFormatter", "useUpdateEffect", "id", "calendarId", "useId", "baseId", "dateValue", "setDateValue", "focusNextDay", "addDays", "focusPreviousDay", "subDays", "focusNextWeek", "addWeeks", "focusPreviousWeek", "subWeeks", "focusNextMonth", "addMonths", "focusPreviousMonth", "subMonths", "focusStartOfMonth", "focusEndOfMonth", "endOfMonth", "startOfDay", "focusNextYear", "addYears", "focusPreviousYear", "subYears", "selectFocusedDate", "selectDate", "isRangeCalendar", "useCalendarWeekTitle", "createHook", "name", "compose", "useRole", "keys", "CALENDAR_WEEK_TITLE_KEYS", "useProps", "htmlProps", "dayIndex", "weekDays", "_objectSpread", "title", "CalendarWeekTitle", "createComponent", "as", "memo", "useHook", "React", "useRangeCalendarState", "props", "value", "initialValue", "defaultValue", "start", "toUTCString", "Date", "end", "addDays", "onChange", "calendarProps", "_objectWithoutProperties", "_excluded", "setValue", "useControllableState", "dateRange", "useMemo", "anchorDate", "setAnchorDate", "useState", "lastSelectedDate", "setLastSelectedDate", "calendar", "useCalendarState", "_objectSpread", "highlightedRange", "makeRange", "focusedDate", "dateFormatter", "useDateFormatter", "dateStyle", "announceRange", "useCallback", "isSameDay", "announce", "format", "selectDate", "date", "isReadOnly", "toUTCRangeString", "setDateValue", "dateRangeValue", "setDateRangeValue", "selectFocusedDate", "highlightDate", "setFocusedDate", "isRangeCalendar", "USE_CHECKBOX_STATE_KEYS", "CHECKBOX_STATE_KEYS", "CHECKBOX_KEYS", "React", "React", "getChecked", "options", "checked", "value", "state", "stateProp", "Array", "isArray", "indexOf", "fireChange", "element", "onChange", "event", "createEvent", "Object", "defineProperties", "type", "target", "currentTarget", "useIndeterminateState", "ref", "React", "useEffect", "current", "warning", "indeterminate", "useCheckbox", "createHook", "name", "compose", "useClickable", "keys", "CHECKBOX_KEYS", "useOptions", "options", "htmlProps", "unstable_clickOnEnter", "restOptions", "_objectWithoutProperties", "_excluded", "value", "checked", "_objectSpread", "getChecked", "useProps", "state", "setState", "disabled", "ref", "htmlRef", "onChange", "htmlOnChange", "onClick", "htmlOnClick", "restHtmlProps", "_excluded2", "useRef", "isNativeCheckbox", "setIsNativeCheckbox", "useState", "onChangeRef", "useLiveRef", "onClickRef", "React", "useEffect", "element", "current", "warning", "tagName", "type", "useIndeterminateState", "useCallback", "event", "currentTarget", "stopPropagation", "preventDefault", "stateProp", "Array", "isArray", "index", "indexOf", "removeIndexFromArray", "defaultPrevented", "fireChange", "useForkRef", "role", "undefined", "Checkbox", "createComponent", "as", "memo", "useHook", "useCheckboxState", "props", "defaultState", "state", "stateProp", "onStateChange", "setState", "useControllableState", "defaultValue", "value", "onChange", "USE_DATE_PICKER_STATE_KEYS", "DATE_PICKER_STATE_KEYS", "USE_DATE_RANGE_PICKER_STATE_KEYS", "DATE_RANGE_PICKER_STATE_KEYS", "DATE_PICKER_KEYS", "DATE_PICKER_CONTENT_KEYS", "DATE_PICKER_SEGMENT_KEYS", "DATE_PICKER_SEGMENT_FIELD_KEYS", "DATE_PICKER_TRIGGER_KEYS", "USE_PICKER_BASE_STATE_KEYS", "PICKER_BASE_STATE_KEYS", "PICKER_BASE_KEYS", "PICKER_BASE_CONTENT_KEYS", "PICKER_BASE_TRIGGER_KEYS", "React", "usePickerBase", "createHook", "name", "compose", "useRole", "keys", "PICKER_BASE_KEYS", "useProps", "options", "onKeyDown", "htmlOnKeyDown", "onClick", "htmlOnClick", "onMouseDown", "htmlOnMouseDown", "htmlProps", "_objectWithoutProperties", "_excluded", "visible", "isDisabled", "isReadOnly", "show", "pickerId", "dialogId", "segmentFocus", "useCallback", "isTouch", "createOnKeyDown", "onKey", "preventDefault", "keyMap", "event", "isAlt", "altKey", "ArrowDown", "e", "stopPropagation", "_objectSpread", "id", "role", "undefined", "ariaAttr", "callAllHandlers", "PickerBase", "createComponent", "as", "memo", "useHook", "usePickerBaseContent", "createHook", "name", "compose", "usePopover", "keys", "PICKER_BASE_CONTENT_KEYS", "useProps", "options", "htmlProps", "_objectSpread", "id", "dialogId", "PickerBaseContent", "createComponent", "as", "memo", "useHook", "usePickerBaseState", "props", "pickerId", "pickerIdProp", "dialogId", "dialogIdProp", "isDisabled", "isReadOnly", "segmentFocus", "id", "useId", "baseId", "popover", "usePopoverState", "_objectSpread", "modal", "usePickerBaseTrigger", "createHook", "name", "compose", "usePopoverDisclosure", "keys", "PICKER_BASE_TRIGGER_KEYS", "useOptions", "options", "_", "_objectSpread", "disabled", "isDisabled", "isReadOnly", "useProps", "onMouseDown", "htmlOnMouseDown", "htmlProps", "_objectWithoutProperties", "_excluded", "e", "stopPropagation", "tabIndex", "callAllHandlers", "PickerBaseTrigger", "createComponent", "as", "memo", "useHook", "useDatePicker", "createHook", "name", "compose", "usePickerBase", "keys", "DATE_PICKER_KEYS", "useProps", "options", "htmlProps", "validationState", "isRequired", "_objectSpread", "ariaAttr", "DatePicker", "createComponent", "as", "memo", "useHook", "useDatePickerContent", "createHook", "name", "compose", "usePickerBaseContent", "keys", "DATE_PICKER_CONTENT_KEYS", "DatePickerContent", "createComponent", "as", "memo", "useHook", "USE_SEGMENT_STATE_KEYS", "SEGMENT_STATE_KEYS", "SEGMENT_KEYS", "SEGMENT_FIELD_KEYS", "React", "node", "$glIEW$useRef", "isDisabled", "$glIEW$useEffect", "e", "$glIEW$useCallback", "convertValue", "value", "undefined", "Date", "getSegmentLimits", "date", "type", "options", "minValue", "maxValue", "getDate", "getDaysInMonth", "getHours", "hour12", "isPM", "getMinutes", "getSeconds", "getMonth", "getYear", "add", "part", "amount", "day", "setDate", "cycleValue", "hours", "setHours", "min", "max", "minutes", "setMinutes", "months", "setMonth", "seconds", "setSeconds", "year", "setYear", "round", "div", "Math", "abs", "ceil", "floor", "setSegment", "segmentValue", "wasPM", "parseNumber", "str", "replace", "c", "String", "charCodeAt", "Number", "isNumeric", "test", "useSegment", "createHook", "name", "compose", "useCompositeItem", "keys", "SEGMENT_KEYS", "useOptions", "options", "_", "_objectSpread", "disabled", "isDisabled", "isReadOnly", "segment", "type", "useProps", "next", "_objectWithoutProperties", "_excluded", "onMouseDown", "htmlOnMouseDown", "onKeyDown", "htmlOnKeyDown", "onFocus", "htmlOnFocus", "htmlProps", "_excluded2", "enteredKeys", "setEnteredKeys", "useState", "textValue", "text", "monthDateFormatter", "useDateFormatter", "month", "hourDateFormatter", "hour", "hour12", "dateFormatter", "resolvedOptions", "hourFormattedValue", "format", "fieldValue", "split", "spinButtonProps", "useSpinButton", "value", "minValue", "maxValue", "isRequired", "onIncrement", "increment", "onDecrement", "decrement", "onIncrementPage", "incrementPage", "onDecrementPage", "decrementPage", "onIncrementToMax", "setSegment", "onDecrementToMin", "onInput", "useCallback", "key", "newValue", "isNumeric", "numberValue", "parseNumber", "segmentValue", "Number", "e", "ctrlKey", "metaKey", "shiftKey", "altKey", "preventDefault", "isPlaceholder", "confirmPlaceholder", "slice", "length", "stopPropagation", "test", "dataAttr", "children", "mergeProps", "callAllHandlers", "useComposeProps", "composite", "tabIndex", "Segment", "createComponent", "as", "memo", "useHook", "useSegmentField", "createHook", "name", "compose", "useComposite", "keys", "SEGMENT_FIELD_KEYS", "SegmentField", "createComponent", "as", "memo", "useHook", "import_react", "EDITABLE_SEGMENTS", "year", "month", "day", "hour", "minute", "second", "dayPeriod", "PAGE_STEP", "TYPE_MAPPING", "dayperiod", "useSegmentState", "props", "validSegments", "setValidSegments", "useState", "value", "defaultValue", "_objectSpread", "dateFormatter", "useDateFormatter", "formatOptions", "resolvedOptions", "useMemo", "numSegments", "formatToParts", "Date", "filter", "seg", "type", "length", "Object", "keys", "placeholderDate", "setPlaceholderDate", "convertValue", "getFullYear", "date", "setDate", "useControllableState", "onChange", "setValue", "segments", "map", "segment", "text", "getSegmentLimits", "isPlaceholder", "adjustSegment", "amount", "add", "segmentComposite", "useCompositeState", "orientation", "fieldValue", "setFieldValue", "increment", "part", "decrement", "incrementPage", "decrementPage", "setSegment", "v", "confirmPlaceholder", "useDatePickerSegment", "createHook", "name", "compose", "useSegment", "keys", "DATE_PICKER_SEGMENT_KEYS", "useProps", "options", "htmlProps", "id", "useId", "baseId", "_objectSpread", "isDateRangePicker", "pickerId", "DatePickerSegment", "createComponent", "as", "memo", "useHook", "useDatePickerSegmentField", "createHook", "name", "compose", "useSegmentField", "keys", "DATE_PICKER_SEGMENT_FIELD_KEYS", "DatePickerSegmentField", "createComponent", "as", "memo", "useHook", "React", "useDatePickerState", "props", "value", "initialValue", "defaultValue", "toUTCString", "Date", "onChange", "minValue", "maxValue", "isRequired", "autoFocus", "formatOptions", "placeholderDate", "setValue", "useControllableState", "date", "setDate", "minDateValue", "maxDateValue", "segmentState", "useSegmentState", "popover", "usePickerBaseState", "_objectSpread", "segmentFocus", "first", "selectDate", "newValue", "hide", "calendar", "useCalendarState", "validationState", "isInvalidDateRange", "React", "useEffect", "visible", "setFocused", "focusCell", "min", "max", "dateValue", "setDateValue", "isDateRangePicker", "useDatePickerTrigger", "createHook", "name", "compose", "usePickerBaseTrigger", "keys", "DATE_PICKER_TRIGGER_KEYS", "DatePickerTrigger", "createComponent", "as", "memo", "useHook", "React", "useDateRangePickerState", "props", "value", "initialValue", "defaultValue", "start", "toUTCString", "Date", "end", "addDays", "onChange", "minValue", "maxValue", "isRequired", "autoFocus", "formatOptions", "placeholderDate", "setValue", "useControllableState", "dateRange", "useMemo", "minDateValue", "maxDateValue", "selectDate", "date", "isReadOnly", "isDisabled", "toUTCRangeString", "makeRange", "popover", "hide", "segmentComposite", "useCompositeState", "orientation", "startSegmentState", "useSegmentState", "endSegmentState", "usePickerBaseState", "_objectSpread", "segmentFocus", "first", "calendar", "useRangeCalendarState", "isInvalidDateRange", "min", "max", "isStartInRange", "isEndInRange", "validationState", "React", "useEffect", "visible", "setFocused", "focusCell", "id", "startId", "useId", "baseId", "endId", "dateValue", "setDateValue", "isDateRangePicker", "USE_DIALOG_STATE_KEYS", "DIALOG_STATE_KEYS", "DIALOG_KEYS", "DIALOG_BACKDROP_KEYS", "DIALOG_DISCLOSURE_KEYS", "React", "React", "React", "import_react", "useCallbackRef", "useCallbackRef", "React", "import_react", "a", "data", "cbs", "React", "import_react", "React", "_a", "_a", "SideCar", "React", "React", "React", "_a", "parse", "_a", "node", "_a", "s", "Style", "e", "node", "DISCLOSURE_STATE_KEYS", "USE_DISCLOSURE_STATE_KEYS", "DISCLOSURE_KEYS", "DISCLOSURE_COLLAPSE_CONTENT_KEYS", "DISCLOSURE_CONTENT_KEYS", "import_react", "disclosureComposableButton", "createComposableHook", "name", "compose", "useReakitButton", "keys", "DISCLOSURE_KEYS", "useProps", "options", "htmlProps", "toggle", "visible", "baseId", "onClick", "htmlOnClick", "ariaControls", "restHtmlProps", "_objectWithoutProperties", "_excluded", "controls", "onClickRef", "useLiveRef", "React", "useCallback", "event", "current", "defaultPrevented", "_objectSpread", "undefined", "useDisclosure", "Disclosure", "createComponent", "as", "memo", "useHook", "React", "import_react_dom", "React", "useLastValue", "value", "lastValue", "useRef", "useSafeLayoutEffect", "current", "useAnimation", "props", "visible", "animating", "setAnimating", "useState", "lastVisible", "visibleHasChanged", "state", "setState", "raf", "React", "useEffect", "window", "requestAnimationFrame", "cancelAnimationFrame", "stopAnimation", "useCallback", "onEnd", "event", "isSelfTarget", "getElementHeight", "el", "scrollHeight", "getElementWidth", "scrollWidth", "getAutoSizeDuration", "size", "constant", "Math", "round", "disclosureCollapseComposableContent", "createComposableHook", "name", "compose", "useBox", "keys", "DISCLOSURE_COLLAPSE_CONTENT_KEYS", "useOptions", "options", "htmlProps", "direction", "contentSize", "easing", "restOptions", "_objectWithoutProperties", "_excluded", "_objectSpread", "useProps", "visible", "duration", "onCollapseEnd", "onCollapseStart", "onExpandEnd", "onExpandStart", "ref", "htmlRef", "style", "htmlStyle", "onTransitionEnd", "htmlOnTransitionEnd", "restHtmlProps", "_excluded2", "useRef", "onTransitionEndRef", "useLiveRef", "isVertical", "currentSize", "getCurrentSizeStyle", "useCallback", "size", "collapsedStyles", "useMemo", "overflow", "styles", "setStylesRaw", "useState", "setStyles", "newStyles", "flushSync", "mergeStyles", "oldStyles", "getTransitionStyles", "_duration", "getAutoSizeDuration", "transition", "useUpdateEffect", "raf", "willChange", "getElementHeight", "getElementWidth", "height", "width", "event", "current", "defaultPrevented", "target", "propertyName", "stylesSize", "useForkRef", "id", "baseId", "useDisclosureCollapseContent", "DisclosureCollapseContent", "createComponent", "as", "memo", "useHook", "React", "disclosureComposableContent", "createComposableHook", "name", "compose", "useBox", "keys", "DISCLOSURE_CONTENT_KEYS", "useOptions", "options", "htmlProps", "visible", "animationPresent", "restOptions", "_objectWithoutProperties", "_excluded", "state", "animating", "onEnd", "useAnimation", "isVisible", "isHidden", "_objectSpread", "useProps", "baseId", "style", "htmlStyle", "onTransitionEnd", "htmlOnTransitionEnd", "onAnimationEnd", "htmlOnAnimationEnd", "restHtmlProps", "_excluded2", "onTransitionEndRef", "useLiveRef", "onAnimationEndRef", "useCallback", "event", "current", "display", "undefined", "id", "hidden", "useDisclosureContent", "DisclosureContent", "createComponent", "as", "memo", "useHook", "React", "useDisclosureState", "props", "defaultVisible", "visible", "initialVisible", "onVisibleChange", "id", "unstable_useIdState", "setVisible", "useControllableState", "defaultValue", "value", "onChange", "show", "useCallback", "hide", "toggle", "e", "_objectSpread", "React", "DialogBackdropContext", "createContext", "undefined", "React", "React", "React", "usePortalRef", "dialogRef", "options", "visible", "portalRef", "useRef", "React", "useEffect", "dialog", "current", "closest", "Portal", "__selector", "removeFromDOM", "element", "parentNode", "removeChild", "focusTrapClassName", "isFocusTrap", "classList", "contains", "useFocusTrap", "dialogRef", "visibleModals", "options", "portalRef", "usePortalRef", "shouldTrap", "visible", "modal", "beforeElement", "useRef", "afterElement", "React", "useEffect", "undefined", "portal", "current", "warning", "document", "getDocument", "createElement", "className", "tabIndex", "style", "position", "setAttribute", "cloneNode", "insertAdjacentElement", "before", "after", "handleFocus", "event", "dialog", "length", "preventDefault", "isAfter", "target", "tabbable", "getFirstTabbableIn", "getLastTabbableIn", "focus", "addEventListener", "removeEventListener", "dialogContains", "target", "dialogRef", "dialog", "current", "contains", "document", "getDocument", "backdrop", "querySelector", "id", "isDisclosure", "disclosure", "isInDocument", "tagName", "body", "useEventListenerOutside", "containerRef", "disclosureRef", "nestedDialogs", "eventType", "listener", "shouldListen", "capture", "listenerRef", "useLiveRef", "React", "useEffect", "undefined", "onEvent", "event", "container", "warning", "isFocusTrap", "some", "addEventListener", "removeEventListener", "useDisableHoverOutside", "portalRef", "nestedDialogs", "options", "useEvent", "eventType", "useEventListenerOutside", "current", "event", "stopPropagation", "preventDefault", "visible", "modal", "React", "useDisclosureRef", "dialogRef", "options", "ref", "useRef", "React", "useEffect", "visible", "animating", "undefined", "onFocus", "event", "target", "current", "disclosureRef", "document", "getDocument", "addEventListener", "removeEventListener", "onMouseDown", "element", "currentTarget", "isButton", "preventDefault", "focus", "disclosure", "React", "isActualElement", "element", "tagName", "getDocument", "body", "useFocusOnBlur", "dialogRef", "options", "blurred", "scheduleFocus", "useReducer", "n", "useSafeLayoutEffect", "dialog", "current", "visible", "getActiveElement", "warning", "focus", "onBlur", "useCallback", "event", "nextActiveElement", "getNextActiveElementOnBlur", "React", "useFocusOnChildUnmount", "dialogRef", "options", "React", "useEffect", "dialog", "current", "visible", "undefined", "observer", "MutationObserver", "mutations", "target", "document", "getDocument", "activeElement", "getActiveElement", "body", "isEmpty", "focus", "observe", "childList", "subtree", "disconnect", "hidByFocusingAnotherElement", "dialogRef", "dialog", "current", "activeElement", "getActiveElement", "contains", "isTabbable", "getAttribute", "useFocusOnHide", "disclosureRef", "options", "shouldFocus", "unstable_autoFocusOnHide", "visible", "useUpdateEffect", "animating", "console", "log", "finalFocusEl", "unstable_finalFocusRef", "id", "document", "getDocument", "compositeElement", "querySelector", "ensureFocus", "warning", "useFocusOnShow", "dialogRef", "nestedDialogs", "options", "initialFocusRef", "unstable_initialFocusRef", "shouldFocus", "visible", "unstable_autoFocusOnShow", "useUpdateEffect", "dialog", "current", "warning", "animating", "some", "child", "hidden", "focus", "preventScroll", "tabbable", "getFirstTabbableIn", "isActive", "hasFocusWithin", "ensureFocus", "tabIndex", "undefined", "React", "useMouseDownRef", "dialogRef", "options", "mouseDownRef", "useRef", "React", "useEffect", "visible", "undefined", "hideOnClickOutside", "document", "getDocument", "current", "onMouseDown", "event", "target", "addEventListener", "removeEventListener", "useHideOnClickOutside", "disclosureRef", "nestedDialogs", "useEventListenerOutside", "hide", "body", "React", "DialogContext", "createContext", "useNestedDialogs", "dialogRef", "options", "context", "useContext", "dialogs", "setDialogs", "useState", "visibleModals", "setVisibleModals", "addDialog", "useCallback", "ref", "prevDialogs", "removeDialog", "removeItemFromArray", "showDialog", "hideDialog", "React", "useEffect", "unstable_orphan", "undefined", "modal", "visible", "hide", "providerValue", "useMemo", "wrap", "element", "_jsx", "useDialog", "createHook", "name", "compose", "useDisclosureContent", "keys", "DIALOG_KEYS", "useOptions", "options", "modal", "hideOnEsc", "hideOnClickOutside", "preventBodyScroll", "unstable_autoFocusOnShow", "unstable_autoFocusOnHide", "unstable_orphan", "restOptions", "_objectWithoutProperties", "_excluded", "_objectSpread", "useProps", "htmlProps", "baseId", "hide", "optionsModal", "ref", "htmlRef", "onKeyDown", "htmlOnKeyDown", "onBlur", "htmlOnBlur", "wrapElement", "htmlWrapElement", "tabIndex", "restHtmlProps", "_excluded2", "dialog", "useRef", "backdrop", "useContext", "DialogBackdropContext", "hasBackdrop", "disclosure", "useDisclosureRef", "onKeyDownRef", "useLiveRef", "onBlurRef", "focusOnBlur", "useFocusOnBlur", "dialogs", "visibleModals", "wrap", "useNestedDialogs", "length", "undefined", "useFocusTrap", "useFocusOnChildUnmount", "useFocusOnShow", "useFocusOnHide", "useHideOnClickOutside", "useDisableHoverOutside", "useCallback", "event", "current", "defaultPrevented", "key", "warning", "stopPropagation", "element", "_jsx", "useForkRef", "role", "Dialog", "createComponent", "as", "useHook", "useCreateElement", "type", "props", "children", "useWarning", "React", "useDialogBackdrop", "createHook", "name", "compose", "useDisclosureContent", "keys", "DIALOG_BACKDROP_KEYS", "useOptions", "modal", "preventBodyScroll", "options", "_objectWithoutProperties", "_excluded", "_objectSpread", "useProps", "htmlProps", "baseId", "wrapElement", "htmlWrapElement", "restHtmlProps", "_excluded2", "useCallback", "element", "_jsx", "id", "undefined", "DialogBackdrop", "createComponent", "as", "memo", "useHook", "React", "useDialogDisclosure", "createHook", "name", "compose", "useDisclosure", "keys", "DIALOG_DISCLOSURE_KEYS", "useProps", "options", "htmlProps", "disclosureRef", "visible", "ref", "htmlRef", "onClick", "htmlOnClick", "restHtmlProps", "_objectWithoutProperties", "_excluded", "useRef", "onClickRef", "useLiveRef", "expanded", "setExpanded", "useState", "useSafeLayoutEffect", "element", "current", "warning", "isCurrentDisclosure", "useCallback", "event", "defaultPrevented", "currentTarget", "_objectSpread", "useForkRef", "DialogDisclosure", "createComponent", "as", "memo", "useHook", "React", "useDialogState", "props", "modal", "initialModal", "restProps", "_objectWithoutProperties", "_excluded", "disclosure", "useDisclosureState", "setModal", "useState", "disclosureRef", "useRef", "_objectSpread", "USE_DRAWER_STATE_KEYS", "DRAWER_STATE_KEYS", "DRAWER_KEYS", "DRAWER_BACKDROP_KEYS", "DRAWER_DISCLOSURE_KEYS", "useDrawer", "createHook", "name", "compose", "useDialog", "keys", "DRAWER_KEYS", "useOptions", "options", "htmlProps", "placement", "_objectSpread", "useProps", "style", "htmlStyles", "restHtmlProps", "_objectWithoutProperties", "_excluded", "PLACEMENTS", "position", "Drawer", "createComponent", "as", "useHook", "left", "top", "bottom", "height", "right", "width", "useDrawerBackdrop", "createHook", "name", "compose", "useDialogBackdrop", "keys", "DRAWER_BACKDROP_KEYS", "useOptions", "modal", "options", "_objectWithoutProperties", "_excluded", "_objectSpread", "DrawerBackdrop", "createComponent", "as", "memo", "useHook", "useDrawerDisclosure", "createHook", "name", "compose", "useDialogDisclosure", "keys", "DRAWER_DISCLOSURE_KEYS", "useOptions", "options", "htmlProps", "useProps", "DrawerDisclosure", "createComponent", "as", "memo", "useHook", "useDrawerState", "props", "dialog", "useDialogState", "_objectSpread", "USE_METER_STATE_KEYS", "METER_STATE_KEYS", "METER_KEYS", "useMeter", "createHook", "name", "compose", "useRole", "keys", "METER_KEYS", "useProps", "options", "htmlProps", "value", "max", "min", "percent", "_objectSpread", "role", "toString", "undefined", "Meter", "createComponent", "as", "memo", "useHook", "useCreateElement", "type", "props", "children", "useWarning", "clamp", "value", "min", "max", "isNull", "Math", "calculateStatus", "props", "optimum", "low", "high", "isInRange", "useMeterState", "props", "value", "defaultValue", "min", "max", "sealed", "_objectWithoutProperties", "_excluded", "initialLow", "low", "initialHigh", "high", "initialOptimum", "optimum", "getOptimumValue", "clamp", "status", "calculateStatus", "percent", "valueToPercent", "USE_NUMBERINPUT_STATE_KEYS", "NUMBER_INPUT_STATE_KEYS", "NUMBER_INPUT_KEYS", "NUMBER_INPUT_DECREMENT_BUTTON_KEYS", "NUMBER_INPUT_INCREMENT_BUTTON_KEYS", "React", "React", "assignRef", "error", "mergeRefs", "node", "createContext", "useContext", "import_react", "CONTINUOUS_CHANGE_INTERVAL", "CONTINUOUS_CHANGE_DELAY", "useSpinner", "increment", "decrement", "isSpinning", "setIsSpinning", "useState", "action", "setAction", "runOnce", "setRunOnce", "timeoutRef", "useRef", "removeTimeout", "clearTimeout", "current", "useInterval", "up", "useCallback", "setTimeout", "down", "stop", "useUnmountEffect", "FLOATING_POINT_REGEX", "isFloatingPointNumericCharacter", "character", "test", "sanitize", "value", "split", "filter", "join", "isValidNumericKeyboardEvent", "event", "key", "isModifierKey", "ctrlKey", "altKey", "metaKey", "isSingleCharacterKey", "length", "getStepFactor", "ratio", "shiftKey", "useNumberInput", "createHook", "name", "compose", "useInput", "keys", "NUMBER_INPUT_KEYS", "useOptions", "allowMouseWheel", "clampValueOnBlur", "options", "_objectWithoutProperties", "_excluded", "disabled", "isDisabled", "_objectSpread", "useProps", "ref", "htmlRef", "onChange", "htmlOnChange", "onKeyDown", "htmlOnKeyDown", "onFocus", "htmlOnFocus", "onBlur", "htmlOnBlur", "onWheel", "htmlOnWheel", "required", "htmlRequired", "readOnly", "htmlReadOnly", "htmlProps", "_excluded2", "min", "max", "step", "updateValue", "increment", "decrement", "value", "valueAsNumber", "setCastedValue", "inputRef", "isInvalid", "isReadOnly", "isRequired", "isOutOfRange", "useCallback", "event", "sanitize", "target", "isValidNumericKeyboardEvent", "preventDefault", "stepFactor", "getStepFactor", "eventKey", "normalizeEventKey", "keyMap", "ArrowUp", "ArrowDown", "Home", "End", "action", "next", "React", "useEffect", "input", "current", "undefined", "isInputFocused", "document", "activeElement", "direction", "Math", "sign", "deltaY", "addEventListener", "removeEventListener", "mergeRefs", "type", "role", "inputMode", "pattern", "autoComplete", "autoCorrect", "spellCheck", "callAllHandlers", "ariaAttr", "Number", "isNaN", "toString", "NumberInput", "createComponent", "as", "memo", "useHook", "React", "useNumberInputDecrementButton", "createHook", "name", "compose", "useButton", "keys", "NUMBER_INPUT_DECREMENT_BUTTON_KEYS", "useOptions", "options", "keepWithinRange", "isAtMin", "disabled", "isDisabled", "_objectSpread", "useProps", "onMouseDown", "onMouseUp", "onMouseLeave", "onTouchStart", "onTouchEnd", "htmlProps", "_objectWithoutProperties", "_excluded", "spinDown", "spinDownProp", "spinStop", "spinStopProp", "focusInput", "useCallback", "event", "preventDefault", "React", "useEffect", "tabIndex", "callAllHandlers", "NumberInputDecrementButton", "createComponent", "as", "memo", "useHook", "React", "useNumberInputIncrementButton", "createHook", "name", "compose", "useButton", "keys", "NUMBER_INPUT_INCREMENT_BUTTON_KEYS", "useOptions", "options", "keepWithinRange", "isAtMax", "disabled", "isDisabled", "_objectSpread", "useProps", "onMouseDown", "onMouseUp", "onMouseLeave", "onTouchStart", "onTouchEnd", "htmlProps", "_objectWithoutProperties", "_excluded", "spinUp", "spinUpProp", "spinStop", "spinStopProp", "focusInput", "useCallback", "event", "preventDefault", "React", "useEffect", "tabIndex", "callAllHandlers", "NumberInputIncrementButton", "createComponent", "as", "memo", "useHook", "React", "import_react", "min", "max", "parse", "clamp", "value", "useNumberInputState", "props", "min", "minSafeInteger", "max", "maxSafeInteger", "step", "stepProp", "keepWithinRange", "focusInputOnChange", "isReadOnly", "isDisabled", "isInvalid", "isRequired", "counter", "useCounter", "update", "updateValue", "cast", "setCastedValue", "clamp", "clampToPrecision", "increment", "incrementFn", "decrement", "decrementFn", "counterProps", "_objectWithoutProperties", "_excluded", "isInteractive", "useCallback", "spinner", "useSpinner", "inputRef", "useRef", "useSafeLayoutEffect", "current", "notInSync", "value", "setValue", "sanitize", "focusInput", "focus", "nextTick", "_objectSpread", "spinUp", "up", "spinDown", "down", "spinStop", "stop", "USE_PAGINATION_STATE_KEYS", "PAGINATION_STATE_KEYS", "PAGINATION_KEYS", "PAGINATION_BUTTON_KEYS", "usePagination", "createHook", "name", "compose", "useRole", "keys", "PAGINATION_KEYS", "Pagination", "createComponent", "as", "memo", "useHook", "useCreateElement", "type", "props", "children", "useWarning", "React", "usePaginationButton", "createHook", "name", "compose", "useButton", "keys", "PAGINATION_BUTTON_KEYS", "useOptions", "options", "disabled", "htmlDisabled", "goto", "isAtLastPage", "isAtFirstPage", "_objectSpread", "useProps", "onClick", "htmlOnClick", "htmlProps", "_objectWithoutProperties", "_excluded", "currentPage", "isCurrent", "useCallback", "isNumber", "movePage", "includes", "ariaLabel", "undefined", "callAllHandlers", "PaginationButton", "createComponent", "as", "memo", "useHook", "import_react", "usePaginationState", "props", "defaultPage", "page", "currentPageProp", "onChange", "count", "boundaryCount", "siblingCount", "currentPage", "setCurrentPage", "useControllableState", "value", "defaultValue", "startPages", "range", "Math", "min", "endPages", "max", "siblingsStart", "siblingsEnd", "pages", "nextPage", "React", "useCallback", "prevPage", "firstPage", "lastPage", "movePage", "isAtLastPage", "isAtFirstPage", "start", "end", "length", "Array", "from", "_", "i", "POPOVER_STATE_KEYS", "POPOVER_KEYS", "POPOVER_STATE_KEYS", "POPOVER_ANCHOR_KEYS", "POPOVER_ARROW_KEYS", "POPOVER_ARROW_CONTENT_KEYS", "POPOVER_BACKDROP_KEYS", "POPOVER_CONTENT_KEYS", "POPOVER_DISCLOSURE_KEYS", "POPOVER_TRIGGER_KEYS", "usePopover", "createHook", "name", "compose", "useRole", "keys", "POPOVER_KEYS", "useProps", "options", "htmlProps", "popperStyles", "style", "htmlStyle", "restHtmlProps", "_objectWithoutProperties", "_excluded", "_objectSpread", "Popover", "createComponent", "as", "memo", "useHook", "usePopoverAnchor", "createHook", "name", "compose", "useRole", "keys", "POPOVER_ANCHOR_KEYS", "useOptions", "options", "htmlProps", "useProps", "setAnchor", "ref", "htmlRef", "restHtmlProps", "_objectWithoutProperties", "_excluded", "_objectSpread", "useForkRef", "PopoverAnchor", "createComponent", "as", "memo", "useHook", "usePopoverArrow", "createHook", "name", "compose", "useRole", "keys", "POPOVER_ARROW_KEYS", "useOptions", "options", "htmlProps", "useProps", "arrowStyles", "style", "htmlStyle", "restHtmlProps", "_objectWithoutProperties", "_excluded", "_objectSpread", "pointerEvents", "PopoverArrow", "createComponent", "as", "memo", "useHook", "usePopoverArrowContent", "createHook", "name", "compose", "useRole", "keys", "POPOVER_ARROW_CONTENT_KEYS", "useOptions", "options", "htmlProps", "useProps", "setArrow", "ref", "htmlRef", "restHtmlProps", "_objectWithoutProperties", "_excluded", "_objectSpread", "useForkRef", "PopoverArrowContent", "createComponent", "as", "memo", "useHook", "usePopoverBackdrop", "createHook", "name", "compose", "useDialogBackdrop", "keys", "POPOVER_BACKDROP_KEYS", "useOptions", "modal", "options", "_objectWithoutProperties", "_excluded", "_objectSpread", "PopoverBackdrop", "createComponent", "as", "memo", "useHook", "usePopoverContent", "createHook", "name", "compose", "useDialog", "keys", "POPOVER_DISCLOSURE_KEYS", "useOptions", "modal", "options", "_objectWithoutProperties", "_excluded", "_objectSpread", "useProps", "htmlProps", "setPopper", "ref", "htmlRef", "restHtmlProps", "_excluded2", "useForkRef", "PopoverContent", "createComponent", "as", "memo", "useHook", "usePopoverDisclosure", "createHook", "name", "compose", "useDialogDisclosure", "keys", "POPOVER_DISCLOSURE_KEYS", "useOptions", "options", "htmlProps", "useProps", "setAnchor", "ref", "htmlRef", "restHtmlProps", "_objectWithoutProperties", "_excluded", "_objectSpread", "useForkRef", "PopoverDisclosure", "createComponent", "as", "memo", "useHook", "React", "getPlacementData", "anchorRect", "popperSize", "arrowSize", "arrowOffset", "side", "sideOffset", "align", "alignOffset", "shouldAvoidCollisions", "collisionBoundariesRect", "collisionTolerance", "popperStyles", "UNMEASURED_POPPER_STYLES", "arrowStyles", "UNMEASURED_ARROW_STYLES", "allPlacementPoints", "arrowBaseToTipLength", "height", "x", "getPopperSlotsForAxis", "y", "topY", "before", "bottomY", "after", "leftX", "rightX", "top", "start", "center", "end", "right", "bottom", "left", "popperPoint", "getPlacementStylesForPoint", "getPopperArrowStyles", "getTransformOrigin", "placedSide", "placedAlign", "popperRect", "DOMRect", "fromRect", "collisionBoundariesRectWithTolerance", "rect", "amount", "width", "popperCollisions", "getCollisions", "oppositeSidePopperPoint", "getOppositeSide", "collisions", "oppositeSideCollisions", "oppositeSide", "anchorSize", "isHorizontalSide", "startBound", "endBound", "dimension", "isAnchorBigger", "axis", "anchorStart", "anchorDimension", "popperDimension", "point", "position", "minWidth", "willChange", "transform", "Math", "round", "window", "scrollX", "scrollY", "arrowBaseLength", "opacity", "popperCenterX", "popperCenterY", "rotation", "arrowMaxDimension", "max", "styles", "direction", "getArrowCssDirection", "observeElementRect", "elementToObserve", "callback", "observedData", "observedElements", "get", "set", "rect", "callbacks", "size", "rafId", "requestAnimationFrame", "runLoop", "push", "getBoundingClientRect", "index", "indexOf", "splice", "length", "delete", "cancelAnimationFrame", "Map", "changedRectsData", "forEach", "data", "element", "newRect", "rect1", "rect2", "width", "height", "top", "right", "bottom", "left", "useRect", "measurable", "rect", "setRect", "useState", "useEffect", "unobserve", "observeElementRect", "undefined", "useSize", "element", "size", "setSize", "useState", "undefined", "useEffect", "resizeObserver", "ResizeObserver", "entries", "Array", "isArray", "length", "entry", "width", "height", "borderSizeEntry", "borderSize", "rect", "getBoundingClientRect", "observe", "box", "unobserve", "usePopoverState", "props", "enableCollisionsDetection", "side", "initialSide", "align", "initialAlign", "sideOffset", "initialSideOffset", "alignOffset", "initialAlignOffset", "arrowOffset", "initialArrowOffset", "collisionTolerance", "initialCollisionTolerance", "modal", "restProps", "_objectWithoutProperties", "_excluded", "dialog", "useDialogState", "_objectSpread", "setSide", "useState", "setAlign", "setSideOffset", "setAlignOffset", "setArrowOffset", "setCollisionTolerance", "anchor", "setAnchor", "anchorRect", "useRect", "popper", "setPopper", "popperSize", "useSize", "arrow", "setArrow", "arrowSize", "windowSize", "useWindowSize", "collisionBoundariesRect", "DOMRect", "fromRect", "x", "y", "undefined", "placementData", "getPlacementData", "shouldAvoidCollisions", "WINDOW_RESIZE_DEBOUNCE_WAIT_IN_MS", "setWindowSize", "React", "useEffect", "debounceTimerId", "updateWindowSize", "width", "window", "innerWidth", "height", "innerHeight", "handleResize", "clearTimeout", "setTimeout", "addEventListener", "removeEventListener", "usePopoverTrigger", "createHook", "name", "compose", "useDialogDisclosure", "keys", "POPOVER_TRIGGER_KEYS", "useOptions", "options", "htmlProps", "useProps", "PopoverTrigger", "createComponent", "as", "memo", "useHook", "USE_PROGRESS_STATE_KEYS", "PROGRESS_STATE_KEYS", "PROGRESS_KEYS", "useProgress", "createHook", "name", "compose", "useRole", "keys", "PROGRESS_KEYS", "useProps", "options", "htmlProps", "isIndeterminate", "value", "max", "min", "_objectSpread", "role", "dataAttr", "isNull", "undefined", "toString", "Progress", "createComponent", "as", "memo", "useHook", "useCreateElement", "type", "props", "children", "useWarning", "useProgressState", "props", "value", "min", "max", "clampedValue", "clampValue", "percent", "isNull", "valueToPercent", "isIndeterminate", "Math", "USE_RADIO_STATE_KEYS", "RADIO_STATE_KEYS", "RADIO_KEYS", "RADIO_GROUP_KEYS", "React", "import_react", "getChecked", "options", "checked", "value", "state", "useInitialChecked", "initialChecked", "React", "useState", "id", "currentId", "setCurrentId", "initialCurrentId", "useEffect", "fireChange", "element", "onChange", "event", "createEvent", "Object", "defineProperties", "type", "target", "currentTarget", "useRadio", "createHook", "name", "compose", "useCompositeItem", "keys", "RADIO_KEYS", "useOptions", "unstable_clickOnEnter", "unstable_checkOnFocus", "options", "_objectWithoutProperties", "_excluded", "value", "checked", "_objectSpread", "useProps", "ref", "htmlRef", "onChange", "htmlOnChange", "onClick", "htmlOnClick", "htmlProps", "_excluded2", "currentId", "id", "disabled", "setState", "unstable_moves", "baseId", "useRef", "isNativeRadio", "setIsNativeRadio", "useState", "getChecked", "isCurrentItemRef", "useLiveRef", "onChangeRef", "onClickRef", "useInitialChecked", "React", "useEffect", "element", "current", "warning", "tagName", "type", "useCallback", "event", "defaultPrevented", "fireChange", "currentTarget", "useForkRef", "role", "undefined", "Radio", "createComponent", "as", "memo", "useHook", "useRadioGroup", "createHook", "name", "compose", "useComposite", "keys", "RADIO_GROUP_KEYS", "useProps", "options", "htmlProps", "_objectSpread", "role", "RadioGroup", "createComponent", "as", "useHook", "useCreateElement", "type", "props", "children", "useWarning", "useRadioState", "props", "defaultState", "state", "stateProps", "onStateChange", "loop", "sealed", "_objectWithoutProperties", "_excluded", "setState", "useControllableState", "defaultValue", "value", "onChange", "composite", "useCompositeState", "_objectSpread", "USE_SELECT_BASE_STATE_KEYS", "USE_SELECT_LIST_STATE_KEYS", "SELECT_LIST_STATE_KEYS", "SELECT_BASE_STATE_KEYS", "USE_SELECT_POPOVER_STATE_KEYS", "SELECT_POPOVER_STATE_KEYS", "USE_SELECT_STATE_KEYS", "SELECT_STATE_KEYS", "SELECT_KEYS", "SELECT_ITEM_KEYS", "SELECT_LIST_KEYS", "SELECT_OPTION_KEYS", "SELECT_POPOVER_KEYS", "React", "useSelect", "createHook", "name", "compose", "usePopoverDisclosure", "keys", "SELECT_KEYS", "useOptions", "menuRole", "hideOnEsc", "options", "_objectWithoutProperties", "_excluded", "_objectSpread", "useProps", "onClick", "htmlOnClick", "onKeyDown", "htmlOnKeyDown", "onMouseDown", "htmlOnMouseDown", "htmlProps", "_excluded2", "disabled", "hasPressedMouse", "useRef", "onKeyDownRef", "useLiveRef", "onClickRef", "onMouseDownRef", "onCharacterPress", "useShortcut", "preventDefault", "event", "key", "useCallback", "current", "defaultPrevented", "hide", "keyMap", "Enter", "first", "ArrowUp", "last", "ArrowDown", "action", "stopPropagation", "show", "setTimeout", "selectedValue", "toggle", "visible", "move", "callAllHandlers", "handleCharacterPress", "useComposeOptions", "noop", "Select", "createComponent", "as", "memo", "useHook", "character", "values", "find", "value", "includes", "nextItem", "getNextItemFromSearch", "item", "setSelectedValue", "React", "import_react", "React", "getIdFromValue", "valuesById", "selectedValue", "selectedOption", "find", "option", "value", "id", "getValueFromId", "currentId", "undefined", "useSelectBaseState", "composite", "initialSelectedValue", "values", "initialValues", "useRef", "valuesRef", "items", "compositeItems", "registerItem", "compositeRegisterItem", "unregisterItem", "compositeUnregisterItem", "setSelectedValue", "useState", "selectedId", "useMemo", "current", "currentValue", "forEach", "item", "useCallback", "length", "_objectSpread", "menuRole", "useTypeaheadShortcut", "ref", "options", "timeout", "onCharacterPress", "useShortcut", "preventDefault", "event", "key", "React", "useEffect", "element", "current", "undefined", "onKeyDown", "target", "role", "getAttribute", "targetIsDialog", "targetIsOption", "indexOf", "closest", "handleCharacterPress", "addEventListener", "removeEventListener", "character", "selectedValue", "values", "find", "value", "currentValue", "includes", "nextItem", "getNextItemFromSearch", "item", "nextId", "getIdFromValue", "valuesById", "move", "getItemId", "baseId", "value", "id", "kebabCase", "useSelectItem", "createHook", "name", "compose", "useCompositeItem", "keys", "SELECT_ITEM_KEYS", "useOptions", "options", "registerItem", "useCallback", "item", "_objectSpread", "value", "id", "baseId", "getItemId", "useProps", "onClick", "htmlOnClick", "htmlProps", "_objectWithoutProperties", "_excluded", "onClickRef", "useLiveRef", "event", "current", "defaultPrevented", "setSelectedValue", "hide", "children", "SelectItem", "createComponent", "as", "memo", "useHook", "useSelectOption", "createHook", "name", "compose", "useSelectItem", "keys", "SELECT_OPTION_KEYS", "useProps", "_", "htmlProps", "_objectSpread", "role", "SelectOption", "createComponent", "as", "memo", "useHook", "React", "useSelectList", "createHook", "name", "compose", "useComposite", "keys", "SELECT_LIST_KEYS", "useOptions", "menuRole", "options", "_objectWithoutProperties", "_excluded", "_objectSpread", "useProps", "htmlProps", "role", "SelectList", "createComponent", "as", "useHook", "useCreateElement", "type", "props", "children", "useWarning", "useSelectPopover", "createHook", "name", "compose", "useSelectList", "usePopover", "keys", "SELECT_POPOVER_KEYS", "useProps", "options", "ref", "htmlRef", "htmlProps", "_objectWithoutProperties", "_excluded", "useRef", "useTypeaheadShortcut", "_objectSpread", "useForkRef", "role", "SelectPopover", "createComponent", "as", "useHook", "useCreateElement", "type", "props", "children", "useWarning", "useSelectListState", "initialState", "useSealedState", "orientation", "loop", "sealed", "_objectWithoutProperties", "_excluded", "composite", "useCompositeState", "_objectSpread", "unstable_virtual", "useSelectBaseState", "React", "useSelectPopoverState", "select", "gutter", "placement", "initialState", "_objectWithoutProperties", "_excluded", "move", "reset", "selectedId", "popover", "usePopoverState", "_objectSpread", "visible", "React", "useEffect", "useSelectState", "initialState", "sealed", "useSealedState", "select", "useSelectListState", "useSelectPopoverState", "USE_SLIDER_BASE_STATE_KEYS", "SLIDER_BASE_STATE_KEYS", "SLIDER_STATE_KEYS", "USE_SLIDER_STATE_KEYS", "SLIDER_THUMB_STATE_KEYS", "USE_SLIDER_THUMB_STATE_KEYS", "SLIDER_GROUP_KEYS", "SLIDER_INPUT_KEYS", "SLIDER_LABEL_KEYS", "SLIDER_OUTPUT_KEYS", "SLIDER_THUMB_KEYS", "SLIDER_TRACK_KEYS", "isDisabled", "$aTwux$useMemo", "$aTwux$useState", "$aTwux$useRef", "s", "useSliderBaseState", "props", "numberFormatter", "useNumberFormatter", "formatOptions", "state", "useSliderState", "_objectSpread", "useSliderGroup", "createHook", "name", "compose", "useGroup", "keys", "SLIDER_GROUP_KEYS", "useOptions", "options", "htmlProps", "useProps", "mergeProps", "groupProps", "SliderGroup", "createComponent", "as", "memo", "useHook", "useSliderInput", "createHook", "name", "compose", "unstable_useId", "useInput", "keys", "SLIDER_INPUT_KEYS", "useOptions", "options", "htmlProps", "useProps", "inputRef", "inputProps", "ref", "htmlRef", "restHtmlProps", "_objectWithoutProperties", "_excluded", "mergeProps", "_objectSpread", "useForkRef", "SliderInput", "createComponent", "as", "memo", "useHook", "useSliderLabel", "createHook", "name", "compose", "useRole", "keys", "SLIDER_LABEL_KEYS", "useOptions", "options", "htmlProps", "useProps", "labelProps", "mergeProps", "SliderLabel", "createComponent", "as", "memo", "useHook", "useSliderOutput", "createHook", "name", "compose", "useRole", "keys", "SLIDER_LABEL_KEYS", "useOptions", "options", "htmlProps", "useProps", "mergeProps", "outputProps", "SliderOutput", "createComponent", "as", "memo", "useHook", "React", "$bx7SL$useRef", "state", "$bx7SL$useCallback", "e", "$bx7SL$react", "$bx7SL$useContext", "$bx7SL$useState", "$bx7SL$useMemo", "isDisabled", "$bx7SL$useEffect", "i", "a", "e", "focus", "e", "state", "$bx7SL$useRef", "$bx7SL$useMemo", "$6nfFC$react", "node", "data", "node", "$6nfFC$react", "$6nfFC$useContext", "$6nfFC$useRef", "$6nfFC$useEffect", "state", "$fA3fN$useRef", "e", "i", "isDisabled", "$fA3fN$useCallback", "$fA3fN$useEffect", "useSliderState", "props", "state", "rest", "_objectWithoutProperties", "_excluded", "trackRef", "useRef", "sliderProps", "useSlider", "_objectSpread", "useSliderThumb", "createHook", "name", "compose", "useRole", "keys", "SLIDER_THUMB_KEYS", "useProps", "options", "htmlProps", "thumbProps", "mergeProps", "SliderThumb", "createComponent", "as", "memo", "useHook", "React", "useSliderThumbState", "props", "state", "trackRef", "thumbProps", "_objectWithoutProperties", "_excluded", "inputRef", "useRef", "sliderThumbProps", "useSliderThumb", "_objectSpread", "useSliderTrack", "createHook", "name", "compose", "useRole", "keys", "SLIDER_TRACK_KEYS", "useProps", "options", "htmlProps", "trackProps", "trackRef", "ref", "htmlRef", "restHtmlProps", "_objectWithoutProperties", "_excluded", "mergeProps", "_objectSpread", "useForkRef", "SliderTrack", "createComponent", "as", "memo", "useHook", "TIME_PICKER_COLUMN_STATE_KEYS", "USE_TIME_PICKER_STATE_KEYS", "TIME_PICKER_STATE_KEYS", "TIME_PICKER_KEYS", "TIME_PICKER_COLUMN_KEYS", "TIME_PICKER_COLUMN_VALUE_KEYS", "TIME_PICKER_CONTENT_KEYS", "TIME_PICKER_SEGMENT_KEYS", "TIME_PICKER_SEGMENT_FIELD_KEYS", "TIME_PICKER_TRIGGER_KEYS", "useTimePicker", "createHook", "name", "compose", "usePickerBase", "keys", "TIME_PICKER_KEYS", "TimePicker", "createComponent", "as", "memo", "useHook", "import_react", "useTimePickerColumn", "createHook", "name", "compose", "useComposite", "keys", "TIME_PICKER_COLUMN_KEYS", "useProps", "htmlProps", "columnType", "_objectSpread", "role", "TimePickerColumn", "createComponent", "as", "memo", "useHook", "React", "parseTime", "timeValue", "isString", "timeRegex", "match", "time", "split", "date", "Date", "setHours", "setMinutes", "setSeconds", "stringifyTime", "toString", "slice", "getSelectedValueFromDate", "type", "getMinutes", "getHours", "getSelectedDateFromValue", "value", "hours", "useTimePickerColumnState", "props", "defaultValue", "Date", "value", "onChange", "visible", "columnType", "popover", "updateOldTime", "restoreOldTime", "date", "setDate", "useControllableState", "selected", "getSelectedValueFromDate", "composite", "useCompositeState", "loop", "wrap", "orientation", "count", "setCount", "useState", "React", "useEffect", "setSelected", "useCallback", "close", "getSelectedDateFromValue", "hide", "comp", "_objectSpread", "up", "unstable_allTheWay", "prev", "unstable_idCountRef", "current", "down", "id", "setCurrentId", "baseId", "React", "useTimePickerColumnValue", "createHook", "name", "compose", "useButton", "useCompositeItem", "keys", "TIME_PICKER_COLUMN_VALUE_KEYS", "useProps", "options", "ref", "htmlRef", "onClick", "htmlOnClick", "onKeyDown", "htmlOnKeyDown", "htmlProps", "_objectWithoutProperties", "_excluded", "popover", "setCurrentId", "selected", "value", "id", "setSelected", "visible", "date", "updateOldTime", "restoreOldTime", "baseId", "move", "columnType", "useRef", "React", "useEffect", "current", "scrollIntoView", "handleCancellation", "oldTime", "getTime", "hide", "idx", "getSelectedValueFromDate", "handleSubmit", "useCallback", "e", "preventDefault", "key", "_objectSpread", "role", "useForkRef", "callAllHandlers", "TimePickerColumnValue", "createComponent", "as", "memo", "useHook", "React", "useTimePickerContent", "createHook", "name", "compose", "usePickerBaseContent", "keys", "TIME_PICKER_CONTENT_KEYS", "useProps", "_", "ref", "htmlRef", "onKeyDown", "htmlOnKeyDown", "htmlProps", "_objectWithoutProperties", "_excluded", "useRef", "useMemo", "createOnKeyDown", "keyMap", "ArrowRight", "current", "nextTabbableElement", "getNextTabbable", "focus", "ArrowLeft", "previousTabbableElement", "getPreviousTabbable", "_objectSpread", "useForkRef", "TimePickerContent", "createComponent", "as", "memo", "useHook", "useTimePickerSegment", "createHook", "name", "compose", "useSegment", "keys", "TIME_PICKER_SEGMENT_KEYS", "TimePickerSegment", "createComponent", "as", "memo", "useHook", "useTimePickerSegmentField", "createHook", "name", "compose", "useSegmentField", "keys", "TIME_PICKER_SEGMENT_FIELD_KEYS", "TimePickerSegmentField", "createComponent", "as", "memo", "useHook", "React", "useTimePickerState", "props", "value", "initialValue", "defaultValue", "defaultValueProp", "stringifyTime", "Date", "onChange", "onChangeProp", "formatOptions", "timeStyle", "placeholderDate", "autoFocus", "useCallback", "date", "time", "setTime", "useControllableState", "parseTime", "oldTime", "setOldTime", "useState", "updateOldTime", "restoreOldTime", "segmentState", "useSegmentState", "popover", "usePickerBaseState", "_objectSpread", "segmentFocus", "first", "setTimeProp", "hourState", "useTimePickerColumnState", "columnType", "visible", "minuteState", "meridiesState", "hours", "Array", "keys", "slice", "minutes", "meridies", "dateFormatter", "useDateFormatter", "announceSelectedDate", "announce", "format", "React", "useEffect", "useTimePickerTrigger", "createHook", "name", "compose", "usePickerBaseTrigger", "keys", "TIME_PICKER_TRIGGER_KEYS", "useProps", "_", "htmlProps", "_objectSpread", "TimePickerTrigger", "createComponent", "as", "memo", "useHook", "DEFAULT_TOAST_KEYS", "DEFAULT_TOAST_PROVIDER_KEYS", "CONFIGURABLE_TOAST_KEYS", "TOAST_KEYS", "React", "createToastStore", "defaultOptions", "ToastStoreProvider", "useToastStore", "createContext", "strict", "name", "errorMessage", "CreateToastProvider", "useCreateToast", "ToastHandlersProvider", "useToastHandlers", "ToastProvider", "props", "children", "rest", "_objectWithoutProperties", "_excluded", "toasts", "dispatch", "useToastState", "context", "useMemo", "createToast", "useCallback", "content", "opts", "_objectSpread", "visible", "reverseOrder", "createdAt", "Date", "now", "id", "genId", "JSON", "stringify", "addToast", "options", "toast", "type", "ActionType", "ADD_TOAST", "showToast", "setTimeout", "UPDATE_TOAST", "updateToast", "toastId", "updateFieldToast", "field", "fieldValue", "UPDATE_FIELD_TOAST", "updateAllToast", "UPDATE_ALL_TOAST", "dismissToast", "unmountDuration", "animationDuration", "DISMISS_TOAST", "REMOVE_TOAST", "removeToast", "_jsx", "displayName", "genId", "count", "toString", "getToast", "toasts", "toastId", "index", "findIndex", "toast", "id", "React", "ActionType", "TOAST_LIMIT", "reducer", "state", "action", "type", "ActionType", "ADD_TOAST", "maxToasts", "_objectSpread", "toasts", "toast", "reverseOrder", "slice", "UPDATE_TOAST", "map", "t", "id", "UPDATE_FIELD_TOAST", "field", "fieldValue", "UPDATE_ALL_TOAST", "UPSERT_TOAST", "find", "DISMISS_TOAST", "toastId", "undefined", "visible", "REMOVE_TOAST", "filter", "initialState", "useToastState", "dispatch", "useReducer", "import_react", "useToastTimer", "toasts", "updateToast", "dismissToast", "React", "useEffect", "now", "Date", "timeouts", "map", "t", "autoDismiss", "undefined", "pausedAt", "durationLeft", "dismissDuration", "pauseDuration", "createdAt", "visible", "id", "setTimeout", "forEach", "timeout", "clearTimeout", "pauseTimer", "useCallback", "toastId", "toast", "getToast", "resumeTimer", "diff", "import_react", "TOOLTIP_STATE_KEYS", "TOOLTIP_KEYS", "TOOLTIP_ANCHOR_KEYS", "TOOLTIP_ARROW_KEYS", "TOOLTIP_ARROW_CONTENT_KEYS", "TOOLTIP_CONTENT_KEYS", "TOOLTIP_REFERENCE_KEYS", "TOOLTIP_TRIGGER_KEYS", "useTooltip", "createHook", "name", "compose", "usePopover", "keys", "TOOLTIP_KEYS", "useOptions", "unstable_portal", "options", "_objectWithoutProperties", "_excluded", "_objectSpread", "useProps", "htmlProps", "style", "htmlStyle", "wrapElement", "htmlWrapElement", "restHtmlProps", "_excluded2", "React", "useCallback", "element", "_jsx", "pointerEvents", "Tooltip", "createComponent", "as", "memo", "useHook", "useTooltipAnchor", "createHook", "name", "compose", "usePopoverAnchor", "keys", "TOOLTIP_ANCHOR_KEYS", "useOptions", "options", "htmlProps", "useProps", "TooltipAnchor", "createComponent", "as", "memo", "useHook", "useTooltipArrow", "createHook", "name", "compose", "usePopoverArrow", "keys", "TOOLTIP_ARROW_KEYS", "useOptions", "options", "useProps", "htmlProps", "TooltipArrow", "createComponent", "as", "memo", "useHook", "useTooltipArrowContent", "createHook", "name", "compose", "usePopoverArrowContent", "keys", "TOOLTIP_ARROW_CONTENT_KEYS", "useOptions", "options", "useProps", "htmlProps", "TooltipArrowContent", "createComponent", "as", "memo", "useHook", "React", "state", "currentTooltipId", "listeners", "Set", "subscribe", "listener", "add", "delete", "show", "id", "forEach", "hide", "globallyHideTooltipContentOnEscape", "event", "defaultPrevented", "key", "globalState", "show", "useTooltipContent", "createHook", "name", "compose", "useDisclosureContent", "keys", "TOOLTIP_KEYS", "useOptions", "options", "useProps", "ref", "htmlRef", "style", "htmlStyle", "htmlProps", "_objectWithoutProperties", "_excluded", "React", "useEffect", "document", "getDocument", "popper", "addEventListener", "_objectSpread", "useForkRef", "setPopper", "role", "pointerEvents", "TooltipContent", "createComponent", "as", "memo", "useHook", "React", "useTooltipReference", "createHook", "name", "compose", "useRole", "keys", "TOOLTIP_REFERENCE_KEYS", "useProps", "options", "ref", "htmlRef", "onFocus", "htmlOnFocus", "onBlur", "htmlOnBlur", "onMouseEnter", "htmlOnMouseEnter", "onMouseLeave", "htmlOnMouseLeave", "htmlProps", "_objectWithoutProperties", "_excluded", "show", "hide", "baseId", "setAnchor", "onFocusRef", "useLiveRef", "onBlurRef", "onMouseEnterRef", "onMouseLeaveRef", "useCallback", "event", "current", "defaultPrevented", "_objectSpread", "useForkRef", "tabIndex", "TooltipReference", "createComponent", "as", "useHook", "React", "useTooltipState", "props", "unstable_timeout", "initialTimeout", "restProps", "_objectWithoutProperties", "_excluded", "timeout", "setTimeout", "useState", "showTimeout", "useRef", "hideTimeout", "usePopoverState", "_objectSpread", "modal", "setModal", "popover", "_excluded2", "clearTimeouts", "useCallback", "current", "window", "clearTimeout", "hide", "globalState", "baseId", "show", "currentTooltipId", "React", "useEffect", "subscribe", "id", "visible", "unstable_setTimeout", "React", "useTooltipTrigger", "createHook", "name", "compose", "useRole", "keys", "TOOLTIP_TRIGGER_KEYS", "useProps", "options", "ref", "htmlRef", "onFocus", "htmlOnFocus", "onBlur", "htmlOnBlur", "onMouseEnter", "htmlOnMouseEnter", "onMouseLeave", "htmlOnMouseLeave", "htmlProps", "_objectWithoutProperties", "_excluded", "show", "hide", "baseId", "onFocusRef", "useLiveRef", "onBlurRef", "onMouseEnterRef", "onMouseLeaveRef", "useCallback", "event", "current", "defaultPrevented", "_objectSpread", "tabIndex", "TooltipTrigger", "createComponent", "as", "useHook"]
}
